{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\translate\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\translate\\index.vue","mtime":1601036333191},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vaW1wb3J0IGhlYWx0aFJlY29yZERldGFpbCBmcm9tICJAL3BhZ2VzL21haW4vYXBwb2ludG1lbnQvaGVhbHRoX3JlY29yZF9kZXRhaWwudnVlIjsKaW1wb3J0IGNvbmYgZnJvbSAnQC9jb25mL2NvbmYuanMnCmV4cG9ydCBkZWZhdWx0ewoJLy8gY29tcG9uZW50czp7CgkvLyAJaGVhbHRoUmVjb3JkRGV0YWlsLAoJLy8gfSwKCWRhdGEoKXsKCQlyZXR1cm4gewoJCQl2aWV3OnsKCQkJCXRhYmxlSGVpZ2h0OjY1MCwKCQkJCWZpbGU6ZmFsc2UsCgkJCQlwYXRpZW50czpmYWxzZSwKCQkJfSwKCQkJdXBsb2FkRGF0YTp7CgkJCQltb2RlOiJ1cGxvYWQiCgkJCX0sCgkJCWxvYWRGaWxlOnt9LAoJCQl1cGxvYWRVcmw6Y29uZi5nZXRDdXJyZW50VXBsb2FkQWRkcigpLAoJCQlzZWxlY3RDdXN0b21lcjp7fSwKCQkJZGF0YXM6W10sCgkJCVBhZ2VTaXplOiAyMCwKCQkJUGFnZTogMSwKCQkJdG90YWw6IDAsCgkJCXNlYXJjaDoiIiwKCQl9Cgl9LAoJbWV0aG9kczp7CgkJb25GaWxlUmVtb3ZlKCl7CgkJCXRoaXMubG9hZEZpbGUgPSB7fTsKCQl9LAoJCW9uRmlsZShlKXsKCQkJdGhpcy5sb2FkRmlsZSA9IGUuRGF0YTsKCQl9LAoJCW9wZW5VcGxvYWQoZGF0YSl7CgkJCXRoaXMuc2VsZWN0Q3VzdG9tZXIgPSBkYXRhOwoJCQl0aGlzLnZpZXcuZmlsZSA9IHRydWU7CgkJfSwKCQlkb3dubG9hZEZpbGUocGF0aCl7CgkJCWlmKCFwYXRoKXsKCQkJCXRoaXMuJHRpcHMud2FybmluZygi5paH5Lu25Zyw5Z2A5LiN5a2Y5ZyoIik7CgkJCQlyZXR1cm4KCQkJfQoJCQl3aW5kb3cub3Blbihjb25mLmdldEN1cnJlbnRTZXJ2ZUFkZHIoIm1haW4iKStwYXRoKTsKCQl9LAoJCWRvd25sb2FkT3JpZ2luKHBhdGgpewoJCQlpZighcGF0aCl7CgkJCQl0aGlzLiR0aXBzLndhcm5pbmcoIuaWh+S7tuWcsOWdgOS4jeWtmOWcqCIpOwoJCQkJcmV0dXJuCgkJCX0KCQkJd2luZG93Lm9wZW4oY29uZi5nZXRDdXJyZW50U2VydmVBZGRyKCJtYWluIikrcGF0aCk7CgkJfSwKCQlhc3luYyB1cGxvYWRUcmFuc2xhdGUoKXsKCQkJaWYodGhpcy5sb2FkRmlsZS5pZHN0ci5sZW5ndGggPT0gMCl7CgkJCQl0aGlzLiR0aXBzLndhcm5pbmcoIuivt+S4iuS8oOmZhOS7tiIpOwoJCQkJcmV0dXJuIAoJCQl9CgkJCWxldCBwYXJhbXMgPSB7CgkJCQlUcmFuc2xhdGlvblJlY29yZEd1aWQ6dGhpcy5zZWxlY3RDdXN0b21lci5UcmFuc2xhdGlvblJlY29yZEd1aWQsCgkJCQlGaWxlSWQ6dGhpcy5sb2FkRmlsZS5pZHN0ciwKCQkJfQoJCQlsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLnBvc3QoIi9NZWRpY2FsL1VwZGF0ZVRyYW5zbGF0aW9uIixwYXJhbXMpCgkJCWlmICghcmVzLklzUG9zaXRpdmUpIHsKCQkJCXRoaXMuJHRpcHMud2FybmluZygi5pu05paw6ZSZ6K+vIik7CgkJCQlyZXR1cm47CgkJCX0KCQkJdGhpcy4kdGlwcy5zdWNjZXNzKCLmm7TmlrDmiJDlip8iKTsKCQkJdGhpcy5zZWxlY3RDdXN0b21lci5HYWVhT2JqZWN0UHJvcGVydHkgKz0gMjsKCQkJdGhpcy52aWV3LmZpbGUgPSBmYWxzZTsKCQkJdGhpcy5sb2FkRmlsZSA9IHt9OwoJCQl0aGlzLmdldERhdGFzKCk7CgkJfSwKCQlhc3luYyBnZXREYXRhcygpewoJCQlsZXQgcGFyYW1zID0gewoJCQkJcGFnZTogdGhpcy5QYWdlLAoJCQkJUGFnZVNpemU6IHRoaXMuUGFnZVNpemUKCQkJfQoJCQlsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldCgiL01lZGljYWwvUXVlcnlUcmFuc2xhdGlvbnMiLHBhcmFtcykKCQkJdGhpcy5kYXRhcyA9IHJlcy5EYXRhLkRhdGFMaXN0OwoJCQl0aGlzLnRvdGFsID0gcmVzLkRhdGEuVG90YWxDb3VudDsKCQl9Cgl9LAoJY3JlYXRlZCgpIHsKCQl0aGlzLnZpZXcudGFibGVIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQvMTAwICogNzU7Cgl9LAoJbW91bnRlZCgpIHsKCQl0aGlzLmdldERhdGFzKCk7CgkJCgl9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"pages/main/translate","sourcesContent":["<template>\r\n\t<el-row>\r\n\t\t<el-col :span=\"24\">\r\n\t\t\t<el-table :height=\"view.tableHeight\" :data=\"datas\" border>\r\n\t\t\t\t<el-table-column type=\"index\" label=\"序号\" width=\"80\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"CustomerName\" label=\"约诊患者\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"PhoneNO\" label=\"手机号码\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"患者病例\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-link @click=\"downloadOrigin(scope.row.OriginFilePath)\" type=\"primary\">附件</el-link>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"状态\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-link v-if=\"(scope.row.GaeaObjectProperty & 2) > 0\" type=\"info\">已翻译</el-link>\r\n\t\t\t\t\t\t<el-link v-if=\"(scope.row.GaeaObjectProperty & 2) == 0\" type=\"primary\">待翻译</el-link>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"翻译结果\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-link v-if=\"(scope.row.GaeaObjectProperty & 2) > 0\" @click=\"downloadFile(scope.row.FilePath)\" type=\"primary\">附件</el-link>\r\n\t\t\t\t\t\t<el-link v-if=\"(scope.row.GaeaObjectProperty & 2) == 0\" @click=\"openUpload(scope.row)\" type=\"primary\">上传结果</el-link>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<el-pagination\r\n\t\t\t\tstyle=\"margin:10px 0;\"\r\n\t\t\t\tbackground\r\n\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t:page-sizes=\"[20,50,100,200]\"\r\n\t\t\t\t:page-size=\"20\"\r\n\t\t\t\t:total=\"total\"\r\n\t\t\t></el-pagination>\r\n\t\t</el-col>\r\n\t\t<!-- 费用收取弹窗 -->\r\n\t\t<el-dialog title=\"上传附件\" :visible.sync=\"view.file\">\r\n\t\t\t<el-form ref=\"files\">\r\n\t\t\t\t<el-form-item label=\"上传附件\">\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<el-upload\r\n\t\t\t\t\t\tclass=\"upload-demo\"\r\n\t\t\t\t\t\tdrag\r\n\t\t\t\t\t\taccept=\"image/jpeg, image/jpg, image/png,application/pdf\"\r\n\t\t\t\t\t\t:action=\"uploadUrl\"\r\n\t\t\t\t\t\t:data=\"uploadData\"\r\n\t\t\t\t\t\t:on-success=\"onFile\"\r\n\t\t\t\t\t\t:on-remove=\"onFileRemove\"\r\n\t\t\t\t\t\t:multiple=\"false\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i class=\"el-icon-upload\"></i>\r\n\t\t\t\t\t\t<div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n\t\t\t\t\t\t<div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png/pdf文件，且不超过500kb</div>\r\n\t\t\t\t\t</el-upload>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"view.file = false\">取消</el-button>\r\n\t\t\t\t<el-button @click=\"uploadTranslate\" type=\"primary\">继续</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t\t<!-- <el-dialog title=\"患者病历\" :visible.sync=\"view.patients\">\r\n\t\t\t<health-record-detail :id=\"selectCustomer.CustomerGuid\"></health-record-detail>\r\n\t\t</el-dialog> -->\r\n\t</el-row>\r\n</template>\r\n\r\n<script>\r\n\t//import healthRecordDetail from \"@/pages/main/appointment/health_record_detail.vue\";\r\n\timport conf from '@/conf/conf.js'\r\n\texport default{\r\n\t\t// components:{\r\n\t\t// \thealthRecordDetail,\r\n\t\t// },\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tview:{\r\n\t\t\t\t\ttableHeight:650,\r\n\t\t\t\t\tfile:false,\r\n\t\t\t\t\tpatients:false,\r\n\t\t\t\t},\r\n\t\t\t\tuploadData:{\r\n\t\t\t\t\tmode:\"upload\"\r\n\t\t\t\t},\r\n\t\t\t\tloadFile:{},\r\n\t\t\t\tuploadUrl:conf.getCurrentUploadAddr(),\r\n\t\t\t\tselectCustomer:{},\r\n\t\t\t\tdatas:[],\r\n\t\t\t\tPageSize: 20,\r\n\t\t\t\tPage: 1,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tsearch:\"\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tonFileRemove(){\r\n\t\t\t\tthis.loadFile = {};\r\n\t\t\t},\r\n\t\t\tonFile(e){\r\n\t\t\t\tthis.loadFile = e.Data;\r\n\t\t\t},\r\n\t\t\topenUpload(data){\r\n\t\t\t\tthis.selectCustomer = data;\r\n\t\t\t\tthis.view.file = true;\r\n\t\t\t},\r\n\t\t\tdownloadFile(path){\r\n\t\t\t\tif(!path){\r\n\t\t\t\t\tthis.$tips.warning(\"文件地址不存在\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\twindow.open(conf.getCurrentServeAddr(\"main\")+path);\r\n\t\t\t},\r\n\t\t\tdownloadOrigin(path){\r\n\t\t\t\tif(!path){\r\n\t\t\t\t\tthis.$tips.warning(\"文件地址不存在\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\twindow.open(conf.getCurrentServeAddr(\"main\")+path);\r\n\t\t\t},\r\n\t\t\tasync uploadTranslate(){\r\n\t\t\t\tif(this.loadFile.idstr.length == 0){\r\n\t\t\t\t\tthis.$tips.warning(\"请上传附件\");\r\n\t\t\t\t\treturn \r\n\t\t\t\t}\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tTranslationRecordGuid:this.selectCustomer.TranslationRecordGuid,\r\n\t\t\t\t\tFileId:this.loadFile.idstr,\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$api.post(\"/Medical/UpdateTranslation\",params)\r\n\t\t\t\tif (!res.IsPositive) {\r\n\t\t\t\t\tthis.$tips.warning(\"更新错误\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$tips.success(\"更新成功\");\r\n\t\t\t\tthis.selectCustomer.GaeaObjectProperty += 2;\r\n\t\t\t\tthis.view.file = false;\r\n\t\t\t\tthis.loadFile = {};\r\n\t\t\t\tthis.getDatas();\r\n\t\t\t},\r\n\t\t\tasync getDatas(){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tpage: this.Page,\r\n\t\t\t\t\tPageSize: this.PageSize\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$api.get(\"/Medical/QueryTranslations\",params)\r\n\t\t\t\tthis.datas = res.Data.DataList;\r\n\t\t\t\tthis.total = res.Data.TotalCount;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.view.tableHeight = window.innerHeight/100 * 75;\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getDatas();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}