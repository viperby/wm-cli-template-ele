{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\departent\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\departent\\index.vue","mtime":1601036333108},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjb25mIGZyb20gJ0AvY29uZi9jb25mLmpzJwppbXBvcnQgZG9jdG9ycyBmcm9tICdAL3BhZ2VzL21haW4vZGVwYXJ0ZW50L2RvY3RvcnMudnVlJwppbXBvcnQgRSBmcm9tICd3YW5nZWRpdG9yJwpleHBvcnQgZGVmYXVsdCB7Cgljb21wb25lbnRzOnsKCQlkb2N0b3JzCgl9LAoJZGF0YSgpewoJCS8vbGV0IHVwbG9hZFVyaSA9IGNvbmYuZ2V0Q3VycmVudFVwbG9hZEFkZHIoKSsiP3Rva2VuPSIrCgkJcmV0dXJuIHsKCQkJZWRpdG9yOm51bGwsCgkJCXZpZXc6ewoJCQkJdGFibGVIZWlnaHQ6NjUwLAoJCQkJZGVwYXJ0ZW50SXNMb2FkaW5nOmZhbHNlLAoJCQl9LAoJCQlhZGRyZWxhdGlvbjpmYWxzZSwKCQkJZG9jdG9yUmVsYXRpb246ZmFsc2UsCgkJCWRwdFZpZXdJc0VkaXQ6ZmFsc2UsCgkJCWRlcGFydG1lbnRWaWV3OmZhbHNlLAoJCQlkb2N0b3JWaWV3OmZhbHNlLAoJCQlob3NwaXRhbFZpZXc6ZmFsc2UsCgkJCXVwbG9hZFVybDpjb25mLmdldEN1cnJlbnRVcGxvYWRBZGRyKCksCgkJCWhlYWRJbWdEYXRhOnsKCQkJCWZpbGVOYW1lOiIiLAoJCQkJbW9kZToidXBsb2FkIiwJCQkJCgkJCX0sCgkJCWtleXdvcmQ6IiIsCgkJCWRhdGE6W10sCgkJCWRlcGFydG1lbnQ6W10sCgkJCWRlcGFydG1lbnROb2RlOltdLAoJCQlkZXBhcnRtZW50SW5mbzp7CgkJCQlPZmZpY2VUeXBlTmFtZToiIiwKCQkJCVBhcmVudEd1aWQ6IiIsCgkJCQlHYWVhT2JqZWN0UHJvcGVydHk6MCwKCQkJCURpYWdub3NlUmVwb3J0UmVxdWlyZW1lbnQ6IiIsCgkJCQlPZmZpY2VUeXBlRGVzY3JpcHRpb246IiIsCgkJCX0sCgkJCWRlZmF1bHRQcm9wczogewoJCQkJY2hpbGRyZW46ICdTdWJUeXBlTGlzdCcsCgkJCQlsYWJlbDogJ09mZmljZVR5cGVOYW1lJywKCQkJCUdhZWFPYmplY3RQcm9wZXJ0eTowLAoJCQl9LAoJCQljdXJyZW50RG9jdG9yOnt9LAoJCQljdXJyZW50RGVwYXJ0bWVudDp7fSwvL+eUqOS7peWkhOeQhuW9k+WJjee8lui+keenkeWupAoJCQlydWxlczp7CgkJCQlPZmZpY2VUeXBlTmFtZTpbCgkJCQkJeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgiZGVmYXVsdC5NT0RVTEUuREVQQVJUTUVOVC5JTlBVVF9ERVBBUlRNRU5UX05BTUUiKSwgdHJpZ2dlcjogJ2JsdXInIH0sCgkJCQldLAoJCQkJSG9zcGl0YWxOYW1lOlsKCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiB0aGlzLiR0KCdkZWZhdWx0LlRJUFMuQ0xJRU5ULklOUFVUX1NPTUVUSElORycse25hbWU6dGhpcy4kdCgnZGVmYXVsdC5NT0RVTEUuREVQQVJUTUVOVC5IT1NQSVRBTF9OQU1FJyl9KSwgdHJpZ2dlcjogJ2JsdXInIH0sCgkJCQldLAoJCQkJRG9jdG9yTG9naW5Db2RlOlsKCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiB0aGlzLiR0KCdkZWZhdWx0LlRJUFMuQ0xJRU5ULklOUFVUX1NPTUVUSElORycse25hbWU6dGhpcy4kdCgnZGVmYXVsdC5CQVNJQy5BQ0NPVU5UJyl9KSwgdHJpZ2dlcjogJ2JsdXInIH0sCgkJCQldLAoJCQkJRG9jdG9yTmFtZTpbCgkJCQkJeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgnZGVmYXVsdC5USVBTLkNMSUVOVC5JTlBVVF9TT01FVEhJTkcnLHtuYW1lOnRoaXMuJHQoJ2RlZmF1bHQuTU9EVUxFLkRFUEFSVE1FTlQuRE9DVE9SX05BTUUnKX0pLCB0cmlnZ2VyOiAnYmx1cicgfSwKCQkJCV0KCQkJfSwKCQkJZG9jdG9ySW5mbzp7CgkJCQlEb2N0b3JOYW1lOiIiLAoJCQkJRG9jdG9yTG9naW5Db2RlOiIiLAoJCQkJR2VuZGVyOnRoaXMuJHQoJ2RlZmF1bHQuSU5GT1MuTUFOJyksCgkJCQlIb3NwaXRhbEd1aWQ6IiIsCgkJCQlPZmZpY2VUeXBlR3VpZDpbXSwKCQkJCURvY3RvckRlc2NyaXB0aW9uOiIiLAkJCQoJCQl9LAoJCQlob3NwaXRhbEluZm86ewoJCQkJSG9zcGl0YWxOYW1lOiIiLAoJCQkJSG9zcGl0YWxEZXNjcmlwdGlvbjoiIgoJCQl9LAoJCQlob3NwaXRhbERhdGE6W10sCgkJCWN1cnJlbnRPZmZpY2VUeXBlOnt9LAoJCQlwYWdlc1BhcmFtczp7CgkJCQlQYWdlSW5kZXg6MSwKCQkJCVBhZ2VTaXplOjIwLAoJCQkJVG90YWw6MCwKCQkJfQoJCX0KCX0sCgljcmVhdGVkKCkgewoJCXRoaXMudmlldy50YWJsZUhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodC8xMDAgKiA3NTsKCX0sCgltZXRob2RzOnsKCQlzZWFyY2goKXsKCQkJdGhpcy5xdWVyeURlcGFydGVudERvY3RvcigpOwoJCX0sCgkJYWRkUmVsYXRpb24oKXsKCQkJdGhpcy5hZGRyZWxhdGlvbiA9IHRydWU7CgkJCXRoaXMuJHJlZnMuZG9jdG9ycy5jbGVhclNlbGVjdCgpOwoJCX0sCgkJcmVtb3ZlUmVsYXRpb24oZG9jb3RyKXsKCQkJdGhpcy5jdXJyZW50RG9jdG9yID0gZG9jb3RyOwoJCQl0aGlzLmRvY3RvclJlbGF0aW9uID0gdHJ1ZTsKCQl9LAoJCXJlc2V0UGFnZXMoKXsKCQkJdGhpcy5wYWdlc1BhcmFtcyA9IHsKCQkJCVBhZ2VJbmRleDoxLAoJCQkJUGFnZVNpemU6MjAsCgkJCQlUb3RhbDowLAoJCQl9CgkJfSwKCQlnZXRDdXJyZW50T2ZmaWNlVHlwZShkYXRhLG5vZGUpewoJCQl0aGlzLmN1cnJlbnRPZmZpY2VUeXBlID0gZGF0YTsKCQkJdGhpcy5yZXNldFBhZ2VzKCk7CgkJCXRoaXMucXVlcnlEZXBhcnRlbnREb2N0b3IoKTsKCQkJLy9jb25zb2xlLmxvZyhkYXRhLG5vZGUpCgkJfSwKCQliZWZvcmVBdmF0YXJVcGxvYWQoZmlsZSl7CgkJCWlmKCFmaWxlLnR5cGUuaXNJbWFnZSgpKXsKCQkJCXRoaXMuJHRpcHMud2FybmluZyh0aGlzLiR0KCJkZWZhdWx0LlRJUFMuQ0xJRU5ULklNQUdFX0lTX0VSUk9SIikpCgkJCQlyZXR1cm4KCQkJfQoJCQlpZighKGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMikpewoJCQkJdGhpcy4kdGlwcy53YXJuaW5nKHRoaXMuJHQoImRlZmF1bHQuVElQUy5DTElFTlQuSU1BR0VfU0laRV9JU19FUlJPUiIpKQoJCQkJcmV0dXJuCgkJCX0KCQkJdGhpcy5oZWFkSW1nRGF0YS5maWxlTmFtZSA9IGZpbGUubmFtZTsKCQl9LAoJCWFkZERvY3RvcigpewoJCQl0aGlzLmRvY3RvckluZm8uRG9jdG9yTmFtZSA9ICIiOwoJCQl0aGlzLmRvY3RvckluZm8uRG9jdG9yTG9naW5Db2RlID0gIiI7CgkJCXRoaXMuZG9jdG9ySW5mby5HZW5kZXIgPSB0aGlzLiR0KCdkZWZhdWx0LklORk9TLk1BTicpOwoJCQl0aGlzLmRvY3RvckluZm8uSG9zcGl0YWxHdWlkID0gdGhpcy4kbnVsbDsKCQkJdGhpcy5kb2N0b3JJbmZvLk9mZmljZVR5cGVHdWlkID0gW3RoaXMuY3VycmVudE9mZmljZVR5cGUuT2ZmaWNlVHlwZUd1aWRdOwoJCQl0aGlzLmRvY3RvckluZm8uRG9jdG9yRGVzY3JpcHRpb24gPSAiIjsKCQkJdGhpcy5kb2N0b3JWaWV3ID0gIXRoaXMuZG9jdG9yVmlldzsKCQl9LAoJCWFkZEhvc3BpdGFsKCl7CgkJCXRoaXMuaG9zcGl0YWxJbmZvLkhvc3BpdGFsTmFtZSA9ICIiOwoJCQl0aGlzLmhvc3BpdGFsSW5mby5Ib3NwaXRhbERlc2NyaXB0aW9uID0gIiI7CgkJCXRoaXMuaG9zcGl0YWxWaWV3ID0gdHJ1ZTsKCQl9LAoJCWhhbmRsZUN1cnJlbnRDaGFuZ2UoKXsKCQkJdGhpcy5xdWVyeURlcGFydGVudERvY3RvcigpOwoJCX0sCgkJaGFuZGxlU2l6ZUNoYW5nZSgpewoJCQkKCQl9LAoJCWFkZERlcGFydG1lbnQoKXsKCQkJaWYoIXRoaXMuZWRpdG9yKXsKCQkJCXNldFRpbWVvdXQoKCk9PnsKCQkJCQl0aGlzLmVkaXRvciA9IG5ldyBFKHRoaXMuJHJlZnMub2ZmaWNlRWRpdG9yKQoJCQkJCXRoaXMuZWRpdG9yLmNyZWF0ZSgpCgkJCQl9LDMwMCkJCgkJCX1lbHNlewoJCQkJdGhpcy5lZGl0b3IudHh0LmNsZWFyKCk7CgkJCX0KCQkJdGhpcy5kcHRWaWV3SXNFZGl0ID0gZmFsc2U7CgkJCXRoaXMuZGVwYXJ0bWVudEluZm8gPSB7CgkJCQlPZmZpY2VUeXBlTmFtZToiIiwKCQkJCVBhcmVudEd1aWQ6IiIsCgkJCX0KCQkJdGhpcy5kZXBhcnRtZW50VmlldyA9ICF0aGlzLmRlcGFydG1lbnRWaWV3OwkKCQl9LAoJCWVkaXRPZmZpY2VUeXBlKGl0ZW0pewoJCQl0aGlzLmN1cnJlbnREZXBhcnRtZW50ID0gaXRlbTsJCQkKCQkJdGhpcy5nZXRPZmZpY2VUeXBlRGV0YWlsKGl0ZW0uT2ZmaWNlVHlwZUd1aWQpOwoJCX0sCgkJbWFrZU5vZGVzKGRhdGEpewoJCQl0aGlzLmRlcGFydG1lbnROb2RlID0gW107CgkJCWZvcih2YXIgaSA9IDA7aSA8IGRhdGEubGVuZ3RoO2krKyl7CgkJCQl2YXIgaXRlbSA9IGRhdGFbaV07CgkJCQl0aGlzLmRlcGFydG1lbnROb2RlLnB1c2goaXRlbSk7CgkJCX0KCQkJaWYodGhpcy5kZXBhcnRtZW50Tm9kZS5sZW5ndGgpewoJCQkJaWYodGhpcy5kZXBhcnRtZW50Tm9kZVswXS5TdWJUeXBlTGlzdC5sZW5ndGgpewoJCQkJCXRoaXMuY3VycmVudE9mZmljZVR5cGUgPSB0aGlzLmRlcGFydG1lbnROb2RlWzBdLlN1YlR5cGVMaXN0WzBdOwoJCQkJfQoJCQl9CgkJfSwKCQlkb2N0b3JFbnRlcigpewoJCQlsZXQgJHMgPSB0aGlzOwoJCQkvL+mqjOivgeWMu+eUn+ihqOWNlQoJCQl0aGlzLiRyZWZzLmRvY3RvckZvcm0udmFsaWRhdGUoKHZhbGlkKT0+ewoJCQkJaWYodmFsaWQpewoJCQkJCSRzLmNyZWF0ZURvY3RvcigpOwoJCQkJfSBlbHNlIHsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0pCgkJfSwKCQlob3NwaXRhbEVudGVyKCl7CgkJCWxldCAkcyA9IHRoaXM7CgkJCS8v6aqM6K+B5Yy76Zmi6KGo5Y2VCgkJCXRoaXMuJHJlZnMuZG9jdG9yRm9ybS52YWxpZGF0ZSgodmFsaWQpPT57CgkJCQlpZih2YWxpZCl7CgkJCQkJJHMuY3JlYXRlSG9zcGl0YWwoKTsKCQkJCX0gZWxzZSB7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9KQoJCX0sCgkJb2ZmaWNlVHlwZUVudGVyKCl7CgkJCWxldCAkcyA9IHRoaXM7CgkJCS8v6aqM6K+B6KGo5Y2VCgkJCXRoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGUoKHZhbGlkKT0+ewoJCQkJaWYodmFsaWQpewoJCQkJCSRzLmRwdFZpZXdJc0VkaXQ/JHMudXBkYXRlT2ZmaWNlVHlwZSgpOiRzLmNyZWF0ZU9mZmljZVR5cGUoKTsKCQkJCX0gZWxzZSB7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9KQoJCX0sCgkJYXN5bmMgZ2V0T2ZmaWNlVHlwZURldGFpbCgpewoJCQlsZXQgcGFyYW1zID0gewoJCQkJT2ZmaWNlVHlwZUd1aWQ6dGhpcy5jdXJyZW50RGVwYXJ0bWVudC5PZmZpY2VUeXBlR3VpZCwKCQkJfQoJCQlsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldCgiL01lZGljYWwvR2V0T2ZmaWNlVHlwZURldGFpbCIscGFyYW1zKQoJCQlpZighcmVzLklzUG9zaXRpdmUpewoJCQkJdGhpcy4kdGlwcy53YXJuaW5nKCLojrflj5bor6bmg4XlpLHotKUiKTsKCQkJCXJldHVybgoJCQl9CgkJCXRoaXMuZGVwYXJ0bWVudEluZm8gPSB7CgkJCQlPZmZpY2VUeXBlTmFtZTpyZXMuRGF0YS5PZmZpY2VUeXBlTmFtZSwKCQkJCVBhcmVudEd1aWQ6cmVzLkRhdGEuUGFyZW50R3VpZCwKCQkJCUdhZWFPYmplY3RQcm9wZXJ0eTpyZXMuRGF0YS5HYWVhT2JqZWN0UHJvcGVydHksCgkJCQlEaWFnbm9zZVJlcG9ydFJlcXVpcmVtZW50OnJlcy5EYXRhLkRpYWdub3NlUmVwb3J0UmVxdWlyZW1lbnQsCgkJCX0KCQkJdGhpcy5kcHRWaWV3SXNFZGl0ID0gdHJ1ZTsKCQkJdGhpcy5kZXBhcnRtZW50VmlldyA9ICF0aGlzLmRlcGFydG1lbnRWaWV3OwkKCQkJaWYoIXRoaXMuZWRpdG9yKXsKCQkJCXNldFRpbWVvdXQoKCk9PnsKCQkJCQl0aGlzLmVkaXRvciA9IG5ldyBFKHRoaXMuJHJlZnMub2ZmaWNlRWRpdG9yKQoJCQkJCXRoaXMuZWRpdG9yLmNyZWF0ZSgpCgkJCQkJdGhpcy5lZGl0b3IudHh0Lmh0bWwocmVzLkRhdGEuT2ZmaWNlVHlwZURlc2NyaXB0aW9uKQoJCQkJfSwzMDApCQoJCQl9ZWxzZXsKCQkJCXRoaXMuZWRpdG9yLnR4dC5jbGVhcigpOwoJCQkJdGhpcy5lZGl0b3IudHh0Lmh0bWwocmVzLkRhdGEuT2ZmaWNlVHlwZURlc2NyaXB0aW9uKTsKCQkJfQoJCX0sCgkJCgkJYXN5bmMgc2V0UmVsYXRpb24oKXsKCQkJbGV0IHNlbGV0cyA9IHRoaXMuJHJlZnMuZG9jdG9ycy5zZWxldHM7CgkJCWlmKHNlbGV0cy5sZW5ndGggPCAxKXsKCQkJCXRoaXMuJHRpcHMud2FybmluZygi6K+36YCJ5oup6Iez5bCR5LiA5Liq5Yy755SfIik7CgkJCQlyZXR1cm4KCQkJfQoJCQlsZXQgcGFyYW1zID0gewoJCQkJT2ZmaWNlVHlwZUd1aWQ6dGhpcy5jdXJyZW50T2ZmaWNlVHlwZS5PZmZpY2VUeXBlR3VpZCwKCQkJCURvY3Rvckd1aWQ6dGhpcy4kcmVmcy5kb2N0b3JzLnNlbGV0cy5qb2luKCIsIikKCQkJfQoJCQlsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldCgiL01lZGljYWwvQWRkRG9jdG9yUmVsYXRpb24iLHBhcmFtcykKCQkJaWYoIXJlcy5Jc1Bvc2l0aXZlKXsKCQkJCXRoaXMuJHRpcHMud2FybmluZygi5YWz6IGU5aSx6LSlIik7CgkJCQlyZXR1cm4KCQkJfQoJCQl0aGlzLmFkZHJlbGF0aW9uID0gZmFsc2U7CgkJCXRoaXMuJHRpcHMuc3VjY2Vzcygi5YWz6IGU5oiQ5YqfIik7CgkJCXRoaXMucXVlcnlEZXBhcnRlbnREb2N0b3IoKTsKCQl9LAoJCS8q6Kej6Zmk5YWz6IGUKi8KCQlhc3luYyB1cGRhdGVSZWxhdGlvbigpewoJCQlsZXQgcGFyYW1zID0gewoJCQkJU2V0dGluZ0d1aWQ6dGhpcy5jdXJyZW50RG9jdG9yLlNldHRpbmdHdWlkCgkJCX0KCQkJbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5nZXQoIi9NZWRpY2FsL1JlbW92ZURvY3RvclJlbGF0aW9uIixwYXJhbXMpCgkJCWlmKCFyZXMuSXNQb3NpdGl2ZSl7CgkJCQl0aGlzLiR0aXBzLndhcm5pbmcoIuino+mZpOWksei0pSIpOwoJCQkJcmV0dXJuCgkJCX0KCQkJdGhpcy4kdGlwcy5zdWNjZXNzKCLop6PpmaTmiJDlip8iKTsKCQkJdGhpcy5kb2N0b3JSZWxhdGlvbiA9IGZhbHNlOwoJCQl0aGlzLnF1ZXJ5RGVwYXJ0ZW50RG9jdG9yKCk7CgkJfSwKCQkvKuWIm+W7uuWMu+eUnyovCgkJYXN5bmMgY3JlYXRlRG9jdG9yKCl7CgkJCWxldCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LHRoaXMuZG9jdG9ySW5mbyk7CgkJCXBhcmFtcy5PZmZpY2VUeXBlR3VpZCA9IHBhcmFtcy5PZmZpY2VUeXBlR3VpZC5qb2luKCIsIik7CgkJCS8vcGFyYW1zLk9mZmljZVR5cGVHdWlkID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zLk9mZmljZVR5cGVHdWlkKTsKCQkJbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5idXMuTWVkaWNhbC5jcmVhdGVEb2N0b3IocGFyYW1zKTsKCQkJaWYoIXJlcy5Jc1Bvc2l0aXZlKXsKCQkJCXRoaXMuJHRpcHMud2FybmluZygi5Yib5bu65aSx6LSlIik7CgkJCQlyZXR1cm4KCQkJfQoJCQl0aGlzLiR0aXBzLnN1Y2Nlc3MoIuWIm+W7uuaIkOWKnyIpOwoJCQl0aGlzLnF1ZXJ5RGVwYXJ0ZW50RG9jdG9yKCk7CgkJfSwKCQlhc3luYyBxdWVyeURlcGFydGVudERvY3RvcigpewoJCQlsZXQgcGFyYW1zID0gewoJCQkJUGFnZUluZGV4OnRoaXMucGFnZXNQYXJhbXMuUGFnZUluZGV4LAoJCQkJUGFnZVNpemU6dGhpcy5wYWdlc1BhcmFtcy5QYWdlU2l6ZSwKCQkJCWtleXdvcmQ6dGhpcy5rZXl3b3JkLAoJCQkJT2ZmaWNlVHlwZUd1aWQ6dGhpcy5jdXJyZW50T2ZmaWNlVHlwZS5PZmZpY2VUeXBlR3VpZCwKCQkJfQoJCQlsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldCgiL01lZGljYWwvUXVlcnlPZmZpY2VUeXBlMkRvY3RvciIscGFyYW1zKTsKCQkJaWYoIXJlcy5Jc1Bvc2l0aXZlKXsKCQkJCXRoaXMuJHRpcHMud2FybmluZygi5p+l6K+i5aSx6LSlIik7CgkJCQlyZXR1cm4KCQkJfQoJCQlmb3IodmFyIGkgPSAwO2kgPCByZXMuRGF0YS5EYXRhTGlzdC5sZW5ndGg7aSsrKXsKCQkJCXZhciBpdGVtID0gcmVzLkRhdGEuRGF0YUxpc3RbaV07CgkJCQlpdGVtLk9yZGVyID0gaSsxOwoJCQkJaXRlbS5Ib3NwaXRhbE5hbWUgPSBpdGVtLkhvc3BpdGFsTmFtZSB8fCB0aGlzLiR0KCJkZWZhdWx0LkJBU0lDLlVOS05PVyIpOwoJCQl9CgkJCXRoaXMucGFnZXNQYXJhbXMuVG90YWwgPSByZXMuRGF0YS5Ub3RhbDsKCQkJdGhpcy5kYXRhID0gcmVzLkRhdGEuRGF0YUxpc3Q7CgkJfSwKCQkvKuWIm+W7uuWMu+mZoiovCgkJYXN5bmMgY3JlYXRlSG9zcGl0YWwoKXsKCQkJbGV0IHBhcmFtcyA9IHsKCQkJCUhvc3BpdGFsTmFtZTp0aGlzLmhvc3BpdGFsSW5mby5Ib3NwaXRhbE5hbWUsCgkJCQlIb3NwaXRhbERlc2NyaXB0aW9uOnRoaXMuaG9zcGl0YWxJbmZvLkhvc3BpdGFsRGVzY3JpcHRpb24sCgkJCX0KCQkJbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5idXMuTWVkaWNhbC5jcmVhdGVIb3NwaXRhbChwYXJhbXMpCgkJCWlmKCFyZXMuSXNQb3NpdGl2ZSl7CgkJCQl0aGlzLiR0aXBzLndhcm5pbmcoIuWIm+W7uuWksei0pSIpOwoJCQkJcmV0dXJuCgkJCX0KCQkJdGhpcy4kdGlwcy5zdWNjZXNzKCLliJvlu7rmiJDlip8iKTsKCQkJdGhpcy5ob3NwaXRhbFZpZXcgPSBmYWxzZTsKCQkJdGhpcy5nZXRIb3NwaXRhbCgpOwoJCX0sCgkJLyrmn6Xor6LljLvpmaIqLwoJCWFzeW5jIGdldEhvc3BpdGFsKCl7CgkJCWxldCBwYXJhbXMgPSB7CgkJCQlQYWdlSW5kZXg6MSwKCQkJCVBhZ2VTaXplOjIwLAoJCQkJUm93RmlsdGVyOiIiCgkJCX0KCQkJbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5idXMuTWVkaWNhbC5xdWVyeUhvc3BpdGFsKHBhcmFtcykKCQkJaWYoIXJlcy5Jc1Bvc2l0aXZlKXsKCQkJCXRoaXMuJHRpcHMud2FybmluZygi5p+l6K+i5aSx6LSlIik7CgkJCQlyZXR1cm4KCQkJfQoJCQkKCQl9LAoJCS8q5pu05paw56eR5a6kKi8KCQlhc3luYyB1cGRhdGVPZmZpY2VUeXBlKCl7CgkJCWxldCBwYXJhbXMgPSB7CgkJCQlPZmZpY2VUeXBlTmFtZTp0aGlzLmRlcGFydG1lbnRJbmZvLk9mZmljZVR5cGVOYW1lLAoJCQkJUGFyZW50R3VpZDp0aGlzLmRlcGFydG1lbnRJbmZvLlBhcmVudEd1aWQsCgkJCQlPZmZpY2VUeXBlR3VpZDp0aGlzLmN1cnJlbnREZXBhcnRtZW50Lk9mZmljZVR5cGVHdWlkLAoJCQkJR2FlYU9iamVjdFByb3BlcnR5OnRoaXMuZGVwYXJ0bWVudEluZm8uR2FlYU9iamVjdFByb3BlcnR5LAoJCQkJRGlhZ25vc2VSZXBvcnRSZXF1aXJlbWVudDp0aGlzLmRlcGFydG1lbnRJbmZvLkRpYWdub3NlUmVwb3J0UmVxdWlyZW1lbnQsCgkJCQlPZmZpY2VUeXBlRGVzY3JpcHRpb246dGhpcy5lZGl0b3IudHh0Lmh0bWwoKSwKCQkJfQoJCQlsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmJ1cy5NZWRpY2FsLnVwZGF0ZU9mZmljZVR5cGUocGFyYW1zKTsKCQkJaWYoIXJlcy5Jc1Bvc2l0aXZlKXsKCQkJCXRoaXMuJHRpcHMud2FybmluZygi5pu05paw5aSx6LSlIik7CgkJCQlyZXR1cm4KCQkJfQoJCQl0aGlzLiR0aXBzLnN1Y2Nlc3ModGhpcy4kdCgiZGVmYXVsdC5USVBTLkNMSUVOVC5VUERBVEVfSVNfU1VDQ0VTUyIse25hbWU6dGhpcy4kdCgiZGVmYXVsdC5NT0RVTEUuREVQQVJUTUVOVC5OQU1FIil9KSk7CgkJCS8vVE9ETzrlvZPlop7liqDlrozmiJDml7blupTnm7TmjqXlsIbliJfooajkuK3lr7nosaHnm7TmjqXkv67mlLnvvIzogIzkuI3mmK/ph43mlrDojrflj5YKCQkJdGhpcy5xdWVyeU9mZmljZVR5cGUoKTsKCQkJdGhpcy5kZXBhcnRtZW50VmlldyA9ICF0aGlzLmRlcGFydG1lbnRWaWV3OwkKCQl9LAoJCS8q5Yib5bu656eR5a6kKi8KCQlhc3luYyBjcmVhdGVPZmZpY2VUeXBlKCl7CgkJCWxldCBwYXJhbXMgPSB7CgkJCQlPZmZpY2VUeXBlTmFtZTp0aGlzLmRlcGFydG1lbnRJbmZvLk9mZmljZVR5cGVOYW1lLAoJCQkJUGFyZW50R3VpZDp0aGlzLmRlcGFydG1lbnRJbmZvLlBhcmVudEd1aWQsCgkJCQlEaWFnbm9zZVJlcG9ydFJlcXVpcmVtZW50OnRoaXMuZGVwYXJ0bWVudEluZm8uRGlhZ25vc2VSZXBvcnRSZXF1aXJlbWVudCwKCQkJCU9mZmljZVR5cGVEZXNjcmlwdGlvbjp0aGlzLmVkaXRvci50eHQuaHRtbCgpLAoJCQl9CgkJCXBhcmFtcy5QYXJlbnRHdWlkID0gcGFyYW1zLlBhcmVudEd1aWQgPT0gIiI/dGhpcy4kbnVsbDpwYXJhbXMuUGFyZW50R3VpZDsKCQkJbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5idXMuTWVkaWNhbC5jcmVhdGVPZmZpY2VUeXBlKHBhcmFtcyk7CgkJCWlmKCFyZXMuSXNQb3NpdGl2ZSl7CgkJCQl0aGlzLiR0aXBzLndhcm5pbmcoIuWIm+W7uuWksei0pSIpOwoJCQkJcmV0dXJuCgkJCX0KCQkJdGhpcy4kdGlwcy5zdWNjZXNzKHRoaXMuJHQoImRlZmF1bHQuVElQUy5DTElFTlQuQ1JFQVRFX0lTX1NVQ0NFU1MiLHtuYW1lOnRoaXMuJHQoImRlZmF1bHQuTU9EVUxFLkRFUEFSVE1FTlQuTkFNRSIpfSkpOwoJCQl0aGlzLmFkZERlcGFydG1lbnQoKTsKCQkJLy9UT0RPOuW9k+WinuWKoOWujOaIkOaXtuW6lOebtOaOpeWwhui/lOWbnuWvueixoeWKoOWFpeWIl+ihqO+8jOiAjOS4jeaYr+mHjeaWsOiOt+WPlgoJCQl0aGlzLnF1ZXJ5T2ZmaWNlVHlwZSgpOwoJCX0sCgkJLyrmn6Xor6Lnp5HlrqQqLwoJCWFzeW5jIHF1ZXJ5T2ZmaWNlVHlwZSgpewoJCQl0aGlzLnZpZXcuZGVwYXJ0ZW50SXNMb2FkaW5nID0gdHJ1ZTsKCQkJbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5idXMuTWVkaWNhbC5xdWVyeU9mZmljZVR5cGUoKTsKCQkJdGhpcy52aWV3LmRlcGFydGVudElzTG9hZGluZyA9IGZhbHNlOwoJCQlpZighcmVzLklzUG9zaXRpdmUpewoJCQkJcmV0dXJuCgkJCX0KCQkJdGhpcy5kZXBhcnRtZW50ID0gcmVzLkRhdGEuRGF0YUxpc3Q7CgkJCXRoaXMubWFrZU5vZGVzKHJlcy5EYXRhLkRhdGFMaXN0KTsKCQkJdGhpcy5xdWVyeURlcGFydGVudERvY3RvcigpOwoJCX0KCX0sCgltb3VudGVkKCkgewoJCXRoaXMucXVlcnlPZmZpY2VUeXBlKCk7CgkJdGhpcy5nZXRIb3NwaXRhbCgpOwoJfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"pages/main/departent","sourcesContent":["<template>\r\n<div class=\"testbody\">\r\n\t<el-row>\r\n\t\t<el-col :span=\"24\" style=\"margin-bottom: 15px;\">\r\n\t\t\t<el-row type=\"flex\" :gutter=\"10\">\r\n\t\t\t\t<el-col :span=\"10\">\t\t\t\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t<el-input @keyup.enter.native=\"search()\" :placeholder=\"$t('default.TIPS.CLIENT.INPUT_SEARCH')\" v-model=\"keyword\"></el-input>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"2\" style=\"margin-left:5px\">\r\n\t\t\t\t\t<el-button @click=\"search()\" type=\"primary\">搜索</el-button>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"4\" style=\"text-align: right;\">\r\n\t\t\t\t\t<!-- <el-button @click=\"addDoctor()\" type=\"primary\" icon=\"el-icon-plus\">{{ $t(\"default.MODULE.DEPARTMENT.ADD_DOCTOR\") }}</el-button> -->\r\n\t\t\t\t\t<el-button @click=\"addRelation()\" icon=\"el-icon-connection\">关联医生</el-button>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-col>\r\n\t\t<el-col :span=\"24\">\r\n\t\t\t<el-row type=\"flex\" :gutter=\"10\">\r\n\t\t\t\t<!-- 科室树 -->\r\n\t\t\t\t<el-col v-loading=\"\" :span=\"6\">\r\n\t\t\t\t\t<el-card shadow=\"never\" style=\"margin:0;width: 100%;\">\r\n\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t<span>{{ $t(\"default.MODULE.DEPARTMENT.DEPARTMENT_LIST\") }}</span>\r\n\t\t\t\t\t\t\t<el-button @click=\"addDepartment\" style=\"float: right; padding: 3px 0\" type=\"text\">{{ $t('default.MODULE.DEPARTMENT.ADD_DEPARTMENT') }}</el-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<el-scrollbar :style=\"{'height':view.tableHeight + 'px'}\">\r\n\t\t\t\t\t\t\t<el-tree class=\"office_type_treepanel\" :current-node-key=\"currentOfficeType.OfficeTypeGuid\" default-expand-all :data=\"department\" :props=\"defaultProps\" node-key=\"OfficeTypeGuid\" :empty-text=\"$t('default.TIPS.CLIENT.DATA_IS_NULL')\" @node-click=\"getCurrentOfficeType\">\r\n\t\t\t\t\t\t\t\t<span class=\"custom-tree-node\" slot-scope=\"{ node,data }\">\r\n\t\t\t\t\t\t\t\t\t<!-- <span>{{ data.OfficeTypeName }}</span> -->\r\n\t\t\t\t\t\t\t\t\t<el-button type=\"text\" :disabled=\"(data.GaeaObjectProperty & 524288)>0\">{{ data.OfficeTypeName }}</el-button>\r\n\t\t\t\t\t\t\t\t\t<span class=\"js-setting\" style=\"display: none;\">\r\n\t\t\t\t\t\t\t\t\t\t<el-button @click.stop=\"editOfficeType(data)\" type=\"text\" size=\"mini\" class=\"el-icon-setting\" style=\"font-size: 18px;\"></el-button>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</el-tree>\r\n\t\t\t\t\t\t</el-scrollbar>\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t</el-col>\t\r\n\t\t\t\t<!-- 医生列表 -->\r\n\t\t\t\t<el-col :span=\"18\">\r\n\t\t\t\t\t<el-table :height=\"view.tableHeight\"  :data=\"data\" :header-row-style=\"{'height':'58px'}\" :empty-text=\"$t('default.TIPS.CLIENT.DATA_IS_NULL')\" border>\r\n\t\t\t\t\t\t<el-table-column prop=\"Order\" :label=\"$t('default.INFOS.ORDER')\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"DoctorName\" :label=\"$t('default.INFOS.NAME')\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"HospitalName\" :label=\"$t('default.MODULE.DEPARTMENT.AFFILIATED_HOSPITAL')\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column :label=\"$t('default.BASIC.OPERATION')\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-button @click=\"removeRelation(scope.row)\" type=\"text\" size=\"small\">解除关联</el-button>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t</el-table>\r\n\t\t\t\t\t<!-- 分页器 -->\r\n\t\t\t\t\t<!-- <el-pagination\r\n\t\t\t\t\t\t@size-change=\"handleSizeChange\"\r\n\t\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t\t:current-page=\"pagesParams.PageIndex\"\r\n\t\t\t\t\t\t:page-sizes=\"[20, 40, 60, 100]\"\r\n\t\t\t\t\t\t:page-size=\"pagesParams.PageSize\"\r\n\t\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t\t:total=\"pagesParams.Total\">\r\n\t\t\t\t\t</el-pagination> -->\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-col>\r\n\t\t<!-- 新增/编辑科室弹窗 -->\r\n\t\t<el-dialog width=\"60%\" :title=\"dptViewIsEdit?$t('default.MODULE.DEPARTMENT.EDIT_DEPARTMENT'):$t('default.MODULE.DEPARTMENT.ADD_DEPARTMENT')\" :visible.sync=\"departmentView\">\r\n\t\t\t<el-form :model=\"departmentInfo\" :rules=\"rules\" ref=\"ruleForm\" style=\"margin:0 auto\">\r\n\t\t\t\t<!-- 针对于科室编辑时出现的正常/禁用状态 -->\r\n\t\t\t\t<el-form-item v-if=\"dptViewIsEdit\" :label=\"$t('default.MODULE.DEPARTMENT.DEPARTMENT_STATUS')\" label-width=\"160px\">\r\n\t\t\t\t\t<el-radio-group v-model=\"departmentInfo.GaeaObjectProperty\">\r\n\t\t\t\t\t\t<el-radio :label=\"0\">{{ $t('default.BASIC.NORMAL') }}</el-radio>\r\n\t\t\t\t\t\t<el-radio :label=\"524288\">{{ $t('default.BASIC.DISABLED') }}</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item :label=\"$t('default.MODULE.DEPARTMENT.DEPARTMENT_NAME')\" prop=\"OfficeTypeName\" label-width=\"160px\">\r\n\t\t\t\t\t<el-input v-model=\"departmentInfo.OfficeTypeName\" :placeholder=\"$t('default.MODULE.DEPARTMENT.INPUT_DEPARTMENT_NAME')\" maxlength=\"10\" show-word-limit autocomplete=\"off\" style=\"width: 300px;\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item :label=\"$t('default.MODULE.DEPARTMENT.DEPARTMENT_PARENT')\" label-width=\"160px\">\r\n\t\t\t\t\t<el-select v-model=\"departmentInfo.ParentGuid\" :placeholder=\"$t('default.MODULE.DEPARTMENT.SELECT_P_DEPARTMENT')\" style=\"width: 300px;\">\r\n\t\t\t\t\t\t<el-option :label=\"$t('default.EVENTS.UNSELECT')\" :value=\"$null\"></el-option>\r\n\t\t\t\t\t\t<el-option v-for=\"(item,index) in departmentNode\" :key=\"index\" :label=\"item.OfficeTypeName\" :value=\"item.OfficeTypeGuid\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"诊断数据\" label-width=\"160px\">\r\n\t\t\t\t\t<el-input type=\"textarea\" resize=\"none\" :rows=\"4\" v-model=\"departmentInfo.DiagnoseReportRequirement\" placeholder=\"\" maxlength=\"150\" show-word-limit autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"病症描述\" label-width=\"160px\">\r\n\t\t\t\t\t<div ref=\"officeEditor\"></div>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"departmentView = false\">{{ $t('default.BASIC.CANCEL') }}</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"officeTypeEnter()\">{{ $t('default.BASIC.ENTER') }}</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t\t\r\n\t\t<!-- 新增医生弹窗 -->\r\n\t\t<el-dialog width=\"40%\" :title=\"$t('default.MODULE.DEPARTMENT.ADD_DOCTOR')\" :visible.sync=\"doctorView\" top=\"10vh\">\r\n\t\t\t<!-- 内层新增医院弹窗 -->\r\n\t\t\t<el-dialog\r\n\t\t\t\twidth=\"30%\"\r\n\t\t\t\t:title=\"$t('default.MODULE.DEPARTMENT.ADD_HOSPITAL')\"\r\n\t\t\t\t:visible.sync=\"hospitalView\"\r\n\t\t\t\tappend-to-body>\r\n\t\t\t\t<el-form :model=\"hospitalInfo\" :rules=\"rules\" ref=\"hospitalForm\">\r\n\t\t\t\t\t<!-- 医院名称 -->\r\n\t\t\t\t\t<el-form-item :label=\"$t('default.MODULE.DEPARTMENT.HOSPITAL_NAME')\" prop=\"HospitalName\" label-width=\"90px\">\r\n\t\t\t\t\t\t<el-input v-model=\"hospitalInfo.HospitalName\" :placeholder=\"$t('default.TIPS.CLIENT.INPUT_SOMETHING',{name:$t('default.MODULE.DEPARTMENT.HOSPITAL_NAME')})\" maxlength=\"10\" show-word-limit autocomplete=\"off\" style=\"width: 300px;\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<!-- 医院说明 -->\r\n\t\t\t\t\t<el-form-item :label=\"$t('default.BASIC.DESCRIPTION')\" prop=\"HospitalDescription\" label-width=\"90px\">\r\n\t\t\t\t\t\t<el-input v-model=\"hospitalInfo.HospitalDescription\" resize=\"none\" type=\"textarea\" :placeholder=\"$t('default.TIPS.CLIENT.INPUT_SOMETHING',{name:$t('default.BASIC.DESCRIPTION')})\" maxlength=\"150\" show-word-limit style=\"width: 300px;\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t\t<el-button @click=\"hospitalView = false\">{{ $t('default.BASIC.CANCEL') }}</el-button>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"hospitalEnter()\">{{ $t('default.BASIC.ENTER') }}</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t</el-dialog>\r\n\t\t\t<!-- 新增医生内容 -->\r\n\t\t\t<el-row type=\"flex\">\r\n\t\t\t\t<el-col :span=\"5\"></el-col>\r\n\t\t\t\t<el-col :span=\"12\" style=\"text-align: center;\">\r\n\t\t\t\t\t<!-- <el-upload\r\n\t\t\t\t\t\tstyle=\"text-align: center;margin-bottom: 20px;\"\r\n\t\t\t\t\t\tclass=\"avatar-uploader\"\r\n\t\t\t\t\t\t:data=\"headImgData\"\r\n\t\t\t\t\t\t:action=\"uploadUrl\"\r\n\t\t\t\t\t\t:show-file-list=\"false\"\r\n\t\t\t\t\t\t:on-success=\"handleAvatarSuccess\"\r\n\t\t\t\t\t\t:before-upload=\"beforeAvatarUpload\">\r\n\t\t\t\t\t\t<img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\r\n\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t\t</el-upload> -->\r\n\t\t\t\t\t<el-form :model=\"doctorInfo\" :rules=\"rules\" ref=\"doctorForm\">\r\n\t\t\t\t\t\t<!-- 登录账号 -->\r\n\t\t\t\t\t\t<el-form-item :label=\"$t('default.BASIC.ACCOUNT')\" prop=\"DoctorLoginCode\" label-width=\"100px\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"doctorInfo.DoctorLoginCode\" :placeholder=\"$t('default.TIPS.CLIENT.INPUT_SOMETHING',{name:$t('default.BASIC.ACCOUNT')})\" maxlength=\"20\" show-word-limit autocomplete=\"off\" style=\"width: 300px;\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<!-- 医生姓名 -->\r\n\t\t\t\t\t\t<el-form-item :label=\"$t('default.MODULE.DEPARTMENT.DOCTOR_NAME')\" prop=\"DoctorName\" label-width=\"100px\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"doctorInfo.DoctorName\" :placeholder=\"$t('default.MODULE.DEPARTMENT.INPUT_DOCTOR_NAME')\" maxlength=\"10\" show-word-limit autocomplete=\"off\" style=\"width: 300px;\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<!-- 性别 -->\r\n\t\t\t\t\t\t<el-form-item :label=\"$t('default.INFOS.GENDE')\" label-width=\"100px\">\r\n\t\t\t\t\t\t\t<el-radio-group v-model=\"doctorInfo.Gender\">\r\n\t\t\t\t\t\t\t\t<el-radio :label=\"$t('default.INFOS.MAN')\">{{ $t('default.INFOS.MAN') }}</el-radio>\r\n\t\t\t\t\t\t\t\t<el-radio :label=\"$t('default.INFOS.WOMAN')\">{{ $t('default.INFOS.WOMAN') }}</el-radio>\r\n\t\t\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<!-- 所属科室 -->\r\n\t\t\t\t\t\t<el-form-item :label=\"$t('default.MODULE.DEPARTMENT.AFFILIATED_DEPARTMENT')\" label-width=\"100px\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"doctorInfo.OfficeTypeGuid\" multiple collapse-tags :placeholder=\"$t('default.TIPS.CLIENT.SELECT_SOMETHING',{name:$t('default.MODULE.DEPARTMENT.AFFILIATED_DEPARTMENT')})\" style=\"width: 300px;\">\r\n\t\t\t\t\t\t\t\t<!-- <el-option :label=\"$t('default.EVENTS.UNSELECT')\" :value=\"$null\"></el-option> -->\r\n\t\t\t\t\t\t\t\t<!-- <el-option v-for=\"(item,index) in departmentNode\" :key=\"index\" :label=\"item.OfficeTypeName\" :value=\"item.OfficeTypeGuid\"></el-option> -->\r\n\t\t\t\t\t\t\t\t<el-option-group\r\n\t\t\t\t\t\t\t\t\tv-for=\"(item,index) in department\"\r\n\t\t\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t\t\t:label=\"item.OfficeTypeName\">\r\n\t\t\t\t\t\t\t\t\t<el-option\r\n\t\t\t\t\t\t\t\t\t\tv-for=\"(sub,subIndex) in item.SubTypeList\"\r\n\t\t\t\t\t\t\t\t\t\t:key=\"subIndex\"\r\n\t\t\t\t\t\t\t\t\t\t:label=\"sub.OfficeTypeName\"\r\n\t\t\t\t\t\t\t\t\t\t:value=\"sub.OfficeTypeGuid\">\r\n\t\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t\t</el-option-group>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<!-- 所属医院 -->\r\n\t\t\t\t\t\t<el-form-item :label=\"$t('default.MODULE.DEPARTMENT.AFFILIATED_HOSPITAL')\" label-width=\"100px\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"doctorInfo.HospitalGuid\" :placeholder=\"$t('default.TIPS.CLIENT.SELECT_SOMETHING',{name:$t('default.MODULE.DEPARTMENT.AFFILIATED_HOSPITAL')})\" style=\"width: 100%;\">\r\n\t\t\t\t\t\t\t\t<el-option :label=\"$t('default.EVENTS.UNSELECT')\" :value=\"$null\"></el-option>\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"(item,index) in hospitalData\" :key=\"index\" :label=\"item.HospitalName\" :value=\"item.HospitalGuid\"></el-option>\t\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t\t<el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n\t\t\t\t\t\t\t<el-button @click=\"addHospital\" size=\"small\" type=\"success\" icon=\"el-icon-plus\" circle style=\"position: absolute;margin-left: 10px;margin-top: 5px;\"></el-button>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<!-- 说明 -->\r\n\t\t\t\t\t\t<el-form-item :label=\"$t('default.BASIC.DESCRIPTION')\" prop=\"DoctorDescription\" label-width=\"100px\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"doctorInfo.DoctorDescription\" resize=\"none\" type=\"textarea\" :placeholder=\"$t('default.TIPS.CLIENT.INPUT_SOMETHING',{name:$t('default.BASIC.DESCRIPTION')})\" maxlength=\"150\" show-word-limit style=\"width: 300px;\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-form>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"doctorView = false\">{{ $t('default.BASIC.CANCEL') }}</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"doctorEnter()\">{{ $t('default.BASIC.ENTER') }}</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t\t<el-dialog title=\"关联医生\" :visible.sync=\"addrelation\">\r\n\t\t\t<doctors ref=\"doctors\"></doctors>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"addrelation = false\">{{ $t('default.BASIC.CANCEL') }}</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"setRelation()\">{{ $t('default.BASIC.ENTER') }}</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t\t<el-dialog title=\"解除关联\" :visible.sync=\"doctorRelation\">\r\n\t\t\t确定解除该医生的关联？\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"doctorView = false\">{{ $t('default.BASIC.CANCEL') }}</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"updateRelation()\">{{ $t('default.BASIC.ENTER') }}</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</el-row>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\timport conf from '@/conf/conf.js'\r\n\timport doctors from '@/pages/main/departent/doctors.vue'\r\n\timport E from 'wangeditor'\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tdoctors\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\t//let uploadUri = conf.getCurrentUploadAddr()+\"?token=\"+\r\n\t\t\treturn {\r\n\t\t\t\teditor:null,\r\n\t\t\t\tview:{\r\n\t\t\t\t\ttableHeight:650,\r\n\t\t\t\t\tdepartentIsLoading:false,\r\n\t\t\t\t},\r\n\t\t\t\taddrelation:false,\r\n\t\t\t\tdoctorRelation:false,\r\n\t\t\t\tdptViewIsEdit:false,\r\n\t\t\t\tdepartmentView:false,\r\n\t\t\t\tdoctorView:false,\r\n\t\t\t\thospitalView:false,\r\n\t\t\t\tuploadUrl:conf.getCurrentUploadAddr(),\r\n\t\t\t\theadImgData:{\r\n\t\t\t\t\tfileName:\"\",\r\n\t\t\t\t\tmode:\"upload\",\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tkeyword:\"\",\r\n\t\t\t\tdata:[],\r\n\t\t\t\tdepartment:[],\r\n\t\t\t\tdepartmentNode:[],\r\n\t\t\t\tdepartmentInfo:{\r\n\t\t\t\t\tOfficeTypeName:\"\",\r\n\t\t\t\t\tParentGuid:\"\",\r\n\t\t\t\t\tGaeaObjectProperty:0,\r\n\t\t\t\t\tDiagnoseReportRequirement:\"\",\r\n\t\t\t\t\tOfficeTypeDescription:\"\",\r\n\t\t\t\t},\r\n\t\t\t\tdefaultProps: {\r\n\t\t\t\t\tchildren: 'SubTypeList',\r\n\t\t\t\t\tlabel: 'OfficeTypeName',\r\n\t\t\t\t\tGaeaObjectProperty:0,\r\n\t\t\t\t},\r\n\t\t\t\tcurrentDoctor:{},\r\n\t\t\t\tcurrentDepartment:{},//用以处理当前编辑科室\r\n\t\t\t\trules:{\r\n\t\t\t\t\tOfficeTypeName:[\r\n\t\t\t\t\t\t{ required: true, message: this.$t(\"default.MODULE.DEPARTMENT.INPUT_DEPARTMENT_NAME\"), trigger: 'blur' },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tHospitalName:[\r\n\t\t\t\t\t\t{ required: true, message: this.$t('default.TIPS.CLIENT.INPUT_SOMETHING',{name:this.$t('default.MODULE.DEPARTMENT.HOSPITAL_NAME')}), trigger: 'blur' },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tDoctorLoginCode:[\r\n\t\t\t\t\t\t{ required: true, message: this.$t('default.TIPS.CLIENT.INPUT_SOMETHING',{name:this.$t('default.BASIC.ACCOUNT')}), trigger: 'blur' },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tDoctorName:[\r\n\t\t\t\t\t\t{ required: true, message: this.$t('default.TIPS.CLIENT.INPUT_SOMETHING',{name:this.$t('default.MODULE.DEPARTMENT.DOCTOR_NAME')}), trigger: 'blur' },\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tdoctorInfo:{\r\n\t\t\t\t\tDoctorName:\"\",\r\n\t\t\t\t\tDoctorLoginCode:\"\",\r\n\t\t\t\t\tGender:this.$t('default.INFOS.MAN'),\r\n\t\t\t\t\tHospitalGuid:\"\",\r\n\t\t\t\t\tOfficeTypeGuid:[],\r\n\t\t\t\t\tDoctorDescription:\"\",\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\thospitalInfo:{\r\n\t\t\t\t\tHospitalName:\"\",\r\n\t\t\t\t\tHospitalDescription:\"\"\r\n\t\t\t\t},\r\n\t\t\t\thospitalData:[],\r\n\t\t\t\tcurrentOfficeType:{},\r\n\t\t\t\tpagesParams:{\r\n\t\t\t\t\tPageIndex:1,\r\n\t\t\t\t\tPageSize:20,\r\n\t\t\t\t\tTotal:0,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.view.tableHeight = window.innerHeight/100 * 75;\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tsearch(){\r\n\t\t\t\tthis.queryDepartentDoctor();\r\n\t\t\t},\r\n\t\t\taddRelation(){\r\n\t\t\t\tthis.addrelation = true;\r\n\t\t\t\tthis.$refs.doctors.clearSelect();\r\n\t\t\t},\r\n\t\t\tremoveRelation(docotr){\r\n\t\t\t\tthis.currentDoctor = docotr;\r\n\t\t\t\tthis.doctorRelation = true;\r\n\t\t\t},\r\n\t\t\tresetPages(){\r\n\t\t\t\tthis.pagesParams = {\r\n\t\t\t\t\tPageIndex:1,\r\n\t\t\t\t\tPageSize:20,\r\n\t\t\t\t\tTotal:0,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetCurrentOfficeType(data,node){\r\n\t\t\t\tthis.currentOfficeType = data;\r\n\t\t\t\tthis.resetPages();\r\n\t\t\t\tthis.queryDepartentDoctor();\r\n\t\t\t\t//console.log(data,node)\r\n\t\t\t},\r\n\t\t\tbeforeAvatarUpload(file){\r\n\t\t\t\tif(!file.type.isImage()){\r\n\t\t\t\t\tthis.$tips.warning(this.$t(\"default.TIPS.CLIENT.IMAGE_IS_ERROR\"))\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(!(file.size / 1024 / 1024 < 2)){\r\n\t\t\t\t\tthis.$tips.warning(this.$t(\"default.TIPS.CLIENT.IMAGE_SIZE_IS_ERROR\"))\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.headImgData.fileName = file.name;\r\n\t\t\t},\r\n\t\t\taddDoctor(){\r\n\t\t\t\tthis.doctorInfo.DoctorName = \"\";\r\n\t\t\t\tthis.doctorInfo.DoctorLoginCode = \"\";\r\n\t\t\t\tthis.doctorInfo.Gender = this.$t('default.INFOS.MAN');\r\n\t\t\t\tthis.doctorInfo.HospitalGuid = this.$null;\r\n\t\t\t\tthis.doctorInfo.OfficeTypeGuid = [this.currentOfficeType.OfficeTypeGuid];\r\n\t\t\t\tthis.doctorInfo.DoctorDescription = \"\";\r\n\t\t\t\tthis.doctorView = !this.doctorView;\r\n\t\t\t},\r\n\t\t\taddHospital(){\r\n\t\t\t\tthis.hospitalInfo.HospitalName = \"\";\r\n\t\t\t\tthis.hospitalInfo.HospitalDescription = \"\";\r\n\t\t\t\tthis.hospitalView = true;\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(){\r\n\t\t\t\tthis.queryDepartentDoctor();\r\n\t\t\t},\r\n\t\t\thandleSizeChange(){\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\taddDepartment(){\r\n\t\t\t\tif(!this.editor){\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tthis.editor = new E(this.$refs.officeEditor)\r\n\t\t\t\t\t\tthis.editor.create()\r\n\t\t\t\t\t},300)\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.editor.txt.clear();\r\n\t\t\t\t}\r\n\t\t\t\tthis.dptViewIsEdit = false;\r\n\t\t\t\tthis.departmentInfo = {\r\n\t\t\t\t\tOfficeTypeName:\"\",\r\n\t\t\t\t\tParentGuid:\"\",\r\n\t\t\t\t}\r\n\t\t\t\tthis.departmentView = !this.departmentView;\t\r\n\t\t\t},\r\n\t\t\teditOfficeType(item){\r\n\t\t\t\tthis.currentDepartment = item;\t\t\t\r\n\t\t\t\tthis.getOfficeTypeDetail(item.OfficeTypeGuid);\r\n\t\t\t},\r\n\t\t\tmakeNodes(data){\r\n\t\t\t\tthis.departmentNode = [];\r\n\t\t\t\tfor(var i = 0;i < data.length;i++){\r\n\t\t\t\t\tvar item = data[i];\r\n\t\t\t\t\tthis.departmentNode.push(item);\r\n\t\t\t\t}\r\n\t\t\t\tif(this.departmentNode.length){\r\n\t\t\t\t\tif(this.departmentNode[0].SubTypeList.length){\r\n\t\t\t\t\t\tthis.currentOfficeType = this.departmentNode[0].SubTypeList[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdoctorEnter(){\r\n\t\t\t\tlet $s = this;\r\n\t\t\t\t//验证医生表单\r\n\t\t\t\tthis.$refs.doctorForm.validate((valid)=>{\r\n\t\t\t\t\tif(valid){\r\n\t\t\t\t\t\t$s.createDoctor();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thospitalEnter(){\r\n\t\t\t\tlet $s = this;\r\n\t\t\t\t//验证医院表单\r\n\t\t\t\tthis.$refs.doctorForm.validate((valid)=>{\r\n\t\t\t\t\tif(valid){\r\n\t\t\t\t\t\t$s.createHospital();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tofficeTypeEnter(){\r\n\t\t\t\tlet $s = this;\r\n\t\t\t\t//验证表单\r\n\t\t\t\tthis.$refs.ruleForm.validate((valid)=>{\r\n\t\t\t\t\tif(valid){\r\n\t\t\t\t\t\t$s.dptViewIsEdit?$s.updateOfficeType():$s.createOfficeType();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync getOfficeTypeDetail(){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tOfficeTypeGuid:this.currentDepartment.OfficeTypeGuid,\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$api.get(\"/Medical/GetOfficeTypeDetail\",params)\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"获取详情失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.departmentInfo = {\r\n\t\t\t\t\tOfficeTypeName:res.Data.OfficeTypeName,\r\n\t\t\t\t\tParentGuid:res.Data.ParentGuid,\r\n\t\t\t\t\tGaeaObjectProperty:res.Data.GaeaObjectProperty,\r\n\t\t\t\t\tDiagnoseReportRequirement:res.Data.DiagnoseReportRequirement,\r\n\t\t\t\t}\r\n\t\t\t\tthis.dptViewIsEdit = true;\r\n\t\t\t\tthis.departmentView = !this.departmentView;\t\r\n\t\t\t\tif(!this.editor){\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tthis.editor = new E(this.$refs.officeEditor)\r\n\t\t\t\t\t\tthis.editor.create()\r\n\t\t\t\t\t\tthis.editor.txt.html(res.Data.OfficeTypeDescription)\r\n\t\t\t\t\t},300)\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.editor.txt.clear();\r\n\t\t\t\t\tthis.editor.txt.html(res.Data.OfficeTypeDescription);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tasync setRelation(){\r\n\t\t\t\tlet selets = this.$refs.doctors.selets;\r\n\t\t\t\tif(selets.length < 1){\r\n\t\t\t\t\tthis.$tips.warning(\"请选择至少一个医生\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tOfficeTypeGuid:this.currentOfficeType.OfficeTypeGuid,\r\n\t\t\t\t\tDoctorGuid:this.$refs.doctors.selets.join(\",\")\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$api.get(\"/Medical/AddDoctorRelation\",params)\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"关联失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.addrelation = false;\r\n\t\t\t\tthis.$tips.success(\"关联成功\");\r\n\t\t\t\tthis.queryDepartentDoctor();\r\n\t\t\t},\r\n\t\t\t/*解除关联*/\r\n\t\t\tasync updateRelation(){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tSettingGuid:this.currentDoctor.SettingGuid\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$api.get(\"/Medical/RemoveDoctorRelation\",params)\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"解除失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$tips.success(\"解除成功\");\r\n\t\t\t\tthis.doctorRelation = false;\r\n\t\t\t\tthis.queryDepartentDoctor();\r\n\t\t\t},\r\n\t\t\t/*创建医生*/\r\n\t\t\tasync createDoctor(){\r\n\t\t\t\tlet params = Object.assign({},this.doctorInfo);\r\n\t\t\t\tparams.OfficeTypeGuid = params.OfficeTypeGuid.join(\",\");\r\n\t\t\t\t//params.OfficeTypeGuid = JSON.stringify(params.OfficeTypeGuid);\r\n\t\t\t\tlet res = await this.$api.bus.Medical.createDoctor(params);\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"创建失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$tips.success(\"创建成功\");\r\n\t\t\t\tthis.queryDepartentDoctor();\r\n\t\t\t},\r\n\t\t\tasync queryDepartentDoctor(){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tPageIndex:this.pagesParams.PageIndex,\r\n\t\t\t\t\tPageSize:this.pagesParams.PageSize,\r\n\t\t\t\t\tkeyword:this.keyword,\r\n\t\t\t\t\tOfficeTypeGuid:this.currentOfficeType.OfficeTypeGuid,\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$api.get(\"/Medical/QueryOfficeType2Doctor\",params);\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"查询失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tfor(var i = 0;i < res.Data.DataList.length;i++){\r\n\t\t\t\t\tvar item = res.Data.DataList[i];\r\n\t\t\t\t\titem.Order = i+1;\r\n\t\t\t\t\titem.HospitalName = item.HospitalName || this.$t(\"default.BASIC.UNKNOW\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.pagesParams.Total = res.Data.Total;\r\n\t\t\t\tthis.data = res.Data.DataList;\r\n\t\t\t},\r\n\t\t\t/*创建医院*/\r\n\t\t\tasync createHospital(){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tHospitalName:this.hospitalInfo.HospitalName,\r\n\t\t\t\t\tHospitalDescription:this.hospitalInfo.HospitalDescription,\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$api.bus.Medical.createHospital(params)\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"创建失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$tips.success(\"创建成功\");\r\n\t\t\t\tthis.hospitalView = false;\r\n\t\t\t\tthis.getHospital();\r\n\t\t\t},\r\n\t\t\t/*查询医院*/\r\n\t\t\tasync getHospital(){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tPageIndex:1,\r\n\t\t\t\t\tPageSize:20,\r\n\t\t\t\t\tRowFilter:\"\"\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$api.bus.Medical.queryHospital(params)\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"查询失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t/*更新科室*/\r\n\t\t\tasync updateOfficeType(){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tOfficeTypeName:this.departmentInfo.OfficeTypeName,\r\n\t\t\t\t\tParentGuid:this.departmentInfo.ParentGuid,\r\n\t\t\t\t\tOfficeTypeGuid:this.currentDepartment.OfficeTypeGuid,\r\n\t\t\t\t\tGaeaObjectProperty:this.departmentInfo.GaeaObjectProperty,\r\n\t\t\t\t\tDiagnoseReportRequirement:this.departmentInfo.DiagnoseReportRequirement,\r\n\t\t\t\t\tOfficeTypeDescription:this.editor.txt.html(),\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$api.bus.Medical.updateOfficeType(params);\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"更新失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$tips.success(this.$t(\"default.TIPS.CLIENT.UPDATE_IS_SUCCESS\",{name:this.$t(\"default.MODULE.DEPARTMENT.NAME\")}));\r\n\t\t\t\t//TODO:当增加完成时应直接将列表中对象直接修改，而不是重新获取\r\n\t\t\t\tthis.queryOfficeType();\r\n\t\t\t\tthis.departmentView = !this.departmentView;\t\r\n\t\t\t},\r\n\t\t\t/*创建科室*/\r\n\t\t\tasync createOfficeType(){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tOfficeTypeName:this.departmentInfo.OfficeTypeName,\r\n\t\t\t\t\tParentGuid:this.departmentInfo.ParentGuid,\r\n\t\t\t\t\tDiagnoseReportRequirement:this.departmentInfo.DiagnoseReportRequirement,\r\n\t\t\t\t\tOfficeTypeDescription:this.editor.txt.html(),\r\n\t\t\t\t}\r\n\t\t\t\tparams.ParentGuid = params.ParentGuid == \"\"?this.$null:params.ParentGuid;\r\n\t\t\t\tlet res = await this.$api.bus.Medical.createOfficeType(params);\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"创建失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$tips.success(this.$t(\"default.TIPS.CLIENT.CREATE_IS_SUCCESS\",{name:this.$t(\"default.MODULE.DEPARTMENT.NAME\")}));\r\n\t\t\t\tthis.addDepartment();\r\n\t\t\t\t//TODO:当增加完成时应直接将返回对象加入列表，而不是重新获取\r\n\t\t\t\tthis.queryOfficeType();\r\n\t\t\t},\r\n\t\t\t/*查询科室*/\r\n\t\t\tasync queryOfficeType(){\r\n\t\t\t\tthis.view.departentIsLoading = true;\r\n\t\t\t\tlet res = await this.$api.bus.Medical.queryOfficeType();\r\n\t\t\t\tthis.view.departentIsLoading = false;\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.department = res.Data.DataList;\r\n\t\t\t\tthis.makeNodes(res.Data.DataList);\r\n\t\t\t\tthis.queryDepartentDoctor();\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.queryOfficeType();\r\n\t\t\tthis.getHospital();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t/* el-card是组件，scoped会限制css只在这个页面上起作用，为了穿透到子组件，必须要用 /deep/ */\r\n\t/deep/ .el-card__body{\r\n\t\tpadding: 0 !important;\r\n\t}\r\n\r\n\t.office_type_treepanel{\r\n\t\theight:500px;\r\n\t\toverflow: scroll;\r\n\t}\r\n\t.custom-tree-node {flex: 1;display: flex;align-items: center;justify-content: space-between;font-size: 14px;padding-right: 8px;}\r\n\t.custom-tree-node:hover .js-setting{display: inline-block !important;}\r\n\t.avatar-uploader .el-upload { border: 1px dashed #d9d9d9;border-radius: 50%;cursor: pointer;position: relative;overflow: hidden;}\r\n\t.avatar-uploader .el-upload:hover {border-color: #ccc;}\r\n\t.avatar-uploader-icon { font-size: 28px;color: #8c939d;width: 120px;height: 120px;line-height: 120px;text-align: center;}\r\n\t.avatar { width: 120px;height: 120px;display: block;}\r\n</style>\r\n"]}]}