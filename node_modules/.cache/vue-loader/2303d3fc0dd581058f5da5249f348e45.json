{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\health_record_detail.vue?vue&type=style&index=0&id=fe32c37e&scoped=true&lang=css&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\health_record_detail.vue","mtime":1592965847325},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\sass-resources-loader\\lib\\loader.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmVsLWZvcm0taXRlbSB7DQogIG1hcmdpbi1ib3R0b206IDExcHg7DQp9DQo="},{"version":3,"sources":["health_record_detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA","file":"health_record_detail.vue","sourceRoot":"pages/main/appointment","sourcesContent":["<template>\r\n  <div v-loading=\"loading\">\r\n    <el-form label-width=\"120px\">\r\n      <el-form-item label=\"病历标题\">\r\n        <label>{{detail.MedicalRecordName}}</label>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"病情描述\">\r\n        <label>{{detail.Remarks}}</label>\r\n      </el-form-item>\r\n    </el-form>\r\n    <h3>病历附件</h3>\r\n    <el-table :data=\"docFiles\" :v-loading=\"true\">\r\n      <el-table-column label=\"附件名称\">\r\n        <template slot-scope=\"scope\">\r\n            <el-link type=\"primary\" @click=\"onDownloadDocFile(scope.row.Url)\">{{scope.row.FileName}}</el-link>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"CreateDate\" label=\"日期\" width=\"200\"></el-table-column>\r\n      <!-- <el-table-column label=\"操作\" width=\"150\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n            <el-link type=\"primary\" icon=\"el-icon-download\" @click=\"onDownloadDocFile(scope.row.Url)\"></el-link>\r\n        </template>\r\n      </el-table-column> -->\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport conf from '@/conf/conf.js';\r\nexport default {\r\n  name: \"healthRecordDetail\",\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  watch: {\r\n    id: function(v) {\r\n      this.reset();\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      detail: {},\r\n      docFiles: [],\r\n      loading:false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getHealthRecordDetail();\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.detail = {};\r\n      this.docFiles.length = 0;\r\n      this.getHealthRecordDetail();\r\n    },\r\n    getHealthRecordDetail() {\r\n      const _this = this;\r\n      this.loading=true;\r\n      this.$api\r\n        .get(\"/Medical/GetCustomerMedicalRecordDtl\", { id: this.id })\r\n        .then(res => {\r\n          _this.loading=false;\r\n          _this.detail = res.Data;\r\n          _this.initDocFiles();\r\n        });      \r\n    },\r\n    initDocFiles() {\r\n      if(!this.detail.FilePath) return;\r\n      var baseUrl=conf.getCurrentServeAddr('main')\r\n      //待修改为支持多附件需要进行调整，暂从详情取\r\n      this.docFiles.push({\r\n        FileName: this.detail.FileName,\r\n        Path: this.detail.FilePath,\r\n        Url:baseUrl+this.detail.FilePath,\r\n        CreateDate: this.detail.CreateDate\r\n      });\r\n    },\r\n    onDownloadDocFile(url){\r\n      window.open(url,'_blank');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-form-item {\r\n  margin-bottom: 11px;\r\n}\r\n</style>"]}]}