{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\health_record_detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\health_record_detail.vue","mtime":1601036333047},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjb25mIGZyb20gJ0AvY29uZi9jb25mLmpzJzsKZXhwb3J0IGRlZmF1bHQgewoJbmFtZTogImhlYWx0aFJlY29yZERldGFpbCIsCglwcm9wczogewoJCWlkOiB7CgkJCXR5cGU6IFN0cmluZywKCQkJZGVmYXVsdDogIiIKCQl9Cgl9LAoJd2F0Y2g6IHsKCQlpZDogZnVuY3Rpb24odikgewoJCQl0aGlzLnJlc2V0KCk7CgkJfQoJfSwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJZGV0YWlsOiB7fSwKCQkJZG9jRmlsZXM6IFtdLAoJCQlsb2FkaW5nOiBmYWxzZQoJCX07Cgl9LAoJbW91bnRlZCgpIHsKCQl0aGlzLmdldEhlYWx0aFJlY29yZERldGFpbCgpOwoJfSwKCW1ldGhvZHM6IHsKCQlyZXNldCgpIHsKCQkJdGhpcy5kZXRhaWwgPSB7fTsKCQkJdGhpcy5kb2NGaWxlcy5sZW5ndGggPSAwOwoJCQl0aGlzLmdldEhlYWx0aFJlY29yZERldGFpbCgpOwoJCX0sCgkJZ2V0SGVhbHRoUmVjb3JkRGV0YWlsKCkgewoJCQljb25zdCBfdGhpcyA9IHRoaXM7CgkJCXRoaXMubG9hZGluZyA9IHRydWU7CgkJCXRoaXMuJGFwaQoJCQkJLmdldCgiL01lZGljYWwvR2V0Q3VzdG9tZXJNZWRpY2FsUmVjb3JkRHRsIiwgewoJCQkJCWlkOiB0aGlzLmlkLAoJCQkJCVdpdGhGaWxlSW5mbzogdHJ1ZQoJCQkJfSkKCQkJCS50aGVuKHJlcyA9PiB7CgkJCQkJX3RoaXMubG9hZGluZyA9IGZhbHNlOwoJCQkJCV90aGlzLmRldGFpbCA9IHJlcy5EYXRhOwoJCQkJCV90aGlzLmluaXREb2NGaWxlcygpOwoJCQkJfSk7CgkJfSwKCQlpbml0RG9jRmlsZXMoKSB7CgkJCWlmICghdGhpcy5kZXRhaWwuQXR0YWNobWVudHMpIHJldHVybjsKCgkJCXZhciBiYXNlVXJsID0gY29uZi5nZXRDdXJyZW50U2VydmVBZGRyKCdtYWluJykKCQkJZm9yIChjb25zdCBhdHRhY2ggb2YgdGhpcy5kZXRhaWwuQXR0YWNobWVudHMpIHsKCQkJCXRoaXMuZG9jRmlsZXMucHVzaCh7CgkJCQkJRmlsZU5hbWU6IGF0dGFjaC5PcmlnaW5GaWxlTmFtZSwKCQkJCQlQYXRoOiBhdHRhY2guRmlsZVBhdGgsCgkJCQkJVXJsOiBiYXNlVXJsICsgYXR0YWNoLk9yaWdpbkZpbGVQYXRoLAoJCQkJCU9yaWdpbkZpbGVOYW1lOiBhdHRhY2guT3JpZ2luRmlsZU5hbWUsCgkJCQkJT3JpZ2luUGF0aDogYXR0YWNoLkZpbGVQYXRoLAoJCQkJCU9yaWdpblVybDogYmFzZVVybCArIGF0dGFjaC5PcmlnaW5GaWxlUGF0aCwKCQkJCQlDcmVhdGVEYXRlOiB0aGlzLmRldGFpbC5DcmVhdGVEYXRlCgkJCQl9KTsKCQkJfQoKCQl9LAoJCW9uRG93bmxvYWREb2NGaWxlKHVybCkgewoJCQl3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKTsKCQl9Cgl9Cn07Cg=="},{"version":3,"sources":["health_record_detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"health_record_detail.vue","sourceRoot":"pages/main/appointment","sourcesContent":["<template>\r\n\t<div v-loading=\"loading\">\r\n\t\t<el-form label-width=\"120px\">\r\n\t\t\t<el-form-item label=\"病历标题\">\r\n\t\t\t\t<label>{{detail.MedicalRecordName}}</label>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"病情描述\">\r\n\t\t\t\t<label>{{detail.Remarks}}</label>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<h3>病历附件</h3>\r\n\t\t<el-table :data=\"docFiles\" :v-loading=\"true\">\r\n\t\t\t<el-table-column label=\"附件名称\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-link v-if=\"(scope.row.GaeaObjectProperty & 2) == 0\" type=\"primary\" @click=\"onDownloadDocFile(scope.row.OriginUrl)\">{{scope.row.OriginFileName}}</el-link><br />\r\n\t\t\t\t\t<el-link v-if=\"(scope.row.GaeaObjectProperty & 2) > 0\" type=\"primary\" @click=\"onDownloadDocFile(scope.row.Url)\">已翻译：{{scope.row.FileName}}</el-link>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"CreateDate\" label=\"日期\" width=\"200\"></el-table-column>\r\n\t\t</el-table>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport conf from '@/conf/conf.js';\r\n\texport default {\r\n\t\tname: \"healthRecordDetail\",\r\n\t\tprops: {\r\n\t\t\tid: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tid: function(v) {\r\n\t\t\t\tthis.reset();\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdetail: {},\r\n\t\t\t\tdocFiles: [],\r\n\t\t\t\tloading: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getHealthRecordDetail();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\treset() {\r\n\t\t\t\tthis.detail = {};\r\n\t\t\t\tthis.docFiles.length = 0;\r\n\t\t\t\tthis.getHealthRecordDetail();\r\n\t\t\t},\r\n\t\t\tgetHealthRecordDetail() {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tthis.$api\r\n\t\t\t\t\t.get(\"/Medical/GetCustomerMedicalRecordDtl\", {\r\n\t\t\t\t\t\tid: this.id,\r\n\t\t\t\t\t\tWithFileInfo: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t_this.loading = false;\r\n\t\t\t\t\t\t_this.detail = res.Data;\r\n\t\t\t\t\t\t_this.initDocFiles();\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tinitDocFiles() {\r\n\t\t\t\tif (!this.detail.Attachments) return;\r\n\r\n\t\t\t\tvar baseUrl = conf.getCurrentServeAddr('main')\r\n\t\t\t\tfor (const attach of this.detail.Attachments) {\r\n\t\t\t\t\tthis.docFiles.push({\r\n\t\t\t\t\t\tFileName: attach.OriginFileName,\r\n\t\t\t\t\t\tPath: attach.FilePath,\r\n\t\t\t\t\t\tUrl: baseUrl + attach.OriginFilePath,\r\n\t\t\t\t\t\tOriginFileName: attach.OriginFileName,\r\n\t\t\t\t\t\tOriginPath: attach.FilePath,\r\n\t\t\t\t\t\tOriginUrl: baseUrl + attach.OriginFilePath,\r\n\t\t\t\t\t\tCreateDate: this.detail.CreateDate\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tonDownloadDocFile(url) {\r\n\t\t\t\twindow.open(url, '_blank');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.el-form-item {\r\n\t\tmargin-bottom: 11px;\r\n\t}\r\n</style>\r\n"]}]}