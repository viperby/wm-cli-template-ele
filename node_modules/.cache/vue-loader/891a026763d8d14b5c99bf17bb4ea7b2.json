{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\health_record_detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\health_record_detail.vue","mtime":1594378016155},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgY29uZiBmcm9tICdAL2NvbmYvY29uZi5qcyc7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJoZWFsdGhSZWNvcmREZXRhaWwiLA0KICBwcm9wczogew0KICAgIGlkOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAiIg0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBpZDogZnVuY3Rpb24odikgew0KICAgICAgdGhpcy5yZXNldCgpOw0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZGV0YWlsOiB7fSwNCiAgICAgIGRvY0ZpbGVzOiBbXSwNCiAgICAgIGxvYWRpbmc6ZmFsc2UNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0SGVhbHRoUmVjb3JkRGV0YWlsKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZXNldCgpIHsNCiAgICAgIHRoaXMuZGV0YWlsID0ge307DQogICAgICB0aGlzLmRvY0ZpbGVzLmxlbmd0aCA9IDA7DQogICAgICB0aGlzLmdldEhlYWx0aFJlY29yZERldGFpbCgpOw0KICAgIH0sDQogICAgZ2V0SGVhbHRoUmVjb3JkRGV0YWlsKCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgdGhpcy5sb2FkaW5nPXRydWU7DQogICAgICB0aGlzLiRhcGkNCiAgICAgICAgLmdldCgiL01lZGljYWwvR2V0Q3VzdG9tZXJNZWRpY2FsUmVjb3JkRHRsIiwgeyBpZDogdGhpcy5pZCxXaXRoRmlsZUluZm86dHJ1ZX0pDQogICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgX3RoaXMubG9hZGluZz1mYWxzZTsNCiAgICAgICAgICBfdGhpcy5kZXRhaWwgPSByZXMuRGF0YTsNCiAgICAgICAgICBfdGhpcy5pbml0RG9jRmlsZXMoKTsNCiAgICAgICAgfSk7ICAgICAgDQogICAgfSwNCiAgICBpbml0RG9jRmlsZXMoKSB7DQogICAgICBpZighdGhpcy5kZXRhaWwuQXR0YWNobWVudHMpIHJldHVybjsNCg0KICAgICAgdmFyIGJhc2VVcmw9Y29uZi5nZXRDdXJyZW50U2VydmVBZGRyKCdtYWluJykNCiAgICAgIGZvciAoY29uc3QgYXR0YWNoIG9mIHRoaXMuZGV0YWlsLkF0dGFjaG1lbnRzKSB7DQogICAgICAgIHRoaXMuZG9jRmlsZXMucHVzaCh7DQogICAgICAgICAgRmlsZU5hbWU6IGF0dGFjaC5PcmlnaW5GaWxlTmFtZSwNCiAgICAgICAgICBQYXRoOiBhdHRhY2guRmlsZVBhdGgsDQogICAgICAgICAgVXJsOmJhc2VVcmwrYXR0YWNoLk9yaWdpbkZpbGVQYXRoLA0KICAgICAgICAgIE9yaWdpbkZpbGVOYW1lOiBhdHRhY2guT3JpZ2luRmlsZU5hbWUsDQogICAgICAgICAgT3JpZ2luUGF0aDogYXR0YWNoLkZpbGVQYXRoLA0KICAgICAgICAgIE9yaWdpblVybDpiYXNlVXJsK2F0dGFjaC5PcmlnaW5GaWxlUGF0aCwNCiAgICAgICAgICBDcmVhdGVEYXRlOiB0aGlzLmRldGFpbC5DcmVhdGVEYXRlDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgDQogICAgfSwNCiAgICBvbkRvd25sb2FkRG9jRmlsZSh1cmwpew0KICAgICAgd2luZG93Lm9wZW4odXJsLCdfYmxhbmsnKTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["health_record_detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"health_record_detail.vue","sourceRoot":"pages/main/appointment","sourcesContent":["<template>\r\n  <div v-loading=\"loading\">\r\n    <el-form label-width=\"120px\">\r\n      <el-form-item label=\"病历标题\">\r\n        <label>{{detail.MedicalRecordName}}</label>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"病情描述\">\r\n        <label>{{detail.Remarks}}</label>\r\n      </el-form-item>\r\n    </el-form>\r\n    <h3>病历附件</h3>\r\n    <el-table :data=\"docFiles\" :v-loading=\"true\">\r\n      <el-table-column label=\"附件名称\">\r\n        <template slot-scope=\"scope\">\r\n            <el-link type=\"primary\" @click=\"onDownloadDocFile(scope.row.OriginUrl)\">{{scope.row.OriginFileName}}</el-link><br/>\r\n            <el-link type=\"primary\" @click=\"onDownloadDocFile(scope.row.Url)\">已翻译：{{scope.row.FileName}}</el-link>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"CreateDate\" label=\"日期\" width=\"200\"></el-table-column>\r\n      <!-- <el-table-column label=\"操作\" width=\"150\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n            <el-link type=\"primary\" icon=\"el-icon-download\" @click=\"onDownloadDocFile(scope.row.Url)\"></el-link>\r\n        </template>\r\n      </el-table-column> -->\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport conf from '@/conf/conf.js';\r\nexport default {\r\n  name: \"healthRecordDetail\",\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  watch: {\r\n    id: function(v) {\r\n      this.reset();\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      detail: {},\r\n      docFiles: [],\r\n      loading:false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getHealthRecordDetail();\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.detail = {};\r\n      this.docFiles.length = 0;\r\n      this.getHealthRecordDetail();\r\n    },\r\n    getHealthRecordDetail() {\r\n      const _this = this;\r\n      this.loading=true;\r\n      this.$api\r\n        .get(\"/Medical/GetCustomerMedicalRecordDtl\", { id: this.id,WithFileInfo:true})\r\n        .then(res => {\r\n          _this.loading=false;\r\n          _this.detail = res.Data;\r\n          _this.initDocFiles();\r\n        });      \r\n    },\r\n    initDocFiles() {\r\n      if(!this.detail.Attachments) return;\r\n\r\n      var baseUrl=conf.getCurrentServeAddr('main')\r\n      for (const attach of this.detail.Attachments) {\r\n        this.docFiles.push({\r\n          FileName: attach.OriginFileName,\r\n          Path: attach.FilePath,\r\n          Url:baseUrl+attach.OriginFilePath,\r\n          OriginFileName: attach.OriginFileName,\r\n          OriginPath: attach.FilePath,\r\n          OriginUrl:baseUrl+attach.OriginFilePath,\r\n          CreateDate: this.detail.CreateDate\r\n        });\r\n      }\r\n      \r\n    },\r\n    onDownloadDocFile(url){\r\n      window.open(url,'_blank');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-form-item {\r\n  margin-bottom: 11px;\r\n}\r\n</style>"]}]}