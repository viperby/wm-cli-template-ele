{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\account\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\account\\list.vue","mtime":1596033911329},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CgltYXBTdGF0ZSwKCW1hcE11dGF0aW9ucwp9IGZyb20gInZ1ZXgiOwppbXBvcnQgY29uZiBmcm9tICdAL2NvbmYvY29uZi5qcycKaW1wb3J0IHBhcmllbnQgZnJvbSAnQC9wYWdlcy9tYWluL3BhdGllbnRzL3BhdGllbnRTZWxlY3QudnVlJwppbXBvcnQgZG9jdG9yIGZyb20gJ0AvcGFnZXMvbWFpbi9hY2NvdW50L2RvY3Rvci52dWUnCmltcG9ydCBtZDUgZnJvbSAianMtbWQ1IgpleHBvcnQgZGVmYXVsdCB7Cgljb21wb25lbnRzOnsKCQlwYXJpZW50LAoJCWRvY3RvcgoJfSwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJdXBsb2FkVXJsOmNvbmYuZ2V0Q3VycmVudFVwbG9hZEFkZHIoKSwKCQkJdXBsb2FkRGF0YTp7CgkJCQltb2RlOiJ1cGxvYWQiCgkJCX0sCgkJCXZpZXc6IHsKCQkJCWRvY3RvcjogZmFsc2UsCgkJCQlvcGVyYXRpb246ZmFsc2UsCgkJCQlvcGVyYXRpb25Jc0VkaXQ6ZmFsc2UsCgkJCQlkb2N0b3JJc0VkaXQ6ZmFsc2UsCgkJCQlwYXJpZW50OmZhbHNlLAoJCQkJaXNSZXNldFBzdzpmYWxzZSwKCQkJfSwKCQkJZG90b2NyRGV0YWlsOnt9LAoJCQlhZGRkb2N0b3JEZXRhaWw6e30sCgkJCWRvY3Rvcjp7CgkJCQkKCQkJfSwKCQkJb3BlcmF0aW9uOnsKCQkJCVVzZXJDb2RlOiIiLAoJCQkJUGFzc3dvcmQ6IiIsCgkJCQlVc2VyTmFtZToiIiwKCQkJCUN1c3RvbWVyR3VpZHM6IiIsCgkJCQlDdXN0b21lck5hbWVzOiIiLAoJCQl9LAoJCQlydWxlczp7CgkJCQlVc2VyQ29kZTpbCgkJCQkJeyByZXF1aXJlZDogdHJ1ZSwgdHJpZ2dlcjogJ2JsdXInLCB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSxjYWxsYmFjayk9PnsKCQkJCQkJaWYgKCF2YWx1ZSl7CgkJCQkJCQljYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeeZu+W9lei0puWPtycpKQoJCQkJCQl9ZWxzZSBpZiAoIXZhbHVlLmlzQ05QaG9uZSgpKXsKCQkJCQkJCWNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5q2j56Gu55qEMTHkvY3miYvmnLrlj7fnoIEnKSkKCQkJCQkJfWVsc2UgewoJCQkJCQkJY2FsbGJhY2soKQoJCQkJCQl9CgkJCQkJfSB9CgkJCQldLAoJCQkJUGFzc3dvcmQ6WwoJCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnmbvlvZXlr4bnoIEnLCB0cmlnZ2VyOiAnYmx1cicgfSwKCQkJCQl7IG1pbjogNiwgbWF4OiAyMCwgbWVzc2FnZTogJ+mVv+W6puWcqCA2IOWIsCAyMCDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQoJCQkJXSwKCQkJCVVzZXJOYW1lOlsKCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInIH0sCgkJCQkJeyBtaW46IDIsIG1heDogMTUsIG1lc3NhZ2U6ICfplb/luqblnKggMiDliLAgMTUg5Liq5a2X56ymJywgdHJpZ2dlcjogJ2JsdXInIH0KCQkJCV0sCgkJCX0sCgkJCWRhdGE6IFtdLAoJCQlrZXl3b3JkOiAiIiwKCQkJUGFnZVNpemU6IDIwLAoJCQlQYWdlOiAxLAoJCQl0b3RhbDogMCwKCQkJY3VzdG9tZXJzOiBbXSwKCQkJc2VsZWN0Q3VzdG9tZXI6IHt9LAoJCQljdXN0b21lckxpc3Q6W10sCgkJfTsKCX0sCgljb21wdXRlZDogewoJCS4uLm1hcFN0YXRlKFsidUluZm8iXSksCgkJLi4ubWFwU3RhdGUoWyJub3RpY2VFeCJdKSwKCQkuLi5tYXBTdGF0ZShbIm5vdGljZVJvb20iXSkKCX0sCgltb3VudGVkKCkgewoJCXRoaXMucXVlcnlEYXRhKCk7CgkJCgl9LAoJbWV0aG9kczogewoJCWFkZERvY3RvcigpewoJCQl0aGlzLnZpZXcuZG9jdG9ySXNFZGl0ID0gZmFsc2U7CgkJCXRoaXMudmlldy5kb2N0b3IgPSB0cnVlOwoJCX0sCgkJZW50ZXJPcGVyYXRpb24oKXsKCQkJdGhpcy4kcmVmcy5vcGVyYXRpb24udmFsaWRhdGUoKHZhbGlkKT0+ewoJCQkJaWYodmFsaWQpewoJCQkJCWlmKCF0aGlzLnZpZXcub3BlcmF0aW9uSXNFZGl0KQoJCQkJCQl0aGlzLmNyZWF0ZU9wZXJhdGlvbigpOwoJCQkJCWVsc2UgCgkJCQkJCXRoaXMuc2F2ZU9wZXJhdGlvbigpOwoJCQkJfSBlbHNlIHsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0pCgkJfSwKCQlzaG93UGFyaWVudCgpewoJCQl0aGlzLnZpZXcub3BlcmF0aW9uID0gZmFsc2U7CgkJCXRoaXMudmlldy5wYXJpZW50ID0gdHJ1ZTsKCQl9LAoJCWVudGVyU2VsZWN0KCl7CgkJCXRoaXMudmlldy5wYXJpZW50ID0gZmFsc2U7CgkJCWlmKHRoaXMuJHJlZnMucGFyaWVudC5yZXN1bHQubGVuZ3RoID4gMCl7CgkJCQlsZXQgbmFtZXMgPSBbXTsKCQkJCWZvcih2YXIgaSA9IDA7aTx0aGlzLiRyZWZzLnBhcmllbnQucmVzdWx0Lmxlbmd0aDtpKyspewoJCQkJCWxldCBpdGVtID0gdGhpcy4kcmVmcy5wYXJpZW50LnJlc3VsdFtpXTsKCQkJCQluYW1lcy5wdXNoKGl0ZW0uQ3VzdG9tZXJOYW1lKTsKCQkJCX0KCQkJCXRoaXMub3BlcmF0aW9uLkN1c3RvbWVyTmFtZXMgPSBuYW1lcy5qb2luKCIsIikKCQkJfQoJCQl0aGlzLnZpZXcub3BlcmF0aW9uID0gdHJ1ZTsKCQl9LAoJCQoJCWFkZE9wZXJhdGlvbigpewoJCQl0aGlzLnZpZXcuaXNSZXNldFBzdyA9IGZhbHNlOwoJCQl0aGlzLm9wZXJhdGlvbiA9IHsKCQkJCVVzZXJDb2RlOiIiLAoJCQkJUGFzc3dvcmQ6IiIsCgkJCQlVc2VyTmFtZToiIiwKCQkJfQoJCQlpZih0aGlzLiRyZWZzLnBhcmllbnQpCgkJCQl0aGlzLiRyZWZzLnBhcmllbnQucmVzdWx0ID0gW107CgkJCQoJCQl0aGlzLnZpZXcub3BlcmF0aW9uSXNFZGl0ID0gZmFsc2U7CgkJCXRoaXMudmlldy5vcGVyYXRpb24gPSB0cnVlCgkJfSwKCQlvbkRvY3RvclBpYyhlKXsKCQkJdGhpcy5kb3RvY3JEZXRhaWwuSW1hZ2VQYXRoID0gZS5EYXRhLlBhdGg7CgkJfSwKCQlvbkRvY3RvclBpY1JlbW92ZSgpewoJCQl0aGlzLmRvdG9jckRldGFpbC5JbWFnZVBhdGggPSAiIjsKCQl9LAoJCW9uRG9jdG9yUGljZShlKXsKCQkJdGhpcy5hZGRkb2N0b3JEZXRhaWwuSW1hZ2VQYXRoID0gZS5EYXRhLlBhdGg7CgkJfSwKCQlzaG93VXNlclJvbGUoaXRlbSl7CgkJCXRoaXMuc2VsZWN0Q3VzdG9tZXIgPSBpdGVtOwoJCQkvL+WMu+eUn+inkuiJsuS4uiA4CgkJCWlmKChpdGVtLlVzZXJQcm9wZXJ0eSAmIDgpID4gMCl7CgkJCQl0aGlzLnZpZXcuZG9jdG9ySXNFZGl0ID0gdHJ1ZTsKCQkJCXRoaXMudmlldy5kb2N0b3IgPSB0cnVlCgkJCX0KCQkJLy/ov5DokKXkurrlkZjkuLoyCgkJCWlmKChpdGVtLlVzZXJQcm9wZXJ0eSAmIDIpID4gMCl7CgkJCQl0aGlzLnZpZXcuaXNSZXNldFBzdyA9IGZhbHNlOwoJCQkJdGhpcy5xdWVyeU9wZXJhdGlvbkRldGFpbCgpOwoJCQkJdGhpcy52aWV3Lm9wZXJhdGlvbklzRWRpdCA9IHRydWU7CgkJCQl0aGlzLnZpZXcub3BlcmF0aW9uID0gdHJ1ZTsKCQkJfQoJCX0sCgkJU2NoZWR1bGUoaXRlbSl7CgkJCXRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOicvbWFpbi9hY2NvdW50L3NjaGVkdWxpbmcnLHF1ZXJ5OnsnRG9jdG9yR3VpZCc6aXRlbS5Vc2VyR3VpZCwiRG9jdG9yTmFtZSI6aXRlbS5Vc2VyTmFtZX19KQoJCX0sCgkJc2VhcmNoKCkgewoJCQl0aGlzLnF1ZXJ5RGF0YSgpCgkJfSwKCQkvL+abtOaWsOi/kOiQpeS6uuWRmAoJCWFzeW5jIHNhdmVPcGVyYXRpb24oKSB7CgkJCXRoaXMuJGxvYWRpbmcoKTsKCQkJbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5wb3N0KCIvTWVkaWNhbC9TYXZlT3BlcmF0aW9uVXNlciIsdGhpcy5vcGVyYXRpb24pCgkJCXRoaXMuJGxvYWRpbmcoKS5jbG9zZSgpOwoJCQlpZighcmVzLklzUG9zaXRpdmUpewoJCQkJdGhpcy4kdGlwcy53YXJuaW5nKCLkv53lrZjlpLHotKUiKQoJCQkJcmV0dXJuOwoJCQl9ZWxzZXsKCQkJCXRoaXMuJHRpcHMuc3VjY2Vzcygi5L+d5a2Y5oiQ5YqfIikKCQkJfQoJCQl0aGlzLnZpZXcub3BlcmF0aW9uID0gZmFsc2U7CgkJfSwKCQkvL+a3u+WKoOi/kOiQpeS6uuWRmAoJCWFzeW5jIGNyZWF0ZU9wZXJhdGlvbigpewoJCQlsZXQgcGFyYW1zID0gewoJCQkJVXNlckNvZGU6dGhpcy5vcGVyYXRpb24uVXNlckNvZGUsCgkJCQlQYXNzd29yZDptZDUodGhpcy5vcGVyYXRpb24uUGFzc3dvcmQpLAoJCQkJVXNlck5hbWU6dGhpcy5vcGVyYXRpb24uVXNlck5hbWUsCgkJCX07CgkJCWlmKHRoaXMuJHJlZnMucGFyaWVudCYmdGhpcy4kcmVmcy5wYXJpZW50LnJlc3VsdC5sZW5ndGggPiAwKXsKCQkJCWxldCBndWlkcyA9IFtdOwoJCQkJZm9yKHZhciBpID0gMDtpPHRoaXMuJHJlZnMucGFyaWVudC5yZXN1bHQubGVuZ3RoO2krKyl7CgkJCQkJbGV0IGl0ZW0gPSB0aGlzLiRyZWZzLnBhcmllbnQucmVzdWx0W2ldOwoJCQkJCWd1aWRzLnB1c2goaXRlbS5DdXN0b21lckd1aWQpOwoJCQkJfQoJCQkJcGFyYW1zLkN1c3RvbWVyR3VpZHMgPSBndWlkcy5qb2luKCJ8IikKCQkJfQoJCQl0aGlzLiRsb2FkaW5nKCk7CgkJCWxldCByZXMgPSBhd2FpdCB0aGlzLiRhcGkucG9zdCgiL01lZGljYWwvQ3JlYXRlT3BlcmF0aW9uVXNlciIscGFyYW1zKQoJCQlpZighcmVzLklzUG9zaXRpdmUpewoJCQkJdGhpcy4kdGlwcy5jb2RlKHJlcy5FcnJvclNyYyxyZXMuRXJyb3JDb2RlKTsKCQkJCXJldHVybgoJCQl9CgkJCXRoaXMuJHRpcHMuc3VjY2Vzcygi5re75Yqg5oiQ5YqfIik7CgkJCXRoaXMucXVlcnlEYXRhKCk7CgkJCXRoaXMudmlldy5vcGVyYXRpb24gPSBmYWxzZTsKCQl9LAoJCS8v6I635Y+W55So5oi35pWw5o2uCgkJYXN5bmMgcXVlcnlEYXRhKCkgewoJCQlsZXQgcGFyYW1zID0gewoJCQkJa2V5d29yZDogdGhpcy5rZXl3b3JkLAoJCQkJcGFnZTogdGhpcy5QYWdlLAoJCQkJUGFnZVNpemU6IHRoaXMuUGFnZVNpemUKCQkJfTsKCQkJdGhpcy4kbG9hZGluZygpOwoJCQlsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldCgiL0NvbW11bmljYXRpb24vUXVlcnlVc2VyIixwYXJhbXMpCgkJCXRoaXMuJGxvYWRpbmcoKS5jbG9zZSgpOwoJCQlpZighcmVzLklzUG9zaXRpdmUpewoJCQkJdGhpcy4kdGlwcy53YXJuaW5nKCLmn6Xor6LmlbDmja7lvILluLgiKQoJCQkJcmV0dXJuOwoJCQl9CgkJCXRoaXMuY3VzdG9tZXJzID0gcmVzLkRhdGEuRGF0YUxpc3Q7CgkJCXRoaXMudG90YWwgPSByZXMuRGF0YS5Ub3RhbENvdW50OwoJCX0sCgkJLy/ojrflj5bov5DokKXkurrlkZjor6bmg4UKCQlhc3luYyBxdWVyeU9wZXJhdGlvbkRldGFpbCgpIHsKCQkJbGV0IHBhcmFtcyA9IHsKCQkJCXVzZXJHdWlkOiB0aGlzLnNlbGVjdEN1c3RvbWVyLlVzZXJHdWlkLAoJCQl9OwoJCQl0aGlzLiRsb2FkaW5nKCk7CgkJCWxldCByZXMgPSBhd2FpdCB0aGlzLiRhcGkuZ2V0KCIvQ29tbXVuaWNhdGlvbi9HZXRVc2VyRGV0YWlsIixwYXJhbXMpCgkJCXRoaXMuJGxvYWRpbmcoKS5jbG9zZSgpOwoJCQlpZighcmVzLklzUG9zaXRpdmUpewoJCQkJdGhpcy4kdGlwcy53YXJuaW5nKCLmn6Xor6LmlbDmja7lvILluLgiKQoJCQkJcmV0dXJuOwoJCQl9CgkJCXRoaXMub3BlcmF0aW9uID0gcmVzLkRhdGE7CgkJCXRoaXMub3BlcmF0aW9uLklzRGlzYWJsZWQgPSB0aGlzLm9wZXJhdGlvbi5Jc0Rpc2FibGVkID09IDE7CgkJfSwJCQkJIAoJfQp9Owo="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"pages/main/account","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-row>\r\n\t\t\t<el-col :span=\"24\" style=\"margin-bottom: 15px;\">\r\n\t\t\t\t<el-row type=\"flex\">\r\n\t\t\t\t\t<el-col :span=\"10\">\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-input v-model=\"keyword\" placeholder=\"请输入名称或手机号进行搜索\">\r\n\t\t\t\t\t\t\t<template slot=\"prepend\">搜索</template>\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"2\">\r\n\t\t\t\t\t\t<el-button @click=\"search\" type=\"primary\">查询</el-button>\r\n\t\t\t\t\t\t<!-- <el-button plain>重置</el-button> -->\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<el-button @click=\"addOperation()\" type=\"primary\">添加运营人员</el-button>\r\n\t\t\t\t\t\t<el-button @click=\"addDoctor()\" type=\"primary\">添加医生</el-button>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-col>\r\n\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t<el-table :data=\"customers\" max-height=\"650px\" border>\r\n\t\t\t\t\t<el-table-column type=\"index\" label=\"序号\" width=\"50\"></el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"UserCode\" label=\"用户账号\"></el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"UserName\" label=\"用户名称\"></el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"CreateDate\" label=\"创建时间\"></el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"UserRoleName\" label=\"用户角色\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<p v-if=\"(scope.row.UserProperty & 1) == 1\">系统管理员</p>\r\n\t\t\t\t\t\t\t<p v-else-if=\"(scope.row.UserProperty & 8) == 8\">医生</p>\r\n\t\t\t\t\t\t\t<p v-else-if=\"(scope.row.UserProperty & 2) == 2\">运营人员</p>\r\n\t\t\t\t\t\t\t<p v-else-if=\"(scope.row.UserProperty & 4) == 4\">用户</p>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"操作\" width=\"300\" align=\"center\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<el-link type=\"primary\" @click=\"showUserRole(scope.row)\" style=\"margin-right: 10px;\">详情</el-link>\r\n\t\t\t\t\t\t\t<el-link v-if=\"(scope.row.UserProperty & 8) == 8\" type=\"primary\" @click=\"Schedule(scope.row)\" style=\"margin-right: 10px;\">排班</el-link>\r\n\t\t\t\t\t\t\t<!-- <el-link type=\"primary\" @click=\"showUserRole(scope.row)\" style=\"margin-right: 10px;\">权限</el-link> -->\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t\t<el-pagination style=\"margin:10px 0;\" background layout=\"total, sizes, prev, pager, next, jumper\" :page-sizes=\"[30,50,100,200]\" :page-size=\"20\" :total=\"total\"></el-pagination>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t\t<!-- 医生人员弹窗 -->\r\n\t\t<doctor v-model=\"view.doctor\" :isEdit=\"view.doctorIsEdit\" :docotrGuid=\"selectCustomer.UserGuid\"></doctor>\r\n\t\t<!-- 运营人员弹窗 -->\r\n\t\t<el-dialog title=\"运营人员\" :visible.sync=\"view.operation\">\r\n\t\t\t<el-form :model=\"operation\" :rules=\"rules\" style=\"width:500px;margin:0 auto\" label-width=\"120px\" label-position=\"left\" ref=\"operation\">\r\n\t\t\t\t<el-form-item v-if=\"view.operationIsEdit\" label=\"账号状态\">\r\n\t\t\t\t\t<el-radio-group v-model=\"operation.IsDisabled\">\r\n\t\t\t\t\t\t<el-radio :label=\"false\">正常</el-radio>\r\n\t\t\t\t\t\t<el-radio :label=\"true\">禁用</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"登录账号\" prop=\"UserCode\">\r\n\t\t\t\t\t<el-input v-model=\"operation.UserCode\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item v-if=\"!view.operationIsEdit\" label=\"登录密码\" prop=\"Password\">\r\n\t\t\t\t\t<el-input type=\"password\" v-model=\"operation.Password\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item v-if=\"view.isResetPsw\" label=\"登录密码\">\r\n\t\t\t\t\t<el-input type=\"password\" v-model=\"operation.Password\" style=\"width:80%\"></el-input>&nbsp;&nbsp;<el-button @click=\"view.isResetPsw = false\">取消</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item v-if=\"view.operationIsEdit && !view.isResetPsw\" label=\"登录密码\">\r\n\t\t\t\t\t<el-button @click=\"view.isResetPsw = true\" type=\"danger\">重设密码</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"姓名\" prop=\"UserName\">\r\n\t\t\t\t\t<el-input v-model=\"operation.UserName\" ></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"分配客户\">\r\n\t\t\t\t\t<el-button @click=\"showParient\" type=\"text\">{{ operation.CustomerNames || \"未选择\" }}</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"view.operation=false\">取消</el-button>\r\n\t\t\t\t<el-button @click=\"enterOperation\" type=\"primary\">确定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t\t<!-- 患者选择框 -->\r\n\t\t<el-dialog title=\"选择患者\" :visible.sync=\"view.parient\">\r\n\t\t\t<parient ref=\"parient\" style=\"padding:0px 150px\"></parient>\t\t\t\t\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"view.parient=false\">取消</el-button>\r\n\t\t\t\t<el-button @click=\"enterSelect\" type=\"primary\">确定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from \"vuex\";\r\n\timport conf from '@/conf/conf.js'\r\n\timport parient from '@/pages/main/patients/patientSelect.vue'\r\n\timport doctor from '@/pages/main/account/doctor.vue'\r\n\timport md5 from \"js-md5\"\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tparient,\r\n\t\t\tdoctor\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuploadUrl:conf.getCurrentUploadAddr(),\r\n\t\t\t\tuploadData:{\r\n\t\t\t\t\tmode:\"upload\"\r\n\t\t\t\t},\r\n\t\t\t\tview: {\r\n\t\t\t\t\tdoctor: false,\r\n\t\t\t\t\toperation:false,\r\n\t\t\t\t\toperationIsEdit:false,\r\n\t\t\t\t\tdoctorIsEdit:false,\r\n\t\t\t\t\tparient:false,\r\n\t\t\t\t\tisResetPsw:false,\r\n\t\t\t\t},\r\n\t\t\t\tdotocrDetail:{},\r\n\t\t\t\tadddoctorDetail:{},\r\n\t\t\t\tdoctor:{\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\toperation:{\r\n\t\t\t\t\tUserCode:\"\",\r\n\t\t\t\t\tPassword:\"\",\r\n\t\t\t\t\tUserName:\"\",\r\n\t\t\t\t\tCustomerGuids:\"\",\r\n\t\t\t\t\tCustomerNames:\"\",\r\n\t\t\t\t},\r\n\t\t\t\trules:{\r\n\t\t\t\t\tUserCode:[\r\n\t\t\t\t\t\t{ required: true, trigger: 'blur', validator: (rule, value,callback)=>{\r\n\t\t\t\t\t\t\tif (!value){\r\n\t\t\t\t\t\t\t\tcallback(new Error('请输入登录账号'))\r\n\t\t\t\t\t\t\t}else if (!value.isCNPhone()){\r\n\t\t\t\t\t\t\t\tcallback(new Error('请输入正确的11位手机号码'))\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tcallback()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tPassword:[\r\n\t\t\t\t\t\t{ required: true, message: '请输入登录密码', trigger: 'blur' },\r\n\t\t\t\t\t\t{ min: 6, max: 20, message: '长度在 6 到 20 个字符', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tUserName:[\r\n\t\t\t\t\t\t{ required: true, message: '请输入用户名称', trigger: 'blur' },\r\n\t\t\t\t\t\t{ min: 2, max: 15, message: '长度在 2 到 15 个字符', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\tdata: [],\r\n\t\t\t\tkeyword: \"\",\r\n\t\t\t\tPageSize: 20,\r\n\t\t\t\tPage: 1,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tcustomers: [],\r\n\t\t\t\tselectCustomer: {},\r\n\t\t\t\tcustomerList:[],\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\"uInfo\"]),\r\n\t\t\t...mapState([\"noticeEx\"]),\r\n\t\t\t...mapState([\"noticeRoom\"])\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.queryData();\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\taddDoctor(){\r\n\t\t\t\tthis.view.doctorIsEdit = false;\r\n\t\t\t\tthis.view.doctor = true;\r\n\t\t\t},\r\n\t\t\tenterOperation(){\r\n\t\t\t\tthis.$refs.operation.validate((valid)=>{\r\n\t\t\t\t\tif(valid){\r\n\t\t\t\t\t\tif(!this.view.operationIsEdit)\r\n\t\t\t\t\t\t\tthis.createOperation();\r\n\t\t\t\t\t\telse \r\n\t\t\t\t\t\t\tthis.saveOperation();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tshowParient(){\r\n\t\t\t\tthis.view.operation = false;\r\n\t\t\t\tthis.view.parient = true;\r\n\t\t\t},\r\n\t\t\tenterSelect(){\r\n\t\t\t\tthis.view.parient = false;\r\n\t\t\t\tif(this.$refs.parient.result.length > 0){\r\n\t\t\t\t\tlet names = [];\r\n\t\t\t\t\tfor(var i = 0;i<this.$refs.parient.result.length;i++){\r\n\t\t\t\t\t\tlet item = this.$refs.parient.result[i];\r\n\t\t\t\t\t\tnames.push(item.CustomerName);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.operation.CustomerNames = names.join(\",\")\r\n\t\t\t\t}\r\n\t\t\t\tthis.view.operation = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\taddOperation(){\r\n\t\t\t\tthis.view.isResetPsw = false;\r\n\t\t\t\tthis.operation = {\r\n\t\t\t\t\tUserCode:\"\",\r\n\t\t\t\t\tPassword:\"\",\r\n\t\t\t\t\tUserName:\"\",\r\n\t\t\t\t}\r\n\t\t\t\tif(this.$refs.parient)\r\n\t\t\t\t\tthis.$refs.parient.result = [];\r\n\t\t\t\t\r\n\t\t\t\tthis.view.operationIsEdit = false;\r\n\t\t\t\tthis.view.operation = true\r\n\t\t\t},\r\n\t\t\tonDoctorPic(e){\r\n\t\t\t\tthis.dotocrDetail.ImagePath = e.Data.Path;\r\n\t\t\t},\r\n\t\t\tonDoctorPicRemove(){\r\n\t\t\t\tthis.dotocrDetail.ImagePath = \"\";\r\n\t\t\t},\r\n\t\t\tonDoctorPice(e){\r\n\t\t\t\tthis.adddoctorDetail.ImagePath = e.Data.Path;\r\n\t\t\t},\r\n\t\t\tshowUserRole(item){\r\n\t\t\t\tthis.selectCustomer = item;\r\n\t\t\t\t//医生角色为 8\r\n\t\t\t\tif((item.UserProperty & 8) > 0){\r\n\t\t\t\t\tthis.view.doctorIsEdit = true;\r\n\t\t\t\t\tthis.view.doctor = true\r\n\t\t\t\t}\r\n\t\t\t\t//运营人员为2\r\n\t\t\t\tif((item.UserProperty & 2) > 0){\r\n\t\t\t\t\tthis.view.isResetPsw = false;\r\n\t\t\t\t\tthis.queryOperationDetail();\r\n\t\t\t\t\tthis.view.operationIsEdit = true;\r\n\t\t\t\t\tthis.view.operation = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tSchedule(item){\r\n\t\t\t\tthis.$router.push({path:'/main/account/scheduling',query:{'DoctorGuid':item.UserGuid,\"DoctorName\":item.UserName}})\r\n\t\t\t},\r\n\t\t\tsearch() {\r\n\t\t\t\tthis.queryData()\r\n\t\t\t},\r\n\t\t\t//更新运营人员\r\n\t\t\tasync saveOperation() {\r\n\t\t\t\tthis.$loading();\r\n\t\t\t\tlet res = await this.$api.post(\"/Medical/SaveOperationUser\",this.operation)\r\n\t\t\t\tthis.$loading().close();\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"保存失败\")\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$tips.success(\"保存成功\")\r\n\t\t\t\t}\r\n\t\t\t\tthis.view.operation = false;\r\n\t\t\t},\r\n\t\t\t//添加运营人员\r\n\t\t\tasync createOperation(){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tUserCode:this.operation.UserCode,\r\n\t\t\t\t\tPassword:md5(this.operation.Password),\r\n\t\t\t\t\tUserName:this.operation.UserName,\r\n\t\t\t\t};\r\n\t\t\t\tif(this.$refs.parient&&this.$refs.parient.result.length > 0){\r\n\t\t\t\t\tlet guids = [];\r\n\t\t\t\t\tfor(var i = 0;i<this.$refs.parient.result.length;i++){\r\n\t\t\t\t\t\tlet item = this.$refs.parient.result[i];\r\n\t\t\t\t\t\tguids.push(item.CustomerGuid);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams.CustomerGuids = guids.join(\"|\")\r\n\t\t\t\t}\r\n\t\t\t\tthis.$loading();\r\n\t\t\t\tlet res = await this.$api.post(\"/Medical/CreateOperationUser\",params)\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.code(res.ErrorSrc,res.ErrorCode);\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$tips.success(\"添加成功\");\r\n\t\t\t\tthis.queryData();\r\n\t\t\t\tthis.view.operation = false;\r\n\t\t\t},\r\n\t\t\t//获取用户数据\r\n\t\t\tasync queryData() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tkeyword: this.keyword,\r\n\t\t\t\t\tpage: this.Page,\r\n\t\t\t\t\tPageSize: this.PageSize\r\n\t\t\t\t};\r\n\t\t\t\tthis.$loading();\r\n\t\t\t\tlet res = await this.$api.get(\"/Communication/QueryUser\",params)\r\n\t\t\t\tthis.$loading().close();\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"查询数据异常\")\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.customers = res.Data.DataList;\r\n\t\t\t\tthis.total = res.Data.TotalCount;\r\n\t\t\t},\r\n\t\t\t//获取运营人员详情\r\n\t\t\tasync queryOperationDetail() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tuserGuid: this.selectCustomer.UserGuid,\r\n\t\t\t\t};\r\n\t\t\t\tthis.$loading();\r\n\t\t\t\tlet res = await this.$api.get(\"/Communication/GetUserDetail\",params)\r\n\t\t\t\tthis.$loading().close();\r\n\t\t\t\tif(!res.IsPositive){\r\n\t\t\t\t\tthis.$tips.warning(\"查询数据异常\")\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.operation = res.Data;\r\n\t\t\t\tthis.operation.IsDisabled = this.operation.IsDisabled == 1;\r\n\t\t\t},\t\t\t\t \r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}