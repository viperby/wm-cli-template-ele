{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\patients\\detail.vue?vue&type=style&index=0&id=3c8c0103&scoped=true&lang=css&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\patients\\detail.vue","mtime":1601036333156},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\sass-resources-loader\\lib\\loader.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lbC1mb3JtLWl0ZW0gewoJbWFyZ2luLWJvdHRvbTogMTFweDsKfQo="},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2LA;AACA;AACA","file":"detail.vue","sourceRoot":"pages/main/patients","sourcesContent":["<template>\r\n\t<div style=\"height:500px;\">\r\n\t\t<el-col :span=\"24\">\r\n\t\t\t<el-tabs v-model=\"activeName\" @tab-click=\"onTabClick\">\r\n\t\t\t\t<el-tab-pane label=\"基本信息\" name=\"BaseInfo\">\r\n\t\t\t\t\t<el-row type=\"flex\" align=\"middle\" justify=\"start\">\r\n\t\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t\t<el-form label-width=\"180px\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"患者姓名\">\r\n\t\t\t\t\t\t\t\t\t<label>{{customer.CustomerName}}</label>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"患者性别\">\r\n\t\t\t\t\t\t\t\t\t<label>{{customer.Gender||'未知'}}</label>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"出生日期\">\r\n\t\t\t\t\t\t\t\t\t<label>{{customer.BirthDate||customer.BirthDate==='1901-01-01 00:00:00'?'未知':customer.BirthDate}}</label>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"联系电话\">\r\n\t\t\t\t\t\t\t\t\t<label>{{customer.PhoneNO}}</label>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"身份证号\">\r\n\t\t\t\t\t\t\t\t\t<label>{{customer.CardID}}</label>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"约诊次数\">\r\n\t\t\t\t\t\t\t\t\t<label>{{customer.SeekAppointmentCount}} 次</label>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"看诊次数\">\r\n\t\t\t\t\t\t\t\t\t<label>{{customer.SeekCount}} 次</label>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"赴日预约\">\r\n\t\t\t\t\t\t\t\t\t<label>{{customer.GoJapanAppointmentCount}} 次</label>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t<!-- <el-col :span=\"8\">\r\n\t\t\t\t\t\t\t<img src=\"@/src/assets/images/idcard_front.png\" width=\"300\" alt />\r\n\t\t\t\t\t\t</el-col> -->\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t\t<el-tab-pane label=\"患者病历\" name=\"HealthRecord\">\r\n\t\t\t\t\t<el-table height=\"450\" v-loading=\"customerHealthRecordLoading\" :data=\"customerHealthRecord\" border>\r\n\t\t\t\t\t\t<el-table-column type=\"index\" label=\"序号\" width=\"80\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"MedicalRecordName\" label=\"病历标题\" width=\"250\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"Remarks\" label=\"病历描述\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column label=\"病历附件\" align=\"center\" width=\"120\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-link type=\"primary\" @click=\"onShowHealthRecordDetail(scope.row)\">查看</el-link>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t</el-table>\r\n\t\t\t\t\t<el-pagination style=\"margin:10px 0;\" background layout=\"total, sizes, prev, pager, next, jumper\" :page-sizes=\"[20,50,100,200]\"\r\n\t\t\t\t\t\t:page-size=\"20\" :total=\"10\"></el-pagination>\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t\t<el-tab-pane label=\"看诊记录\" name=\"SeekRecord\">\r\n\t\t\t\t\t<el-table height=\"450\" v-loading=\"customerSeekRecordLoading\" :data=\"customerSeekRecord\" border>\r\n\t\t\t\t\t\t<el-table-column type=\"index\" label=\"序号\" width=\"80\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"TargetDate\" label=\"看诊时间\" width=\"180\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"DoctorName\" label=\"看诊医生\" width=\"120\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"MedicalDesc\" label=\"诊疗情况\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column label=\"医生处方\" align=\"center\" width=\"120\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-link type=\"primary\" @click=\"$tips.warning('敬请期待')\">查看</el-link>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t<el-table-column label=\"支付详情\" align=\"center\" width=\"120\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-link type=\"primary\" @click=\"$tips.warning('敬请期待')\">待支付</el-link>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t</el-table>\r\n\t\t\t\t\t<el-pagination style=\"margin:10px 0;\" background layout=\"total, sizes, prev, pager, next, jumper\" :page-sizes=\"[20,50,100,200]\"\r\n\t\t\t\t\t\t:page-size=\"20\" :total=\"customerSeekRecordTotal\"></el-pagination>\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t</el-tabs>\r\n\t\t</el-col>\r\n\r\n\t\t<el-dialog title=\"患者病历\" :visible.sync=\"healthRecordDtlDialog\" :modal-append-to-body=\"false\" :append-to-body=\"true\">\r\n\t\t\t<health-record-detail :id=\"selectHealthRecord.MedicalRecordGuid\"></health-record-detail>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport healthRecordDetail from \"@/pages/main/appointment/health_record_detail.vue\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\thealthRecordDetail\r\n\t\t},\r\n\t\tname: \"PatientDetails\",\r\n\t\tprops: {\r\n\t\t\tcustomer: {}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcustomer: function(v) {\r\n\t\t\t\tthis.reset();\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactiveName: \"BaseInfo\",\r\n\t\t\t\tcustomerBaseInfo: {},\r\n\t\t\t\tcustomerHealthRecord: [],\r\n\t\t\t\tcustomerSeekRecord: [],\r\n\t\t\t\tcustomerSeekRecordTotal: 0,\r\n\t\t\t\tcustomerHealthRecordLoading: false,\r\n\t\t\t\tcustomerSeekRecordLoading: false,\r\n\t\t\t\thealthRecordDtlDialog: false,\r\n\t\t\t\tselectHealthRecord: {\r\n\t\t\t\t\tMedicalRecordGuid: \"\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\treset() {\r\n\t\t\t\tthis.activeName = \"BaseInfo\";\r\n\t\t\t\tthis.customerBaseInfo = {};\r\n\t\t\t\tthis.customerHealthRecord = [];\r\n\t\t\t\tthis.customerSeekRecord = [];\r\n\t\t\t\tthis.customerSeekRecordTotal = 0;\r\n\t\t\t\tthis.healthRecordDtlDialog = false;\r\n\t\t\t},\r\n\t\t\tonShowHealthRecordDetail(record) {\r\n\t\t\t\tthis.healthRecordDtlDialog = true;\r\n\t\t\t\tthis.selectHealthRecord = record;\r\n\t\t\t},\r\n\t\t\tonTabClick(tab) {\r\n\t\t\t\tswitch (tab.name) {\r\n\t\t\t\t\tcase \"BaseInfo\":\r\n\t\t\t\t\t\t//this.getCustomerBaseInfo();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"HealthRecord\":\r\n\t\t\t\t\t\tthis.queryCustomerHealthRecord();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"SeekRecord\":\r\n\t\t\t\t\t\tthis.queryCustomerSeekRecord();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//患者基础信息\r\n\t\t\tgetCustomerBaseInfo() {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\t//_this.$loading();\r\n\t\t\t\tthis.$api\r\n\t\t\t\t\t.get(\"/Medical/GetCustomerBaseInfo\", {\r\n\t\t\t\t\t\tCustomerUserGuid: this.customer.UserGuid\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t//_this.$loading().close();\r\n\t\t\t\t\t\tif (res.isPositive) {\r\n\t\t\t\t\t\t\tthis.$tips.error(\"查询患者基本信息失败\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.customerBaseInfo = res.Data;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//患者健康档案\r\n\t\t\tqueryCustomerHealthRecord() {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tthis.customerHealthRecordLoading = true;\r\n\t\t\t\tthis.$api\r\n\t\t\t\t\t.get(\"/Medical/QueryCustomerMedicalRecord\", {\r\n\t\t\t\t\t\tCustomerGuid: this.customer.CustomerGuid\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t_this.customerHealthRecordLoading = false;\r\n\t\t\t\t\t\t_this.customerHealthRecord = res.Data.DataList;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//患者看诊记录\r\n\t\t\tqueryCustomerSeekRecord() {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tthis.customerSeekRecordLoading = true;\r\n\t\t\t\tthis.$api\r\n\t\t\t\t\t.get(\"/Medical/QueryCustomerMedicalVisit\", {\r\n\t\t\t\t\t\tCustomerGuid: this.customer.CustomerGuid\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t_this.customerSeekRecordLoading = false;\r\n\t\t\t\t\t\t_this.customerSeekRecord = res.Data.DataList;\r\n\t\t\t\t\t\t_this.customerSeekRecordTotal = res.Data.TotalCount;\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.el-form-item {\r\n\t\tmargin-bottom: 11px;\r\n\t}\r\n</style>\r\n"]}]}