{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\thread-loader\\dist\\cjs.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\common\\room.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\common\\room.vue","mtime":1594278821262},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovR2FlYVByb2plY3QvanBuX21lZGljYWxfd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovR2FlYVByb2plY3QvanBuX21lZGljYWxfd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHZpZGVvRWxlbWVudCBmcm9tICdAL3BhZ2VzL2NvbW1vbi92aWRlb0VsZW1lbnQudnVlJzsKaW1wb3J0IE5vdGljZVNESyBmcm9tICdAL3V0aWxzL25vdGljZVNESy9pbmRleC5qcyc7CmltcG9ydCBSdGNTREsgZnJvbSAnQC91dGlscy9ydGNTREsvcnRjLmpzJzsKaW1wb3J0IGNvbmYgZnJvbSAnQC9jb25mL2NvbmYuanMnOwppbXBvcnQgeyBtYWtlR3VpZCB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9tYWtlR3VpZC5qcyc7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IG5vdGljZSBmcm9tICdAL3V0aWxzL21peGlucy9ub3RpY2UuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWyJ1SW5mbyJdKSksIG1hcFN0YXRlKFsibm90aWNlUm9vbSJdKSksCiAgbWl4aW5zOiBbbm90aWNlXSwKICBjb21wb25lbnRzOiB7CiAgICB2aWRlb0VsZW1lbnQ6IHZpZGVvRWxlbWVudAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJTdHJlYW1zOiB7fSwKICAgICAgdXNlclJ0Y3M6IHt9LAogICAgICB0b2tlbnM6IHt9LAogICAgICBsb2NhbFN0cmVhbTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrTWVkaWE6IGZ1bmN0aW9uIGNoZWNrTWVkaWEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbWVkaWFEZXZpY2VzOiBuYXZpZ2F0b3IgIT0gdW5kZWZpbmVkICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMgIT0gdW5kZWZpbmVkCiAgICAgIH07CiAgICB9LAogICAgY3JlYXRlVmlkZW86IGZ1bmN0aW9uIGNyZWF0ZVZpZGVvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgc3RyZWFtLCB2aWRlbywgcGFyZW50RWxlbWVudDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jcmVhdGVMb2NhbFN0ZWFtKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHN0cmVhbSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2NhbFN0cmVhbSA9IHN0cmVhbTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhbFN0cmVhbScpLmlubmVySFRNTCA9ICIiOwogICAgICAgICAgICAgICAgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpOwogICAgICAgICAgICAgICAgdmlkZW8ud2lkdGggPSAzMDA7CiAgICAgICAgICAgICAgICB2aWRlby5oZWlnaHQgPSAzMDA7CiAgICAgICAgICAgICAgICB2aWRlby5hdXRvcGxheSA9IHRydWU7CiAgICAgICAgICAgICAgICB2aWRlby5wbGF5c2lubGluZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgdmlkZW8uY29udHJvbHMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHZpZGVvLm11dGVkID0gIm11dGVkIjsKICAgICAgICAgICAgICAgIHZpZGVvLnNyY09iamVjdCA9IF90aGlzLmxvY2FsU3RyZWFtOwogICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2NhbFN0cmVhbSIpOwogICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh2aWRlbyk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3JlYXRlTG9jYWxTdGVhbTogZnVuY3Rpb24gY3JlYXRlTG9jYWxTdGVhbSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5jaGVja01lZGlhKCkubWVkaWFEZXZpY2VzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoewogICAgICAgICAgICAgICAgICBhdWRpbzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdmlkZW86IHsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogewogICAgICAgICAgICAgICAgICAgICAgaWRlYWw6IDEwODAKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogewogICAgICAgICAgICAgICAgICAgICAgaWRlYWw6IDcyMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNyZWF0ZVJ0Y1NlbmRlcjogZnVuY3Rpb24gY3JlYXRlUnRjU2VuZGVyKHVpZCwgdHlwZSwgcmVhZHkpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgdGhhdCwgcnRjOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGF0ID0gX3RoaXMzOwogICAgICAgICAgICAgICAgcnRjID0gbmV3IFJ0Y1NESyh7CiAgICAgICAgICAgICAgICAgIHNlcnZlOiAic3R1bjpzdHVuLnN0dW5wcm90b2NvbC5vcmc6MzQ3OCIsCiAgICAgICAgICAgICAgICAgIHJlYWR5OiByZWFkeSwKICAgICAgICAgICAgICAgICAgam9pbjogZnVuY3Rpb24gam9pbihzdHJlYW0pIHsKICAgICAgICAgICAgICAgICAgICB0aGF0LiRzZXQodGhhdC51c2VyU3RyZWFtcywgdWlkLCBzdHJlYW0uc3RyZWFtKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBydGMuYWRkU3RlYW0oX3RoaXMzLmxvY2FsU3RyZWFtKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuc2V0VXNlclJ0Y3MocnRjLCB1aWQsIHR5cGUpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBydGMuY3JlYXRlT2ZmZXIoewogICAgICAgICAgICAgICAgICBvZmZlclRvUmVjZWl2ZVZpZGVvOiB0cnVlLAogICAgICAgICAgICAgICAgICBvZmZlclRvUmVjZWl2ZUF1ZGlvOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0My5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0VXNlclJ0Y3M6IGZ1bmN0aW9uIHNldFVzZXJSdGNzKHJ0YywgdWlkLCB0eXBlKSB7CiAgICAgIGlmICghdGhpcy51c2VyUnRjc1t1aWRdKSB7CiAgICAgICAgdGhpcy51c2VyUnRjc1t1aWRdID0gbmV3IE9iamVjdCgpOwogICAgICB9CgogICAgICB0aGlzLnVzZXJSdGNzW3VpZF1bdHlwZV0gPSBydGM7CiAgICB9LAogICAgY3JlYXRlUm9vbTogZnVuY3Rpb24gY3JlYXRlUm9vbShpbmZvLCBwYXIpIHsKICAgICAgdGhpcy5pbml0Um9vbShpbmZvLCBwYXIpOwogICAgfSwKICAgIGNyZWF0ZVJ0Y1JldmljZTogZnVuY3Rpb24gY3JlYXRlUnRjUmV2aWNlKHVpZCwgdHlwZSwgcmVhZHkpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgdGhhdCwgcnRjOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGF0ID0gX3RoaXM0OwogICAgICAgICAgICAgICAgcnRjID0gbmV3IFJ0Y1NESyh7CiAgICAgICAgICAgICAgICAgIHNlcnZlOiAic3R1bjpzdHVuLnN0dW5wcm90b2NvbC5vcmc6MzQ3OCIsCiAgICAgICAgICAgICAgICAgIHJlYWR5OiByZWFkeSwKICAgICAgICAgICAgICAgICAgam9pbjogZnVuY3Rpb24gam9pbihzdHJlYW0pIHsKICAgICAgICAgICAgICAgICAgICB0aGF0LiRzZXQodGhhdC51c2VyU3RyZWFtcywgdWlkLCBzdHJlYW0uc3RyZWFtKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7IC8vcnRjLnNvY3VyZS5hZGRUcmFuc2NlaXZlcignYXVkaW8nLCB7ICdkaXJlY3Rpb24nOiAncmVjdm9ubHknIH0pOwogICAgICAgICAgICAgICAgLy9ydGMuc29jdXJlLmFkZFRyYW5zY2VpdmVyKCd2aWRlbycsIHsgJ2RpcmVjdGlvbic6ICdyZWN2b25seScgfSk7CiAgICAgICAgICAgICAgICAvL3J0Yy5zZW5kT2ZmZXIgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBydGMuYWRkU3RlYW0oX3RoaXM0LmxvY2FsU3RyZWFtKTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNC51c2VyUnRjc1t1aWRdIHx8ICFfdGhpczQudXNlclJ0Y3NbdWlkXVt0eXBlXSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuc2V0VXNlclJ0Y3MocnRjLCB1aWQsIHR5cGUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBydGM7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGV2ZW5zOiBmdW5jdGlvbiBldmVucygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMuY3JlYXRlVmlkZW8oKTsgLy8gdGhpcy4kZXZlbi4kb24oInVzZXJfbGl2ZV9sYXVuY2giLChpbmZvKT0+ewogICAgICAvLyAJdGhpcy5jcmVhdGVWaWRlbygpOwogICAgICAvLyB9KQogICAgICAvL+W9k+WJjeeUqOaIt+S4u+WKqOmAgOWHugoKICAgICAgdGhpcy4kZXZlbi4kb24oInVzZXJfbGl2ZV9sZWF2ZSIsIGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgX3RoaXM1LnVzZXJSdGNzID0ge307CiAgICAgICAgdmFyIGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2pzLXZpZGVvYm94JylbMF07CiAgICAgICAgYm94LmlubmVySFRNTCA9ICIiOwogICAgICAgIF90aGlzNS51c2VyU3RyZWFtcyA9IHt9OwogICAgICB9KTsgLy/lvZPlr7nmlrnpgInmi6nku6Xop4bpopHmlrnlvI/mjqXpgJrml7YKCiAgICAgIHRoaXMuJGV2ZW4uJG9uKCJub3RpY2VfbGl2ZV9jb25uZWN0YWxsIiwgZnVuY3Rpb24gKGluZm8pIHsKICAgICAgICAvL+W9k+WJjeeUqOaIt+W3suWcqOaIv+mXtAogICAgICAgIGlmIChfdGhpczUubm90aWNlUm9vbSAmJiBfdGhpczUubm90aWNlUm9vbS5pbmZvICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgdG86IGluZm8uRnJvbS5HdWlkLAogICAgICAgICAgICBpbmZvOiB7CiAgICAgICAgICAgICAgUGxhdGU6IF90aGlzNS5ub3RpY2VSb29tLmluZm8ucGxhdGUsCiAgICAgICAgICAgICAgQ29kZTogX3RoaXM1Lm5vdGljZVJvb20uaW5mby5jb2RlLAogICAgICAgICAgICAgIFZpZGVvVHlwZTogaW5mby5EYXRhLk1lc3NhZ2UuQW5zd2VyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHR5cGU6ICcnCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzNS5ub3RpY2VFeC5zZW5kKG1zZy50bywgbXNnLmluZm8pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL+W9k+WJjeeUqOaIt+S4jeWcqOaIv+mXtAogICAgICAgICAgX3RoaXM1LmNyZWF0ZVJvb20oaW5mbyk7CiAgICAgICAgfQogICAgICB9KTsgLy/lvZPmiL/pl7Tlt7Llu7rnq4sKCiAgICAgIHRoaXMuJGV2ZW4uJG9uKCJ1c2VyX3Jvb21fY3JlYXRlIiwgZnVuY3Rpb24gKGluZm8sIG5vdGljZSkgewogICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICB0bzogaW5mby5Gcm9tLkd1aWQsCiAgICAgICAgICBpbmZvOiB7CiAgICAgICAgICAgIFBsYXRlOiBub3RpY2UuaW5mby5wbGF0ZSwKICAgICAgICAgICAgQ29kZTogbm90aWNlLmluZm8uY29kZSwKICAgICAgICAgICAgVmlkZW9UeXBlOiBpbmZvLkRhdGEuTWVzc2FnZS5BbnN3ZXIKICAgICAgICAgIH0sCiAgICAgICAgICB0eXBlOiAnJwogICAgICAgIH07CgogICAgICAgIF90aGlzNS5ub3RpY2VFeC5zZW5kKG1zZy50bywgbXNnLmluZm8pOwogICAgICB9KTsgLy/mlLbliLDliJvlu7rmiL/pl7TmjIfku6QKCiAgICAgIHRoaXMuJGV2ZW4uJG9uKCJub3RpY2Vfcm9vbV9idWlsZCIsIGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgX3RoaXM1LmNyZWF0ZVJvb20oaW5mbywgewogICAgICAgICAgcGxhdGU6IGluZm8uRGF0YS5NZXNzYWdlLlBsYXRlCiAgICAgICAgfSk7CiAgICAgIH0pOyAvL+aUtuWIsOWKoOWFpeaIv+mXtOaMh+S7pAoKICAgICAgdGhpcy4kZXZlbi4kb24oIm5vdGljZV9yb29tX2pvaW4iLCBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIHZhciByZWFkeSA9IGZ1bmN0aW9uIHJlYWR5KHRva2VuKSB7CiAgICAgICAgICB2YXIgcnRjID0gc2VsZi51c2VyUnRjc1tpbmZvLkRhdGEuQWNjZXB0Lkd1aWRdLmRlc2s7CiAgICAgICAgICB2YXIgc2VuZE1zZyA9IHsKICAgICAgICAgICAgdHlwZTogJ3Rva2VuJywKICAgICAgICAgICAgdG9rZW46IHRva2VuCiAgICAgICAgICB9OyAvL+ajgOafpeaYr+WQpuWtmOWcqOetieW+heaOpeaUtueahHRva2VuCgogICAgICAgICAgaWYgKF90aGlzNS50b2tlbnNbaW5mby5Gcm9tLkd1aWRdKSB7CiAgICAgICAgICAgIHJ0Yy5hZGRJY2VDYW5kaWRhdGUoX3RoaXM1LnRva2Vuc1tpbmZvLkZyb20uR3VpZF0pOwogICAgICAgICAgICBkZWxldGUgX3RoaXM1LnRva2Vuc1tpbmZvLkZyb20uR3VpZF07CiAgICAgICAgICB9CgogICAgICAgICAgc2VsZi5ub3RpY2VSb29tLnNlbmQoaW5mby5EYXRhLkFjY2VwdC5HdWlkLCBzZW5kTXNnKTsKICAgICAgICB9OwoKICAgICAgICBfdGhpczUuY3JlYXRlUnRjU2VuZGVyKGluZm8uRGF0YS5BY2NlcHQuR3VpZCwgJ2Rlc2snLCByZWFkeSkudGhlbihmdW5jdGlvbiAob2ZmZXIpIHsKICAgICAgICAgIHZhciBzZW5kTXNnID0gewogICAgICAgICAgICB0eXBlOiAncHVzaCcsCiAgICAgICAgICAgIGpzZXA6IG9mZmVyCiAgICAgICAgICB9OwogICAgICAgICAgc2VsZi5ub3RpY2VSb29tLnNlbmQoaW5mby5EYXRhLkFjY2VwdC5HdWlkLCBzZW5kTXNnKTsKICAgICAgICB9KTsKICAgICAgfSk7IC8v5LqS5o2idG9rZW7mjIfku6QKCiAgICAgIHRoaXMuJGV2ZW4uJG9uKCJub3RpY2VfY2hhbm5lbF90b2tlbiIsIGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgdmFyIHJlYyA9IGluZm8uRGF0YS5NZXNzYWdlOyAvL+W9k+i/meadoea2iOaBr+aOpeWPl+aXtu+8jOacieWPr+iDveacrOWcsOW6lOetlOS/oeS7pOi/mOacquWIm+W7uuWujOaIkAoKICAgICAgICBpZiAoX3RoaXM1LnVzZXJSdGNzW2luZm8uRnJvbS5HdWlkXSkgewogICAgICAgICAgdmFyIHJ0YyA9IF90aGlzNS51c2VyUnRjc1tpbmZvLkZyb20uR3VpZF0uZGVzazsKICAgICAgICAgIHJ0Yy5hZGRJY2VDYW5kaWRhdGUocmVjLnRva2VuKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy/mmoLlrZgKICAgICAgICAgIF90aGlzNS50b2tlbnNbaW5mby5Gcm9tLkd1aWRdID0gcmVjLnRva2VuOwogICAgICAgIH0KICAgICAgfSk7IC8v5pS25Yiw6YCA5Ye65oi/6Ze05oyH5LukCgogICAgICB0aGlzLiRldmVuLiRvbigibm90aWNlX3Jvb21fbGVhdmUiLCBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIF90aGlzNS4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgIG1lc3NhZ2U6IGluZm8uRGF0YS5BY2NlcHQuTmFtZSArICfpgIDlh7rop4bpopHvvIEnCiAgICAgICAgfSk7CgogICAgICAgIHZhciBydGMgPSBfdGhpczUudXNlclJ0Y3NbaW5mby5EYXRhLkFjY2VwdC5HdWlkXS5kZXNrOwogICAgICAgIHJ0Yy5zb2N1cmUuY2xvc2UoKTsKICAgICAgICBkZWxldGUgX3RoaXM1LnVzZXJSdGNzW2luZm8uRGF0YS5BY2NlcHQuR3VpZF07CiAgICAgICAgdmFyIHJlbW92ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluZm8uRGF0YS5BY2NlcHQuR3VpZCk7CiAgICAgICAgcmVtb3ZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocmVtb3ZlKTsKICAgICAgICBkZWxldGUgX3RoaXM1LnVzZXJTdHJlYW1zW2luZm8uRGF0YS5BY2NlcHQuR3VpZF07CiAgICAgIH0pOyAvL+W9k+aUtuWIsHB1c2jmtojmga8KCiAgICAgIHRoaXMuJGV2ZW4uJG9uKCJub3RpY2VfY2hhbm5lbF9wdXNoIiwgZnVuY3Rpb24gKGluZm8pIHsKICAgICAgICB2YXIgcmVjID0gaW5mby5EYXRhLk1lc3NhZ2U7CgogICAgICAgIHZhciByZWFkeSA9IGZ1bmN0aW9uIHJlYWR5KHRva2VuKSB7CiAgICAgICAgICB2YXIgcnRjID0gc2VsZi51c2VyUnRjc1tpbmZvLkZyb20uR3VpZF0uZGVzazsKICAgICAgICAgIHZhciBzZW5kTXNnID0gewogICAgICAgICAgICB0eXBlOiAndG9rZW4nLAogICAgICAgICAgICB0b2tlbjogdG9rZW4KICAgICAgICAgIH07IC8v5qOA5p+l5piv5ZCm5a2Y5Zyo562J5b6F5o6l5pS255qEdG9rZW4KCiAgICAgICAgICBpZiAoX3RoaXM1LnRva2Vuc1tpbmZvLkZyb20uR3VpZF0pIHsKICAgICAgICAgICAgcnRjLmFkZEljZUNhbmRpZGF0ZShfdGhpczUudG9rZW5zW2luZm8uRnJvbS5HdWlkXSk7CiAgICAgICAgICAgIGRlbGV0ZSBfdGhpczUudG9rZW5zW2luZm8uRnJvbS5HdWlkXTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczUubm90aWNlUm9vbS5zZW5kKGluZm8uRnJvbS5HdWlkLCBzZW5kTXNnKTsKICAgICAgICB9OwoKICAgICAgICBfdGhpczUuY3JlYXRlUnRjUmV2aWNlKGluZm8uRnJvbS5HdWlkLCAnZGVzaycsIHJlYWR5KS50aGVuKGZ1bmN0aW9uIChydGMpIHsKICAgICAgICAgIHJ0Yy5jcmVhdGVBbnN3ZXIocmVjLmpzZXApLnRoZW4oZnVuY3Rpb24gKGFuc3dlcikgewogICAgICAgICAgICB2YXIgc2VuZE1zZyA9IHsKICAgICAgICAgICAgICB0eXBlOiAnc3Vic2NyaWJlJywKICAgICAgICAgICAgICBqc2VwOiBhbnN3ZXIKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIF90aGlzNS5ub3RpY2VSb29tLnNlbmQoaW5mby5Gcm9tLkd1aWQsIHNlbmRNc2cpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOyAvL+W9k+aUtuWIsOiuoumYhea2iOaBrwoKICAgICAgdGhpcy4kZXZlbi4kb24oIm5vdGljZV9jaGFubmVsX3N1YnNjcmliZSIsIGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgdmFyIHJlYyA9IGluZm8uRGF0YS5NZXNzYWdlOwogICAgICAgIHZhciBydGMgPSBfdGhpczUudXNlclJ0Y3NbaW5mby5Gcm9tLkd1aWRdLmRlc2s7CiAgICAgICAgcnRjLnNldFJlbW90ZShyZWMuanNlcCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZXZlbnMoKTsKICB9Cn07"},{"version":3,"sources":["room.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAmBA,OAAA,YAAA,MAAA,iCAAA;AACA,OAAA,SAAA,MAAA,4BAAA;AACA,OAAA,MAAA,MAAA,uBAAA;AACA,OAAA,IAAA,MAAA,gBAAA;AACA,SAAA,QAAA,QAAA,6BAAA;AACA,SAAA,QAAA,EAAA,YAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,0BAAA;AAEA,eAAA;AACA,EAAA,QAAA,kCACA,QAAA,CAAA,CAAA,OAAA,CAAA,CADA,GAEA,QAAA,CAAA,CAAA,YAAA,CAAA,CAFA,CADA;AAKA,EAAA,MAAA,EAAA,CAAA,MAAA,CALA;AAMA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GANA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA;AAJA,KAAA;AAMA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA;AACA,QAAA,YAAA,EAAA,SAAA,IAAA,SAAA,IAAA,SAAA,CAAA,YAAA,IAAA;AADA,OAAA;AAGA,KALA;AAMA,IAAA,WANA,yBAMA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,gBAAA,EADA;;AAAA;AACA,gBAAA,MADA;AAEA,gBAAA,KAAA,CAAA,WAAA,GAAA,MAAA;AACA,gBAAA,QAAA,CAAA,cAAA,CAAA,aAAA,EAAA,SAAA,GAAA,EAAA;AACA,gBAAA,KAJA,GAIA,QAAA,CAAA,aAAA,CAAA,OAAA,CAJA;AAKA,gBAAA,KAAA,CAAA,KAAA,GAAA,GAAA;AACA,gBAAA,KAAA,CAAA,MAAA,GAAA,GAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA,gBAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,gBAAA,KAAA,CAAA,KAAA,GAAA,OAAA;AACA,gBAAA,KAAA,CAAA,SAAA,GAAA,KAAA,CAAA,WAAA;AACA,gBAAA,aAZA,GAYA,QAAA,CAAA,cAAA,CAAA,aAAA,CAZA;AAaA,gBAAA,aAAA,CAAA,WAAA,CAAA,KAAA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA,KApBA;AAqBA,IAAA,gBArBA,8BAqBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,MAAA,CAAA,UAAA,GAAA,YADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,uBAIA,SAAA,CAAA,YAAA,CAAA,YAAA,CAAA;AACA,kBAAA,KAAA,EAAA,IADA;AAEA,kBAAA,KAAA,EAAA;AACA,oBAAA,KAAA,EAAA;AACA,sBAAA,KAAA,EAAA;AADA,qBADA;AAIA,oBAAA,MAAA,EAAA;AACA,sBAAA,KAAA,EAAA;AADA;AAJA;AAFA,iBAAA,CAJA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KApCA;AAqCA,IAAA,eArCA,2BAqCA,GArCA,EAqCA,IArCA,EAqCA,KArCA,EAqCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA,MADA;AAEA,gBAAA,GAFA,GAEA,IAAA,MAAA,CAAA;AACA,kBAAA,KAAA,EAAA,iCADA;AAEA,kBAAA,KAAA,EAAA,KAFA;AAGA,kBAAA,IAHA,gBAGA,MAHA,EAGA;AACA,oBAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,WAAA,EAAA,GAAA,EAAA,MAAA,CAAA,MAAA;AACA;AALA,iBAAA,CAFA;AASA,gBAAA,GAAA,CAAA,QAAA,CAAA,MAAA,CAAA,WAAA;;AACA,gBAAA,MAAA,CAAA,WAAA,CAAA,GAAA,EAAA,GAAA,EAAA,IAAA;;AAVA;AAAA,uBAWA,GAAA,CAAA,WAAA,CAAA;AACA,kBAAA,mBAAA,EAAA,IADA;AAEA,kBAAA,mBAAA,EAAA;AAFA,iBAAA,CAXA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KApDA;AAqDA,IAAA,WArDA,uBAqDA,GArDA,EAqDA,GArDA,EAqDA,IArDA,EAqDA;AACA,UAAA,CAAA,KAAA,QAAA,CAAA,GAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,GAAA,IAAA,IAAA,MAAA,EAAA;AACA;;AACA,WAAA,QAAA,CAAA,GAAA,EAAA,IAAA,IAAA,GAAA;AACA,KA1DA;AA2DA,IAAA,UA3DA,sBA2DA,IA3DA,EA2DA,GA3DA,EA2DA;AACA,WAAA,QAAA,CAAA,IAAA,EAAA,GAAA;AACA,KA7DA;AA8DA,IAAA,eA9DA,2BA8DA,GA9DA,EA8DA,IA9DA,EA8DA,KA9DA,EA8DA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA,MADA;AAEA,gBAAA,GAFA,GAEA,IAAA,MAAA,CAAA;AACA,kBAAA,KAAA,EAAA,iCADA;AAEA,kBAAA,KAAA,EAAA,KAFA;AAGA,kBAAA,IAHA,gBAGA,MAHA,EAGA;AACA,oBAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,WAAA,EAAA,GAAA,EAAA,MAAA,CAAA,MAAA;AACA;AALA,iBAAA,CAFA,EASA;AACA;AACA;;AACA,gBAAA,GAAA,CAAA,QAAA,CAAA,MAAA,CAAA,WAAA;;AACA,oBAAA,CAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA,CAAA,GAAA,EAAA,IAAA,CAAA,EAAA;AACA,kBAAA,MAAA,CAAA,WAAA,CAAA,GAAA,EAAA,GAAA,EAAA,IAAA;AACA;;AAfA;AAAA,uBAgBA,GAhBA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,KAhFA;AAiFA,IAAA,KAjFA,mBAiFA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAFA,CAGA;AACA;AACA;AACA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,EAAA;AACA,YAAA,GAAA,GAAA,QAAA,CAAA,sBAAA,CAAA,aAAA,EAAA,CAAA,CAAA;AACA,QAAA,GAAA,CAAA,SAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,GAAA,EAAA;AACA,OALA,EAPA,CAaA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,wBAAA,EAAA,UAAA,IAAA,EAAA;AACA;AACA,YAAA,MAAA,CAAA,UAAA,IAAA,MAAA,CAAA,UAAA,CAAA,IAAA,IAAA,SAAA,EAAA;AACA,cAAA,GAAA,GAAA;AACA,YAAA,EAAA,EAAA,IAAA,CAAA,IAAA,CAAA,IADA;AAEA,YAAA,IAAA,EAAA;AACA,cAAA,KAAA,EAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,KADA;AAEA,cAAA,IAAA,EAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAFA;AAGA,cAAA,SAAA,EAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AAHA,aAFA;AAOA,YAAA,IAAA,EAAA;AAPA,WAAA;;AAUA,UAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,GAAA,CAAA,EAAA,EAAA,GAAA,CAAA,IAAA;AACA,SAZA,MAYA;AACA;AACA,UAAA,MAAA,CAAA,UAAA,CAAA,IAAA;AACA;AACA,OAlBA,EAdA,CAiCA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,UAAA,IAAA,EAAA,MAAA,EAAA;AACA,YAAA,GAAA,GAAA;AACA,UAAA,EAAA,EAAA,IAAA,CAAA,IAAA,CAAA,IADA;AAEA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,EAAA,MAAA,CAAA,IAAA,CAAA,KADA;AAEA,YAAA,IAAA,EAAA,MAAA,CAAA,IAAA,CAAA,IAFA;AAGA,YAAA,SAAA,EAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AAHA,WAFA;AAOA,UAAA,IAAA,EAAA;AAPA,SAAA;;AASA,QAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,GAAA,CAAA,EAAA,EAAA,GAAA,CAAA,IAAA;AACA,OAXA,EAlCA,CA8CA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,mBAAA,EAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,UAAA,CAAA,IAAA,EAAA;AAAA,UAAA,KAAA,EAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AAAA,SAAA;AACA,OAFA,EA/CA,CAkDA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,GAAA,SAAA,KAAA,CAAA,KAAA,EAAA;AACA,cAAA,GAAA,GAAA,IAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,EAAA,IAAA;AACA,cAAA,OAAA,GAAA;AACA,YAAA,IAAA,EAAA,OADA;AAEA,YAAA,KAAA,EAAA;AAFA,WAAA,CAFA,CAMA;;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,YAAA,GAAA,CAAA,eAAA,CAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,mBAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA;;AACA,UAAA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,EAAA,OAAA;AACA,SAZA;;AAaA,QAAA,MAAA,CAAA,eAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,EAAA,MAAA,EAAA,KAAA,EAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,cAAA,OAAA,GAAA;AACA,YAAA,IAAA,EAAA,MADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA,UAAA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,EAAA,OAAA;AACA,SANA;AAOA,OArBA,EAnDA,CAyEA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,EAAA,UAAA,IAAA,EAAA;AACA,YAAA,GAAA,GAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CADA,CAEA;;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,cAAA,GAAA,GAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA;AACA,UAAA,GAAA,CAAA,eAAA,CAAA,GAAA,CAAA,KAAA;AACA,SAHA,MAGA;AACA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,CAAA,KAAA;AACA;AACA,OAVA,EA1EA,CAqFA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,mBAAA,EAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA;AACA,UAAA,KAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,GAAA;AAFA,SAAA;;AAIA,YAAA,GAAA,GAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,EAAA,IAAA;AACA,QAAA,GAAA,CAAA,MAAA,CAAA,KAAA;AACA,eAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA,YAAA,MAAA,GAAA,QAAA,CAAA,cAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA,QAAA,MAAA,CAAA,UAAA,CAAA,WAAA,CAAA,MAAA;AACA,eAAA,MAAA,CAAA,WAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA,OAXA,EAtFA,CAkGA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,EAAA,UAAA,IAAA,EAAA;AACA,YAAA,GAAA,GAAA,IAAA,CAAA,IAAA,CAAA,OAAA;;AACA,YAAA,KAAA,GAAA,SAAA,KAAA,CAAA,KAAA,EAAA;AACA,cAAA,GAAA,GAAA,IAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA;AACA,cAAA,OAAA,GAAA;AACA,YAAA,IAAA,EAAA,OADA;AAEA,YAAA,KAAA,EAAA;AAFA,WAAA,CAFA,CAMA;;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,YAAA,GAAA,CAAA,eAAA,CAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,mBAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA;;AACA,UAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA,OAAA;AACA,SAZA;;AAaA,QAAA,MAAA,CAAA,eAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA,MAAA,EAAA,KAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,YAAA,CAAA,GAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,gBAAA,OAAA,GAAA;AACA,cAAA,IAAA,EAAA,WADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA;;AAIA,YAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA,OAAA;AACA,WANA;AAOA,SARA;AASA,OAxBA,EAnGA,CA4HA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,0BAAA,EAAA,UAAA,IAAA,EAAA;AACA,YAAA,GAAA,GAAA,IAAA,CAAA,IAAA,CAAA,OAAA;AACA,YAAA,GAAA,GAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA;AACA,QAAA,GAAA,CAAA,SAAA,CAAA,GAAA,CAAA,IAAA;AACA,OAJA;AAKA;AAnNA,GAjBA;AAsOA,EAAA,OAtOA,qBAsOA;AACA,SAAA,KAAA;AACA;AAxOA,CAAA","sourcesContent":["<template>\r\n\t<el-row>\r\n\t\t<el-col :span=\"24\">\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t<el-card id=\"localStream\" style=\"display: inline-block;margin:10px\">\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"16\">\r\n\t\t\t\t\t<div class=\"js-videobox\">\r\n\t\t\t\t\t\t<videoElement v-for=\"(item,key,i) in userStreams\" :key=\"i\" :mid=\"key\" :stream=\"item\"></videoElement>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-col>\r\n\t</el-row>\n</template>\n\n<script>\r\n\timport videoElement from '@/pages/common/videoElement.vue'\r\n\timport NoticeSDK from '@/utils/noticeSDK/index.js'\r\n\timport RtcSDK from '@/utils/rtcSDK/rtc.js'\r\n\timport conf from '@/conf/conf.js'\r\n\timport {makeGuid} from '../../src/utils/makeGuid.js';\r\n\timport {mapState,mapMutations} from 'vuex'\r\n\timport notice from '@/utils/mixins/notice.js'\r\n\t\r\n\texport default {\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\"uInfo\"]),\r\n\t\t\t...mapState([\"noticeRoom\"]),\r\n\t\t},\r\n\t\tmixins:[notice],\r\n\t\tcomponents:{\r\n\t\t\tvideoElement\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tuserStreams:{},\r\n\t\t\t\tuserRtcs:{},\r\n\t\t\t\ttokens:{},\r\n\t\t\t\tlocalStream:null,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tcheckMedia(){\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmediaDevices:navigator != undefined && navigator.mediaDevices != undefined,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync createVideo(){\t\t\t\r\n\t\t\t\tlet stream = await this.createLocalSteam();\r\n\t\t\t\tthis.localStream = stream;\r\n\t\t\t\tdocument.getElementById('localStream').innerHTML = \"\";\r\n\t\t\t\tconst video = document.createElement('video');\r\n\t\t\t\tvideo.width = 300;\r\n\t\t\t\tvideo.height = 300;\r\n\t\t\t\tvideo.autoplay = true;\r\n\t\t\t\tvideo.playsinline = false;\r\n\t\t\t\tvideo.controls = false;\r\n\t\t\t\tvideo.muted = \"muted\";\r\n\t\t\t\tvideo.srcObject = this.localStream;\r\n\t\t\t\tlet parentElement = document.getElementById(\"localStream\");\r\n\t\t\t\tparentElement.appendChild(video);\r\n\t\t\t},\r\n\t\t\tasync createLocalSteam() {\r\n\t\t\t\tif (!this.checkMedia().mediaDevices) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturn await navigator.mediaDevices.getUserMedia({\r\n\t\t\t\t\taudio: true,\r\n\t\t\t\t\tvideo: {\r\n\t\t\t\t\t\twidth: {\r\n\t\t\t\t\t\t\tideal: 1080\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\theight: {\r\n\t\t\t\t\t\t\tideal: 720\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync createRtcSender(uid, type,ready) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet rtc = new RtcSDK({\r\n\t\t\t\t\tserve: \"stun:stun.stunprotocol.org:3478\",\r\n\t\t\t\t\tready:ready,\r\n\t\t\t\t\tjoin(stream){\r\n\t\t\t\t\t\tthat.$set(that.userStreams, uid, stream.stream)\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\trtc.addSteam(this.localStream);\r\n\t\t\t\tthis.setUserRtcs(rtc, uid, type);\r\n\t\t\t\treturn await rtc.createOffer({\r\n\t\t\t\t\tofferToReceiveVideo: true,\r\n\t\t\t\t\tofferToReceiveAudio: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetUserRtcs(rtc,uid,type){\r\n\t\t\t\tif(!this.userRtcs[uid]){\r\n\t\t\t\t\tthis.userRtcs[uid] = new Object();\r\n\t\t\t\t}\r\n\t\t\t\tthis.userRtcs[uid][type] = rtc;\t\r\n\t\t\t},\r\n\t\t\tcreateRoom(info,par){\r\n\t\t\t\tthis.initRoom(info,par);\r\n\t\t\t},\r\n\t\t\tasync createRtcRevice(uid,type,ready){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet rtc = new RtcSDK({\r\n\t\t\t\t\tserve:\"stun:stun.stunprotocol.org:3478\",\r\n\t\t\t\t\tready:ready,\r\n\t\t\t\t\tjoin(stream){\r\n\t\t\t\t\t\tthat.$set(that.userStreams,uid,stream.stream)\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t//rtc.socure.addTransceiver('audio', { 'direction': 'recvonly' });\r\n\t\t\t\t//rtc.socure.addTransceiver('video', { 'direction': 'recvonly' });\r\n\t\t\t\t//rtc.sendOffer = false;\r\n\t\t\t\trtc.addSteam(this.localStream);\t\t\t\r\n\t\t\t\tif(!this.userRtcs[uid] || !this.userRtcs[uid][type]){\r\n\t\t\t\t\tthis.setUserRtcs(rtc,uid,type);\r\n\t\t\t\t}\r\n\t\t\t\treturn await rtc;\r\n\t\t\t\t//return await rtc.createOffer({ offerToReceiveVideo: true, offerToReceiveAudio: true });\r\n\t\t\t},\r\n\t\t\tevens(){\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tthis.createVideo();\r\n\t\t\t\t// this.$even.$on(\"user_live_launch\",(info)=>{\r\n\t\t\t\t// \tthis.createVideo();\r\n\t\t\t\t// })\r\n\t\t\t\t//当前用户主动退出\r\n\t\t\t\tthis.$even.$on(\"user_live_leave\",(info)=>{\r\n\t\t\t\t\tthis.userRtcs = {};\r\n\t\t\t\t\tlet box = document.getElementsByClassName('js-videobox')[0];\r\n\t\t\t\t\tbox.innerHTML = \"\";\r\n\t\t\t\t\tthis.userStreams = {};\r\n\t\t\t\t})\r\n\t\t\t\t//当对方选择以视频方式接通时\r\n\t\t\t\tthis.$even.$on(\"notice_live_connectall\",(info)=>{\r\n\t\t\t\t\t//当前用户已在房间\r\n\t\t\t\t\tif(this.noticeRoom&&this.noticeRoom.info != undefined){\r\n\t\t\t\t\t\tvar msg = {\r\n\t\t\t\t\t\t\tto: info.From.Guid,\r\n\t\t\t\t\t\t\tinfo: {\r\n\t\t\t\t\t\t\t\tPlate: this.noticeRoom.info.plate,\r\n\t\t\t\t\t\t\t\tCode: this.noticeRoom.info.code,\r\n\t\t\t\t\t\t\t\tVideoType:  info.Data.Message.Answer\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttype: ''\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.noticeEx.send(msg.to, msg.info);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//当前用户不在房间\r\n\t\t\t\t\t\tthis.createRoom(info)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//当房间已建立\r\n\t\t\t\tthis.$even.$on(\"user_room_create\",(info,notice)=>{\r\n\t\t\t\t\tvar msg = {\r\n\t\t\t\t\t\tto: info.From.Guid,\r\n\t\t\t\t\t\tinfo: {\r\n\t\t\t\t\t\t\tPlate: notice.info.plate,\r\n\t\t\t\t\t\t\tCode: notice.info.code,\r\n\t\t\t\t\t\t\tVideoType: info.Data.Message.Answer,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttype: ''\r\n\t\t\t\t\t};\t\r\n\t\t\t\t\tthis.noticeEx.send(msg.to, msg.info);\r\n\t\t\t\t});\r\n\t\t\t\t//收到创建房间指令\r\n\t\t\t\tthis.$even.$on(\"notice_room_build\",(info)=>{\r\n\t\t\t\t\tthis.createRoom(info,{plate:info.Data.Message.Plate})\r\n\t\t\t\t});\r\n\t\t\t\t//收到加入房间指令\r\n\t\t\t\tthis.$even.$on(\"notice_room_join\",(info)=>{\r\n\t\t\t\t\tlet ready = (token) => {\r\n\t\t\t\t\t\tlet rtc = self.userRtcs[info.Data.Accept.Guid].desk;\r\n\t\t\t\t\t\tlet sendMsg = {\r\n\t\t\t\t\t\t\ttype:'token',\r\n\t\t\t\t\t\t\ttoken:token,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//检查是否存在等待接收的token\r\n\t\t\t\t\t\tif(this.tokens[info.From.Guid]){\r\n\t\t\t\t\t\t\trtc.addIceCandidate(this.tokens[info.From.Guid]);\r\n\t\t\t\t\t\t\tdelete this.tokens[info.From.Guid];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.noticeRoom.send(info.Data.Accept.Guid, sendMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.createRtcSender(info.Data.Accept.Guid,'desk',ready).then((offer)=>{\r\n\t\t\t\t\t\tlet sendMsg = {\r\n\t\t\t\t\t\t\ttype:'push',\r\n\t\t\t\t\t\t\tjsep:offer,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.noticeRoom.send(info.Data.Accept.Guid, sendMsg);\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\t//互换token指令\r\n\t\t\t\tthis.$even.$on(\"notice_channel_token\",(info)=>{\r\n\t\t\t\t\tlet rec = info.Data.Message;\r\n\t\t\t\t\t//当这条消息接受时，有可能本地应答信令还未创建完成\r\n\t\t\t\t\tif(this.userRtcs[info.From.Guid]){\r\n\t\t\t\t\t\tlet rtc = this.userRtcs[info.From.Guid].desk;\r\n\t\t\t\t\t\trtc.addIceCandidate(rec.token);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t//暂存\r\n\t\t\t\t\t\tthis.tokens[info.From.Guid] = rec.token;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//收到退出房间指令\r\n\t\t\t\tthis.$even.$on(\"notice_room_leave\",(info)=>{\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tmessage: info.Data.Accept.Name + '退出视频！',\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet rtc = this.userRtcs[info.Data.Accept.Guid].desk;\r\n\t\t\t\t\trtc.socure.close();\r\n\t\t\t\t\tdelete this.userRtcs[info.Data.Accept.Guid];\r\n\t\t\t\t\tvar remove = document.getElementById(info.Data.Accept.Guid);\r\n\t\t\t\t\tremove.parentNode.removeChild(remove);\r\n\t\t\t\t\tdelete this.userStreams[info.Data.Accept.Guid]\r\n\t\t\t\t});\r\n\t\t\t\t//当收到push消息\r\n\t\t\t\tthis.$even.$on(\"notice_channel_push\",(info)=>{\r\n\t\t\t\t\tlet rec = info.Data.Message;\r\n\t\t\t\t\tlet ready = (token) => {\r\n\t\t\t\t\t\tlet rtc = self.userRtcs[info.From.Guid].desk;\r\n\t\t\t\t\t\tlet sendMsg = {\r\n\t\t\t\t\t\t\t\ttype:'token',\r\n\t\t\t\t\t\t\t\ttoken:token\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//检查是否存在等待接收的token\r\n\t\t\t\t\t\tif(this.tokens[info.From.Guid]){\r\n\t\t\t\t\t\t\trtc.addIceCandidate(this.tokens[info.From.Guid]);\r\n\t\t\t\t\t\t\tdelete this.tokens[info.From.Guid];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.noticeRoom.send(info.From.Guid, sendMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.createRtcRevice(info.From.Guid,'desk',ready).then((rtc)=>{\r\n\t\t\t\t\t\trtc.createAnswer(rec.jsep).then((answer)=>{\r\n\t\t\t\t\t\t\tlet sendMsg = {\r\n\t\t\t\t\t\t\t\t\ttype:'subscribe',\r\n\t\t\t\t\t\t\t\t\tjsep:answer,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.noticeRoom.send(info.From.Guid, sendMsg);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\t//当收到订阅消息\r\n\t\t\t\tthis.$even.$on(\"notice_channel_subscribe\",(info)=>{\r\n\t\t\t\t\tlet rec = info.Data.Message;\r\n\t\t\t\t\tlet rtc = this.userRtcs[info.From.Guid].desk;\r\n\t\t\t\t\trtc.setRemote(rec.jsep)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tthis.evens();\r\n\t\t}\r\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"pages/common"}]}