{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\health_record_detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\health_record_detail.vue","mtime":1594378016155},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkQ6L0dhZWFQcm9qZWN0L2pwbl9tZWRpY2FsX3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBjb25mIGZyb20gJ0AvY29uZi9jb25mLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJoZWFsdGhSZWNvcmREZXRhaWwiLAogIHByb3BzOiB7CiAgICBpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKHYpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRldGFpbDoge30sCiAgICAgIGRvY0ZpbGVzOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRIZWFsdGhSZWNvcmREZXRhaWwoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5kZXRhaWwgPSB7fTsKICAgICAgdGhpcy5kb2NGaWxlcy5sZW5ndGggPSAwOwogICAgICB0aGlzLmdldEhlYWx0aFJlY29yZERldGFpbCgpOwogICAgfSwKICAgIGdldEhlYWx0aFJlY29yZERldGFpbDogZnVuY3Rpb24gZ2V0SGVhbHRoUmVjb3JkRGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBpLmdldCgiL01lZGljYWwvR2V0Q3VzdG9tZXJNZWRpY2FsUmVjb3JkRHRsIiwgewogICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgIFdpdGhGaWxlSW5mbzogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMuZGV0YWlsID0gcmVzLkRhdGE7CgogICAgICAgIF90aGlzLmluaXREb2NGaWxlcygpOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0RG9jRmlsZXM6IGZ1bmN0aW9uIGluaXREb2NGaWxlcygpIHsKICAgICAgaWYgKCF0aGlzLmRldGFpbC5BdHRhY2htZW50cykgcmV0dXJuOwogICAgICB2YXIgYmFzZVVybCA9IGNvbmYuZ2V0Q3VycmVudFNlcnZlQWRkcignbWFpbicpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZGV0YWlsLkF0dGFjaG1lbnRzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGF0dGFjaCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgdGhpcy5kb2NGaWxlcy5wdXNoKHsKICAgICAgICAgICAgRmlsZU5hbWU6IGF0dGFjaC5PcmlnaW5GaWxlTmFtZSwKICAgICAgICAgICAgUGF0aDogYXR0YWNoLkZpbGVQYXRoLAogICAgICAgICAgICBVcmw6IGJhc2VVcmwgKyBhdHRhY2guT3JpZ2luRmlsZVBhdGgsCiAgICAgICAgICAgIE9yaWdpbkZpbGVOYW1lOiBhdHRhY2guT3JpZ2luRmlsZU5hbWUsCiAgICAgICAgICAgIE9yaWdpblBhdGg6IGF0dGFjaC5GaWxlUGF0aCwKICAgICAgICAgICAgT3JpZ2luVXJsOiBiYXNlVXJsICsgYXR0YWNoLk9yaWdpbkZpbGVQYXRoLAogICAgICAgICAgICBDcmVhdGVEYXRlOiB0aGlzLmRldGFpbC5DcmVhdGVEYXRlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfSwKICAgIG9uRG93bmxvYWREb2NGaWxlOiBmdW5jdGlvbiBvbkRvd25sb2FkRG9jRmlsZSh1cmwpIHsKICAgICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["health_record_detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,IAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,oBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAFA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA,YAAA,CAAA,EAAA;AACA,WAAA,KAAA;AACA;AAHA,GARA;AAaA,EAAA,IAbA,kBAaA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GAnBA;AAoBA,EAAA,OApBA,qBAoBA;AACA,SAAA,qBAAA;AACA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,WAAA,QAAA,CAAA,MAAA,GAAA,CAAA;AACA,WAAA,qBAAA;AACA,KALA;AAMA,IAAA,qBANA,mCAMA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,IAAA,CACA,GADA,CACA,sCADA,EACA;AAAA,QAAA,EAAA,EAAA,KAAA,EAAA;AAAA,QAAA,YAAA,EAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,YAAA;AACA,OANA;AAOA,KAhBA;AAiBA,IAAA,YAjBA,0BAiBA;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,WAAA,EAAA;AAEA,UAAA,OAAA,GAAA,IAAA,CAAA,mBAAA,CAAA,MAAA,CAAA;;AAHA,iDAIA,KAAA,MAAA,CAAA,WAJA;AAAA;;AAAA;AAIA,4DAAA;AAAA,cAAA,MAAA;AACA,eAAA,QAAA,CAAA,IAAA,CAAA;AACA,YAAA,QAAA,EAAA,MAAA,CAAA,cADA;AAEA,YAAA,IAAA,EAAA,MAAA,CAAA,QAFA;AAGA,YAAA,GAAA,EAAA,OAAA,GAAA,MAAA,CAAA,cAHA;AAIA,YAAA,cAAA,EAAA,MAAA,CAAA,cAJA;AAKA,YAAA,UAAA,EAAA,MAAA,CAAA,QALA;AAMA,YAAA,SAAA,EAAA,OAAA,GAAA,MAAA,CAAA,cANA;AAOA,YAAA,UAAA,EAAA,KAAA,MAAA,CAAA;AAPA,WAAA;AASA;AAdA;AAAA;AAAA;AAAA;AAAA;AAgBA,KAjCA;AAkCA,IAAA,iBAlCA,6BAkCA,GAlCA,EAkCA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,GAAA,EAAA,QAAA;AACA;AApCA;AAvBA,CAAA","sourcesContent":["<template>\r\n  <div v-loading=\"loading\">\r\n    <el-form label-width=\"120px\">\r\n      <el-form-item label=\"病历标题\">\r\n        <label>{{detail.MedicalRecordName}}</label>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"病情描述\">\r\n        <label>{{detail.Remarks}}</label>\r\n      </el-form-item>\r\n    </el-form>\r\n    <h3>病历附件</h3>\r\n    <el-table :data=\"docFiles\" :v-loading=\"true\">\r\n      <el-table-column label=\"附件名称\">\r\n        <template slot-scope=\"scope\">\r\n            <el-link type=\"primary\" @click=\"onDownloadDocFile(scope.row.OriginUrl)\">{{scope.row.OriginFileName}}</el-link><br/>\r\n            <el-link type=\"primary\" @click=\"onDownloadDocFile(scope.row.Url)\">已翻译：{{scope.row.FileName}}</el-link>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"CreateDate\" label=\"日期\" width=\"200\"></el-table-column>\r\n      <!-- <el-table-column label=\"操作\" width=\"150\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n            <el-link type=\"primary\" icon=\"el-icon-download\" @click=\"onDownloadDocFile(scope.row.Url)\"></el-link>\r\n        </template>\r\n      </el-table-column> -->\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport conf from '@/conf/conf.js';\r\nexport default {\r\n  name: \"healthRecordDetail\",\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  watch: {\r\n    id: function(v) {\r\n      this.reset();\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      detail: {},\r\n      docFiles: [],\r\n      loading:false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getHealthRecordDetail();\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.detail = {};\r\n      this.docFiles.length = 0;\r\n      this.getHealthRecordDetail();\r\n    },\r\n    getHealthRecordDetail() {\r\n      const _this = this;\r\n      this.loading=true;\r\n      this.$api\r\n        .get(\"/Medical/GetCustomerMedicalRecordDtl\", { id: this.id,WithFileInfo:true})\r\n        .then(res => {\r\n          _this.loading=false;\r\n          _this.detail = res.Data;\r\n          _this.initDocFiles();\r\n        });      \r\n    },\r\n    initDocFiles() {\r\n      if(!this.detail.Attachments) return;\r\n\r\n      var baseUrl=conf.getCurrentServeAddr('main')\r\n      for (const attach of this.detail.Attachments) {\r\n        this.docFiles.push({\r\n          FileName: attach.OriginFileName,\r\n          Path: attach.FilePath,\r\n          Url:baseUrl+attach.OriginFilePath,\r\n          OriginFileName: attach.OriginFileName,\r\n          OriginPath: attach.FilePath,\r\n          OriginUrl:baseUrl+attach.OriginFilePath,\r\n          CreateDate: this.detail.CreateDate\r\n        });\r\n      }\r\n      \r\n    },\r\n    onDownloadDocFile(url){\r\n      window.open(url,'_blank');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-form-item {\r\n  margin-bottom: 11px;\r\n}\r\n</style>"],"sourceRoot":"pages/main/appointment"}]}