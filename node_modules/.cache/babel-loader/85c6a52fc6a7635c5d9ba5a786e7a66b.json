{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\im\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\im\\index.vue","mtime":1596035182740},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L0dhZWFQcm9qZWN0L2pwbl9tZWRpY2FsX3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L0dhZWFQcm9qZWN0L2pwbl9tZWRpY2FsX3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbIm5vdGljZUV4Il0pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gdGFiUG9zaXRpb246ICdsZWZ0JywKICAgICAgLy8gY2lyY2xlVXJsOiAiaHR0cHM6Ly9jdWJlLmVsZW1lY2RuLmNvbS8zLzdjLzNlYTZiZWVjNjQzNjljMjY0MmI5MmM2NzI2ZjFlcG5nLnBuZyIsCiAgICAgIC8vIHNpemVMaXN0OiBbImxhcmdlIiwgIm1lZGl1bSIsICJzbWFsbCJdLAogICAgICBpc0FjdGl2ZTogIi0xIiwKICAgICAgaXNCdXR0b246IGZhbHNlLAogICAgICBzZW5kVGV4dDogIiIsCiAgICAgIC8vIOi+k+WFpeaWh+WtlwogICAgICBjdXJyZW50OiB7fSwKICAgICAgLy8g5b2T5YmN55So5oi35L+h5oGvCiAgICAgIGNoYXJ0c0hpc3Rvcnk6IFtdLAogICAgICAvLyDmtojmga8KICAgICAgY2FuZGlkYXRlOiBbXSwKICAgICAgLy8g5b6F5o6l6amzCiAgICAgIGhhc0NhbmRpZGF0ZTogW10sCiAgICAgIC8vIOiiq+WFtuS7luWuouacjeaOpempswogICAgICBoaXN0b3J5Q3VzdG9tZXI6IFtdIC8vIOW3sue7j+aOpempswoKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRTZW5kZXI6IGZ1bmN0aW9uIGdldFNlbmRlcigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAiVG9rZW4iOiB0aGlzLm5vdGljZUV4LmluZm8udG9rZW4sCiAgICAgICAgIlR5cGUiOiAiYXBwIiwKICAgICAgICAiRnJvbSI6IHsKICAgICAgICAgICJOYW1lIjogdGhpcy5ub3RpY2VFeC5pbmZvLnVzZXIubmFtZSwKICAgICAgICAgICJHdWlkIjogdGhpcy5ub3RpY2VFeC5pbmZvLnVzZXIuZ3VpZAogICAgICAgIH0sCiAgICAgICAgIkRhdGEiOiB7CiAgICAgICAgICAiTWVzc2FnZSI6ICIiLAogICAgICAgICAgIkFjY2VwdCI6IHsKICAgICAgICAgICAgIkd1aWQiOiAiIgogICAgICAgICAgfSwKICAgICAgICAgICJUeXBlIjogImNzIgogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICAvLyDlj5HpgIEKICAgIHNlbmRJbmZvOiBmdW5jdGlvbiBzZW5kSW5mbygpIHsKICAgICAgLy8gdGhpcy5jaGFydHNIaXN0b3J5LnB1c2goewogICAgICAvLyAJVHlwZToic2VuZCIsCiAgICAgIC8vIAlNZXNzYWdlOnRoaXMuc2VuZFRleHQsCiAgICAgIC8vIH0pCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWNoYXJ0Jyk7IC8vIOiOt+WPluWvueixoQoKICAgICAgICBtc2cuc2Nyb2xsVG9wID0gbXNnLnNjcm9sbEhlaWdodDsgLy8g5rua5Yqo6auY5bqmCiAgICAgIH0pOwogICAgICB2YXIgc2VuZGVyID0gdGhpcy5nZXRTZW5kZXIoKTsgLy8g5qC85byP5YyWCgogICAgICBzZW5kZXIuRGF0YS5BY2NlcHQuR3VpZCA9IHRoaXMuY3VycmVudC5DaGFydFJvb21HdWlkOwogICAgICBzZW5kZXIuRGF0YS5NZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgIFR5cGU6ICJpbmZvIiwKICAgICAgICBDb250ZW50OiB0aGlzLnNlbmRUZXh0CiAgICAgIH0pOwogICAgICB2YXIgbXMgPSB0aGlzLmdldFNlbmRlcigpOwogICAgICBtcy5EYXRhLkFjY2VwdC5HdWlkID0gdGhpcy5jdXJyZW50LkNoYXJ0Um9vbUd1aWQ7CiAgICAgIG1zLkRhdGEuTWVzc2FnZSA9IHsKICAgICAgICBUeXBlOiAiaW5mbyIsCiAgICAgICAgQ29udGVudDogdGhpcy5zZW5kVGV4dAogICAgICB9OwogICAgICB0aGlzLmNoYXJ0c0hpc3RvcnkucHVzaChtcyk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hhcnRzSGlzdG9yeSk7IC8vIGNvbnNvbGUubG9nKCIxMTEiLHNlbmRlcik7CgogICAgICB0cnkgewogICAgICAgIHRoaXMubm90aWNlRXguc2VuZFNvY3VyZShzZW5kZXIpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2VuZFRleHQgPSAnJzsKICAgIH0sCiAgICBnZXRIaXN0b3J5Q3VzdG9tZXI6IGZ1bmN0aW9uIGdldEhpc3RvcnlDdXN0b21lcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5ub3RpY2VFeC5ub3RpY2VHZXQoIi9jaGFydC9nZXR1c2VyY2hhcnRyb29tcyIsIHsKICAgICAgICAgICAgICAgICAgVG9rZW46IF90aGlzLm5vdGljZUV4LmluZm8udG9rZW4KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMuaGlzdG9yeUN1c3RvbWVyID0gcmVzLkRhdGE7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5TdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy4kdGlwcy53YXJuaW5nKCLojrflj5bmiL/pl7TlpLHotKUiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWOhuWPsuiusOW9lQogICAgZ2V0SGlzdG9yeUluZm86IGZ1bmN0aW9uIGdldEhpc3RvcnlJbmZvKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcGFyYW1zLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgVG9rZW46IF90aGlzMi5ub3RpY2VFeC5pbmZvLnRva2VuLAogICAgICAgICAgICAgICAgICBQYWdlSW5kZXg6ICIwIiwKICAgICAgICAgICAgICAgICAgUGFnZVNpemU6ICIyMCIsCiAgICAgICAgICAgICAgICAgIENoYXJ0Um9vbUd1aWQ6IGl0ZW0uQ2hhcnRSb29tR3VpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIubm90aWNlRXgubm90aWNlR2V0KCIvY2hhcnQvZ2V0Y2hhcnRyb29taGlzdG9yeWluZm8iLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLlN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuJHRpcHMud2FybmluZygi6I635Y+W5Y6G5Y+y5aSx6LSlIik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXMuRGF0YS5EYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2UoaXRlbS5Db250ZW50KTsKICAgICAgICAgICAgICAgICAgb2JqLkRhdGEuTWVzc2FnZSA9IEpTT04ucGFyc2Uob2JqLkRhdGEuTWVzc2FnZSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuY2hhcnRzSGlzdG9yeS5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfljoblj7LorrDlvZUnLCBfdGhpczIuY2hhcnRzSGlzdG9yeSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOiOt+WPluW9k+WJjeWuouaItyAKICAgIGdldEN1cnJlbnRDdXN0b21lcjogZnVuY3Rpb24gZ2V0Q3VycmVudEN1c3RvbWVyKGl0ZW0sIGluZGV4KSB7CiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pOyAvLyDorr7nva7orqTpoobmjInpkq7lj6/op4EKCiAgICAgIGlmICghaXRlbS5DaGFydFJvb21HdWlkIHx8IGl0ZW0uQ2hhcnRSb29tR3VpZC5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuaXNCdXR0b24gPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNCdXR0b24gPSBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5pc0FjdGl2ZSA9IGluZGV4OwogICAgICB0aGlzLmN1cnJlbnQgPSBpdGVtOwogICAgICB0aGlzLmNoYXJ0c0hpc3RvcnkgPSBbXTsKCiAgICAgIGlmIChpdGVtLlR5cGUgIT0gImNhbmRpZGF0ZSIpIHsKICAgICAgICAvL2dldCBjaGFydHMgaGlzdG9yeQogICAgICAgIHRoaXMuZ2V0SGlzdG9yeUluZm8oaXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDorqTpooYKICAgIGNvbm5lY3Rpb246IGZ1bmN0aW9uIGNvbm5lY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHBhcmFtcywgcmVzLCBzZW5kZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5pc0J1dHRvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBUb2tlbjogX3RoaXMzLm5vdGljZUV4LmluZm8udG9rZW4sCiAgICAgICAgICAgICAgICAgIFVzZXJHdWlkOiBfdGhpczMuY3VycmVudC5Vc2VyR3VpZCwKICAgICAgICAgICAgICAgICAgVXNlck5hbWU6IF90aGlzMy5jdXJyZW50LlVzZXJOYW1lLAogICAgICAgICAgICAgICAgICBDaGFydFJvb21OYW1lOiAi5LiOIiArIF90aGlzMy5jdXJyZW50LlVzZXJOYW1lICsgIueahOiBiuWkqSIsCiAgICAgICAgICAgICAgICAgIEFwcElkOiAiIgogICAgICAgICAgICAgICAgfTsgLy8gY29uc29sZS5sb2cocGFyYW1zKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLm5vdGljZUV4Lm5vdGljZUdldCgiL2NoYXJ0L2Nvbm5lY3Rpb24iLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLlN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczMuJHRpcHMud2FybmluZygi6K6k6aKG6ZSZ6K+vIik7IC8vIGNvbnNvbGUubG9nKHJlcyk7CgoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgLy8gdGhpcy5pc0RpYWxvZyA9IHRydWUgLy8g5pi+56S65a+56K+d5qGGCiAgICAgICAgICAgICAgICBfdGhpczMuY3VycmVudC5DaGFydFJvb21HdWlkID0gcmVzLkRhdGEuQ2hhcnRSb29tR3VpZDsKICAgICAgICAgICAgICAgIHNlbmRlciA9IF90aGlzMy5nZXRTZW5kZXIoKTsKICAgICAgICAgICAgICAgIHNlbmRlci5Gcm9tLkd1aWQgPSAiIjsKICAgICAgICAgICAgICAgIHNlbmRlci5Gcm9tLk5hbWUgPSAiIjsKICAgICAgICAgICAgICAgIHNlbmRlci5EYXRhLk1lc3NhZ2UgPSB7CiAgICAgICAgICAgICAgICAgIFR5cGU6ICJzeXMiLAogICAgICAgICAgICAgICAgICBDb250ZW50OiAi5oKo5bey6K6k6aKG5LiOIiArIF90aGlzMy5jdXJyZW50LlVzZXJOYW1lICsgIueahOayn+mAmiIKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX3RoaXMzLmNoYXJ0c0hpc3RvcnkucHVzaChzZW5kZXIpOyAvLyBjb25zb2xlLmxvZyhyZXMpCgoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVnaXN0ZXJDdXN0b21lclNlcnZlOiBmdW5jdGlvbiByZWdpc3RlckN1c3RvbWVyU2VydmUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHBhcmFtcywgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIFRva2VuOiBfdGhpczQubm90aWNlRXguaW5mby50b2tlbiwKICAgICAgICAgICAgICAgICAgUm9sZTogMiAvLyAwfDIg5a6i5oi3fOWuouacjQoKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0Lm5vdGljZUV4Lm5vdGljZUdldCgiL2NoYXJ0L3NldHJvbGUiLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLlN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczQuJHRpcHMud2FybmluZygi5rOo5YaM5p2D6ZmQ5aSx6LSlIik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm5vdGljZUV4KQogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzNS5yZWdpc3RlckN1c3RvbWVyU2VydmUoKTsKCiAgICAgIF90aGlzNS5nZXRIaXN0b3J5Q3VzdG9tZXIoKTsKICAgIH0sIDEwMDApOwogICAgdGhpcy4kZXZlbi4kb24oIm5vdGljZV9jc19pbmZvIiwgZnVuY3Rpb24gKGluZm8pIHsKICAgICAgdmFyIGNvbnRlbnQgPSBpbmZvLkRhdGEuTWVzc2FnZTsgLy8gY29uc29sZS5sb2coY29udGVudCk7CiAgICAgIC8vY2FuZGlkYXRlIOW+heaOpempswoKICAgICAgc3dpdGNoIChjb250ZW50LlR5cGUpIHsKICAgICAgICBjYXNlICJjYW5kaWRhdGUiOgogICAgICAgICAgX3RoaXM1LmNhbmRpZGF0ZS5wdXNoKGNvbnRlbnQpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzNS5jYW5kaWRhdGUpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImluZm8iOgogICAgICAgICAgX3RoaXM1LmNoYXJ0c0hpc3RvcnkucHVzaChpbmZvKTsgLy8gdGhpcy5jaGFydHNIaXN0b3J5LnB1c2goewogICAgICAgICAgLy8gCVR5cGU6ICJpbmZvIiwKICAgICAgICAgIC8vIAlNZXNzYWdlOiBjb250ZW50LkNvbnRlbnQsCiAgICAgICAgICAvLyB9KQoKCiAgICAgICAgICBfdGhpczUuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jaGFydCcpOyAvLyDojrflj5blr7nosaEKCiAgICAgICAgICAgIG1zZy5zY3JvbGxUb3AgPSBtc2cuc2Nyb2xsSGVpZ2h0OyAvLyDmu5rliqjpq5jluqYKICAgICAgICAgIH0pOwoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJjb25uZWN0ZWQiOgogICAgICAgICAgY29uc29sZS5sb2coJ+iiq+aOpempsycsIGNvbnRlbnQpOyAvLyB0aGlzLiRtZXNzYWdlKGNvbnRlbnQudXNlci5OYW1lLCflt7Lnu4/ooqvmjqXpqbMhJyk7CiAgICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2FuZGlkYXRlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAvLyAJaWYodGhpcy5jYW5kaWRhdGVbaV0uVXNlckd1aWQgPT0gY29udGVudC5Vc2VyR3VpZCkgewogICAgICAgICAgLy8gCQlyZXR1cm4gaQogICAgICAgICAgLy8gCX0KICAgICAgICAgIC8vIH0KICAgICAgICAgIC8vIHRoaXMuY2FuZGlkYXRlLnNwbGljZShpKQoKICAgICAgICAgIGJyZWFrOwogICAgICB9IC8vIGNvbm5lY3RvckluZm9bIlVzZXJHdWlkIl0gPSB1c2VyLlVzZXIKICAgICAgLy8gY29ubmVjdG9ySW5mb1siVXNlck5hbWUiXSA9IHVzZXIuTmFtZQogICAgICAvLyBjb25uZWN0b3JJbmZvWyJDb25uZWN0b3JHdWlkIl0gPSB1c2VyLlVzZXIKICAgICAgLy8gY29ubmVjdG9ySW5mb1siQ29ubmVjdG9yTmFtZSJdID0gdXNlci5OYW1lCiAgICAgIC8vIGNvbm5lY3RvckluZm9bIlR5cGUiXSA9ICJjb25uZWN0ZWQiIC8vY29ubmVjdGVkIOiiq+aOpempswogICAgICAvLyBpZihjb250ZW50LlR5cGUgPT0gImNhbmRpZGF0ZSIpewogICAgICAvLyAJdGhpcy5jYW5kaWRhdGUucHVzaChjb250ZW50KTsKICAgICAgLy8gCWNvbnNvbGUubG9nKHRoaXMuY2FuZGlkYXRlKTsKICAgICAgLy8gfQogICAgICAvLyAvLyDmjqXmlLbmtojmga8KICAgICAgLy8gaWYoY29udGVudC5UeXBlID09ICJpbmZvIil7CiAgICAgIC8vIAl0aGlzLmNoYXJ0c0hpc3RvcnkucHVzaCh7CiAgICAgIC8vIAkJVHlwZTogImluZm8iLAogICAgICAvLyAJCU1lc3NhZ2U6IGNvbnRlbnQuQ29udGVudCwKICAgICAgLy8gCX0pCiAgICAgIC8vIAl0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIC8vIAkJbGV0IG1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jaGFydCcpIC8vIOiOt+WPluWvueixoQogICAgICAvLyAJCW1zZy5zY3JvbGxUb3AgPSBtc2cuc2Nyb2xsSGVpZ2h0IC8vIOa7muWKqOmrmOW6pgogICAgICAvLyAJfSkKICAgICAgLy8gfQogICAgICAvLyBpZihjb250ZW50LlR5cGUgPT0gImNvbm5lY3RlZCIpewogICAgICAvLyAJY29uc29sZS5sb2coY29udGVudCk7CiAgICAgIC8vIH0KCiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div style=\"height:90%\">\r\n\t\t<el-row style=\"height:100%\">\r\n\t\t\t<el-col :span=\"24\" style=\"height:100%\">\r\n\t\t\t\t<el-row type=\"flex\" :gutter=\"10\" style=\"height:100%\">\r\n\t\t\t\t\t<!-- 咨询列表 -->\r\n\t\t\t\t\t<el-col :span=\"4\" style=\"height:100%; border-right: 1px solid #CCCCCC; border: 1px solid #dcdfe6;\">\r\n\t\t\t\t\t\t<el-row :span=\"24\">\r\n\t\t\t\t\t\t\t<p class=\"header\">咨询用户列表</p>\r\n\t\t\t\t\t\t\t\t\t<!-- 咨询列表项 -->\r\n\t\t\t\t\t\t\t\t<el-scrollbar style=\"height:605px; overflow-x: hidden;\">\r\n\t\t\t\t\t\t\t\t\t<el-card :class=\"['user-lists', isActive==index?'isActive':'']\" @click.native=\"getCurrentCustomer(item,index)\" v-for=\"(item,index) in candidate\" :key=\"item.UserGuid\" style=\"height:80px\">\r\n\t\t\t\t\t\t\t\t\t\t<el-avatar :size=\"40\" src=\"\"></el-avatar>\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ item.UserName }}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"item.ChartRoomGuid && item.ChartRoomGuid.length > 0\" style=\"color: #42B983\">(正在服务..)</span>\r\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"!item.ChartRoomGuid || item.ChartRoomGuid.length == 0\" style=\"color: #fa2541\">(待服务)</span>\r\n\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t\t<el-card :class=\"['user-lists']\" @click.native=\"getCurrentCustomer(item)\" v-for=\"item in historyCustomer\" :key=\"item.ChartRoomGuid\" style=\"height:80px\">\r\n\t\t\t\t\t\t\t\t\t\t<el-avatar :size=\"40\" src=\"\"></el-avatar>\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ item.ChartRoomName }}</span>\r\n\t\t\t\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t\t\t\t</el-scrollbar>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</el-col>\t\r\n\t\t\t\t\t<!-- 消息窗口 -->\r\n\t\t\t\t\t<el-col :span=\"20\" \r\n\t\t\t\t\t\t\t\t\tstyle=\"height:100%;\" \r\n\t\t\t\t\t\t\t\t\tclass=\"message-content\"\r\n\t\t\t\t\t\t\t\t\tv-if=\"current.ChartRoomGuid||current.Type == 'candidate'\">\r\n\t\t\t\t\t\t\t\t\t<!-- v-if=\"current.ChartRoomGuid\" -->\r\n\t\t\t\t\t\t\t\t\t<!-- v-if=\"current.Type == 'candidate'\" -->\r\n\t\t\t\t\t\t<div style=\"height:calc(100% - 100px)\">\r\n\t\t\t\t\t\t\t<div class=\"get-user\">\r\n\t\t\t\t\t\t\t\t<span>国云健康</span>\r\n\t\t\t\t\t\t\t\t<el-button v-if=\"isButton\" @click=\"connection()\" type=\"primary\">认领</el-button>\t\t\t \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- 对话框 -->\r\n\t\t\t\t\t\t\t<div class=\"dialog js-chart\" style=\"height:488px; overflow-y: scroll;\">\r\n\t\t\t\t\t\t\t\t<div v-for=\"(item,index) in chartsHistory\" :key=\"index\" style=\"height:auto; margin-bottom: 20px;\">\r\n\t\t\t\t\t\t\t\t\t<div v-if=\"item.From.Guid != noticeEx.info.user.guid && item.Data.Message.Type!='sys'\" style=\"margin:7px 0px;\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div style=\"font-size: 14px;color:#ccc;margin-bottom: 5px;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ item.From.Name }}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"dialog-a\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ item.Data.Message.Content }}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"prompt-text\" v-if=\"item.Data.Message.Type=='sys'\" >\r\n\t\t\t\t\t\t\t\t\t\t{{ item.Data.Message.Content }}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div v-if=\"item.From.Guid == noticeEx.info.user.guid\" style=\"margin:7px 0px;\">\r\n\t\t\t\t\t\t\t\t\t\t<div style=\"text-align: right\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div style=\"font-size: 14px;color:#ccc;margin-bottom: 5px;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t我\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"dialog-b\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ item.Data.Message.Content }}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"input-content\">\r\n\t\t\t\t\t\t\t\t<el-input size=\"medium\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"sendText\"  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入内容\"  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresize=\"none\"></el-input>\r\n\t\t\t\t\t\t\t\t<div class=\"operation\">\r\n\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" plain icon=\"el-icon-picture-outline\"></el-button>\r\n\t\t\t\t\t\t\t\t\t<el-button \r\n\t\t\t\t\t\t\t\t\t\t@click=\"sendInfo()\" \r\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\" plain>发送</el-button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<!-- <el-button @click=\"sendText = ''\"  size=\"mini\"  icon=\"el-icon-delete\" circle style=\"float: right;padding: 10px 0\"></el-button> -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\t\t\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState,mapMutations} from 'vuex'\r\n\texport default {\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\"noticeEx\"]),\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\t// tabPosition: 'left',\r\n\t\t\t\t// circleUrl: \"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\",\r\n\t\t\t\t// sizeList: [\"large\", \"medium\", \"small\"],\r\n\t\t\t\tisActive: \"-1\",\r\n\t\t\t\tisButton: false,\r\n\t\t\t\tsendText: \"\",// 输入文字\r\n\t\t\t\tcurrent: {},// 当前用户信息\r\n\t\t\t\tchartsHistory: [], // 消息\r\n\t\t\t\tcandidate: [], // 待接驳\r\n\t\t\t\thasCandidate: [], // 被其他客服接驳\r\n\t\t\t\thistoryCustomer: [], // 已经接驳\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tgetSender(){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t\"Token\":this.noticeEx.info.token,\r\n\t\t\t\t\t\"Type\":\"app\",\r\n\t\t\t\t\t\"From\":{\r\n\t\t\t\t\t\t\"Name\":this.noticeEx.info.user.name,\r\n\t\t\t\t\t\t\"Guid\":this.noticeEx.info.user.guid,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"Data\":{\r\n\t\t\t\t\t\t\"Message\":\"\",\r\n\t\t\t\t\t\t\"Accept\":{\r\n\t\t\t\t\t\t\t\"Guid\":\"\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"Type\":\"cs\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 发送\r\n\t\t\tsendInfo(){\r\n\t\t\t\t// this.chartsHistory.push({\r\n\t\t\t\t// \tType:\"send\",\r\n\t\t\t\t// \tMessage:this.sendText,\r\n\t\t\t\t// })\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tlet msg = document.querySelector('.js-chart') // 获取对象\r\n\t\t\t\t\tmsg.scrollTop = msg.scrollHeight // 滚动高度\r\n\t\t\t\t})\r\n\t\t\t\tlet sender = this.getSender() // 格式化\r\n\t\t\t\tsender.Data.Accept.Guid =this.current.ChartRoomGuid;\r\n\t\t\t\tsender.Data.Message = JSON.stringify({Type:\"info\",Content:this.sendText});\r\n\t\t\t\tlet ms = this.getSender()\r\n\t\t\t\tms.Data.Accept.Guid =this.current.ChartRoomGuid;\r\n\t\t\t\tms.Data.Message = {Type:\"info\",Content:this.sendText};\r\n\t\t\t\tthis.chartsHistory.push(ms);\r\n\t\t\t\tconsole.log(this.chartsHistory)\r\n\t\t\t\t// console.log(\"111\",sender);\r\n\t\t\t\ttry{\r\n\t\t\t\tthis.noticeEx.sendSocure(sender);\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t}\r\n\t\t\t\tthis.sendText = '';\r\n\t\t\t},\r\n\t\t\tasync getHistoryCustomer() {\r\n\t\t\t\tlet res = await this.noticeEx.noticeGet(\"/chart/getuserchartrooms\", {Token: this.noticeEx.info.token})\r\n\t\t\t\tthis.historyCustomer = res.Data\r\n\t\t\t\tif(!res.Success){\r\n\t\t\t\t\tthis.$tips.warning(\"获取房间失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(\"候选人历史\", this.historyCustomer);\r\n\t\t\t},\r\n\t\t\t// 历史记录\r\n\t\t\tasync getHistoryInfo(item) {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tToken: this.noticeEx.info.token,\r\n\t\t\t\t\tPageIndex: \"0\",\r\n\t\t\t\t\tPageSize: \"20\",\r\n\t\t\t\t\tChartRoomGuid: item.ChartRoomGuid\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.noticeEx.noticeGet(\"/chart/getchartroomhistoryinfo\", params)\r\n\t\t\t\tif(!res.Success){\r\n\t\t\t\t\tthis.$tips.warning(\"获取历史失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tres.Data.Data.forEach(item => {\r\n\t\t\t\t\tlet obj = JSON.parse(item.Content)\r\n\t\t\t\t\tobj.Data.Message = JSON.parse(obj.Data.Message)\r\n\t\t\t\t\tthis.chartsHistory.push(obj)\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log('历史记录', this.chartsHistory);\r\n\t\t\t},\r\n\t\t\t// 获取当前客户 \r\n\t\t\tgetCurrentCustomer(item,index){\r\n\t\t\t\tconsole.log(item);\r\n\t\t\t\t// 设置认领按钮可见\r\n\t\t\t\tif (!item.ChartRoomGuid || item.ChartRoomGuid.length == 0) {\r\n\t\t\t\t\tthis.isButton = true\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.isButton = false\r\n\t\t\t\t}\r\n\t\t\t\tthis.isActive = index;\r\n\t\t\t\tthis.current = item;\r\n\t\t\t\tthis.chartsHistory = [];\r\n\t\t\t\tif(item.Type != \"candidate\"){\r\n\t\t\t\t\t//get charts history\r\n\t\t\t\t\tthis.getHistoryInfo(item)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 认领\r\n\t\t\tasync connection(){\r\n\t\t\t\tthis.isButton = false\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tToken: this.noticeEx.info.token,\r\n\t\t\t\t\tUserGuid: this.current.UserGuid,\r\n\t\t\t\t\tUserName: this.current.UserName,\r\n\t\t\t\t\tChartRoomName: \"与\"+this.current.UserName+\"的聊天\",\r\n\t\t\t\t\tAppId: \"\",\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(params);\r\n\t\t\t\tlet res = await this.noticeEx.noticeGet(\"/chart/connection\", params)\r\n\t\t\t\tif(!res.Success){\r\n\t\t\t\t\tthis.$tips.warning(\"认领错误\");\r\n\t\t\t\t\t// console.log(res);\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// this.isDialog = true // 显示对话框\r\n\t\t\t\tthis.current.ChartRoomGuid = res.Data.ChartRoomGuid;\r\n\r\n\t\t\t\tlet sender = this.getSender()\r\n\t\t\t\tsender.From.Guid = \"\";\r\n\t\t\t\tsender.From.Name = \"\";\r\n\t\t\t\tsender.Data.Message = {\r\n\t\t\t\t\tType: \"sys\",\r\n\t\t\t\t\tContent: \"您已认领与\"+this.current.UserName+\"的沟通\",\r\n\t\t\t\t}\r\n\t\t\t\tthis.chartsHistory.push(sender)\r\n\t\t\t\t// console.log(res)\r\n\t\t\t},\r\n\t\t\tasync registerCustomerServe(){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tToken: this.noticeEx.info.token,\r\n\t\t\t\t\tRole: 2 // 0|2 客户|客服\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.noticeEx.noticeGet(\"/chart/setrole\", params)\r\n\t\t\t\tif(!res.Success){\r\n\t\t\t\t\tthis.$tips.warning(\"注册权限失败\");\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(res)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// console.log(this.noticeEx)\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.registerCustomerServe()\r\n\t\t\t\tthis.getHistoryCustomer()\r\n\t\t\t},1000)\r\n\t\t\t\r\n\t\t\tthis.$even.$on(\"notice_cs_info\",(info)=>{\r\n\t\t\t\tlet content = info.Data.Message;\r\n\t\t\t\t// console.log(content);\r\n\t\t\t\t//candidate 待接驳\r\n\t\t\t\tswitch(content.Type) {\r\n\t\t\t\t\tcase \"candidate\":\r\n\t\t\t\t\t\tthis.candidate.push(content);\r\n\t\t\t\t\t\tconsole.log(this.candidate);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"info\":\r\n\t\t\t\t\t\tthis.chartsHistory.push(info);\r\n\t\t\t\t\t\t// this.chartsHistory.push({\r\n\t\t\t\t\t\t// \tType: \"info\",\r\n\t\t\t\t\t\t// \tMessage: content.Content,\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tlet msg = document.querySelector('.js-chart') // 获取对象\r\n\t\t\t\t\t\t\tmsg.scrollTop = msg.scrollHeight // 滚动高度\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"connected\":\r\n\t\t\t\t\t\tconsole.log('被接驳',content);\r\n\t\t\t\t\t\t// this.$message(content.user.Name,'已经被接驳!');\r\n\t\t\t\t\t\t// for (var i = 0; i < this.candidate.length; i++) {\r\n\t\t\t\t\t\t// \tif(this.candidate[i].UserGuid == content.UserGuid) {\r\n\t\t\t\t\t\t// \t\treturn i\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t// this.candidate.splice(i)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t} \r\n\t\t\t\t// connectorInfo[\"UserGuid\"] = user.User\r\n\t\t\t\t// connectorInfo[\"UserName\"] = user.Name\r\n\t\t\t\t// connectorInfo[\"ConnectorGuid\"] = user.User\r\n\t\t\t\t// connectorInfo[\"ConnectorName\"] = user.Name\r\n\t\t\t\t// connectorInfo[\"Type\"] = \"connected\" //connected 被接驳\r\n\r\n\t\t\t\t// if(content.Type == \"candidate\"){\r\n\t\t\t\t// \tthis.candidate.push(content);\r\n\t\t\t\t// \tconsole.log(this.candidate);\r\n\t\t\t\t// }\r\n\t\t\t\t// // 接收消息\r\n\t\t\t\t// if(content.Type == \"info\"){\r\n\t\t\t\t// \tthis.chartsHistory.push({\r\n\t\t\t\t// \t\tType: \"info\",\r\n\t\t\t\t// \t\tMessage: content.Content,\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \tthis.$nextTick(() => {\r\n\t\t\t\t// \t\tlet msg = document.querySelector('.js-chart') // 获取对象\r\n\t\t\t\t// \t\tmsg.scrollTop = msg.scrollHeight // 滚动高度\r\n\t\t\t\t// \t})\r\n\t\t\t\t// }\r\n\t\t\t\t// if(content.Type == \"connected\"){\r\n\t\t\t\t// \tconsole.log(content);\r\n\t\t\t\t// }\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.clearfix{zoom:1}\r\n\t.clearfix:after{content:\" \";display:block;clear:both;height:0}\r\n\t.is-left{width:100%}\r\n\r\n\t.header {\r\n\t\theight:36px; \r\n\t\tpadding: 18px 0; \r\n\t\tborder-bottom: 1px solid #CCCCCC; \r\n\t\tmargin: 0; \r\n\t\tline-height: 36px; \r\n\t\ttext-align: center; \r\n\t\tfont-size: 20px; \r\n\t\tcolor: #409EFF;\r\n\t}\r\n\r\n\t.user-lists {\r\n\t\t.el-avatar {\r\n\t\t\tmargin: 0 5px;\r\n\t\t}\r\n\t\tspan {\r\n\t\t\tvertical-align:middle\r\n\t\t}\r\n\t}\r\n\r\n\t.user-lists:hover {\r\n\t\tbackground-color: #ecf5ff;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.isActive {\r\n\t\tbackground-color: #ecf5ff;\r\n\t}\r\n\r\n\t.message-content {\r\n\t\tpadding: 5px;\r\n\t\tborder-right: 1px solid #dcdfe6;\r\n\t\tborder-top: 1px solid #dcdfe6;\r\n\t\tborder-bottom: 1px solid #dcdfe6;\r\n\t}\r\n\r\n\t.get-user {\r\n\t\theight: 50px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 20px;\r\n\t\tborder-radius: 4px 4px 0 0;\r\n\t\tbackground-color: #66a9ec;\r\n\t\tspan {\r\n\t\t\tcolor: #fff;\r\n\t\t}\r\n\t\t.el-button {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 30px;\r\n\t\t}\r\n\t}\r\n\r\n\t.dialog {\r\n\t\tbackground: #f5f5f5; \r\n\t\tpadding: 15px; \r\n\t\tborder-radius: 0 0 4px 4px;\r\n\t\t.dialog-a {\r\n\t\t\tbackground: #ffffff; \r\n\t\t\tcolor: black; \r\n\t\t\tpadding: 6px 10px;\r\n\t\t\tborder-radius: 4px; \r\n\t\t\tdisplay: inline-block; \r\n\t\t\tbox-shadow: 0px 1px 7px -5px #000;\r\n\t\t\tborder: 0px solid #000;\r\n\t\t\tmax-width: calc(45%);\r\n\t\t\tword-wrap: break-word;\r\n\t\t}\r\n\t\t.prompt-text {\r\n\t\t\tcolor:#ccc;\r\n\t\t\tfont-size: 13px;\r\n\t\t\ttext-align: center;\r\n\t\t\tmargin:10px 0px;\r\n\t\t}\r\n\t\t.dialog-b {\r\n\t\t\tbackground: #9eea6a; \r\n\t\t\tcolor: black; \r\n\t\t\tpadding: 6px 10px; \r\n\t\t\tborder-radius: 4px; \r\n\t\t\tdisplay: inline-block; \r\n\t\t\tbox-shadow: 0px 1px 7px -5px #000;\r\n\t\t\tborder:0px solid #000;\r\n\t\t\tmax-width: calc(45%);\r\n\t\t\tword-wrap: break-word;\r\n\t\t\ttext-align: left;\r\n\t\t}\r\n\t}\r\n\r\n\t.input-content {\r\n\t\tmargin-top: 5px;\r\n\t\t.el-input {\r\n\t\t\tline-height: 2.5;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t\t.el-button {\r\n\t\t\tmargin: 5px 0 0 5px;\r\n\t\t}\r\n\t\t.operation {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"sourceRoot":"pages/main/im"}]}