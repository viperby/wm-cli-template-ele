{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\thread-loader\\dist\\cjs.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\common\\room.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\common\\room.vue","mtime":1594716323149},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovR2FlYVByb2plY3QvanBuX21lZGljYWxfd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovR2FlYVByb2plY3QvanBuX21lZGljYWxfd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHZpZGVvRWxlbWVudCBmcm9tICdAL3BhZ2VzL2NvbW1vbi92aWRlb0VsZW1lbnQudnVlJzsKaW1wb3J0IE5vdGljZVNESyBmcm9tICdAL3V0aWxzL25vdGljZVNESy9pbmRleC5qcyc7CmltcG9ydCBSdGNTREsgZnJvbSAnQC91dGlscy9ydGNTREsvcnRjLmpzJzsKaW1wb3J0IGNvbmYgZnJvbSAnQC9jb25mL2NvbmYuanMnOwppbXBvcnQgeyBtYWtlR3VpZCB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9tYWtlR3VpZC5qcyc7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IG5vdGljZSBmcm9tICdAL3V0aWxzL21peGlucy9ub3RpY2UuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWyJ1SW5mbyJdKSksIG1hcFN0YXRlKFsibm90aWNlUm9vbSJdKSksCiAgbWl4aW5zOiBbbm90aWNlXSwKICBjb21wb25lbnRzOiB7CiAgICB2aWRlb0VsZW1lbnQ6IHZpZGVvRWxlbWVudAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJTdHJlYW1zOiB7fSwKICAgICAgdXNlclJ0Y3M6IHt9LAogICAgICB0b2tlbnM6IHt9LAogICAgICBsb2NhbFN0cmVhbTogbnVsbCwKICAgICAgbWVkaWFTdHJlYW1UcmFjazogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrTWVkaWE6IGZ1bmN0aW9uIGNoZWNrTWVkaWEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbWVkaWFEZXZpY2VzOiBuYXZpZ2F0b3IgIT0gdW5kZWZpbmVkICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMgIT0gdW5kZWZpbmVkCiAgICAgIH07CiAgICB9LAogICAgY3JlYXRlVmlkZW86IGZ1bmN0aW9uIGNyZWF0ZVZpZGVvKGluZm8pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN0cmVhbSwgdmlkZW8sIHBhcmVudEVsZW1lbnQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY3JlYXRlTG9jYWxTdGVhbSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBzdHJlYW0gPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChzdHJlYW0pIHsKICAgICAgICAgICAgICAgICAgX3RoaXMubWVkaWFTdHJlYW1UcmFjayA9IHR5cGVvZiBzdHJlYW0uc3RvcCA9PT0gJ2Z1bmN0aW9uJyA/IHN0cmVhbSA6IHN0cmVhbS5nZXRUcmFja3MoKVswXTsKICAgICAgICAgICAgICAgICAgX3RoaXMubG9jYWxTdHJlYW0gPSBzdHJlYW07CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhbFN0cmVhbScpLmlubmVySFRNTCA9ICIiOwogICAgICAgICAgICAgICAgICB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7CiAgICAgICAgICAgICAgICAgIHZpZGVvLndpZHRoID0gMzAwOwogICAgICAgICAgICAgICAgICB2aWRlby5oZWlnaHQgPSAzMDA7CiAgICAgICAgICAgICAgICAgIHZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgdmlkZW8ucGxheXNpbmxpbmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdmlkZW8uY29udHJvbHMgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdmlkZW8ubXV0ZWQgPSAibXV0ZWQiOwogICAgICAgICAgICAgICAgICB2aWRlby5zcmNPYmplY3QgPSBfdGhpcy5sb2NhbFN0cmVhbTsKICAgICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2NhbFN0cmVhbSIpOwogICAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHZpZGVvKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoaW5mbykgX3RoaXMuJGV2ZW4uJGVtaXQoInVzZXJfdmlkZW9fcmVhZHkiLCBpbmZvKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNyZWF0ZUxvY2FsU3RlYW06IGZ1bmN0aW9uIGNyZWF0ZUxvY2FsU3RlYW0oaW5mbykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmNoZWNrTWVkaWEoKS5tZWRpYURldmljZXMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7CiAgICAgICAgICAgICAgICAgIGF1ZGlvOiB0cnVlLAogICAgICAgICAgICAgICAgICB2aWRlbzogewogICAgICAgICAgICAgICAgICAgIHdpZHRoOiB7CiAgICAgICAgICAgICAgICAgICAgICBpZGVhbDogMTA4MAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB7CiAgICAgICAgICAgICAgICAgICAgICBpZGVhbDogNzIwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mi5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNyZWF0ZVJ0Y1NlbmRlcjogZnVuY3Rpb24gY3JlYXRlUnRjU2VuZGVyKHVpZCwgdHlwZSwgcmVhZHkpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgdGhhdCwgcnRjOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGF0ID0gX3RoaXMzOwogICAgICAgICAgICAgICAgcnRjID0gbmV3IFJ0Y1NESyh7CiAgICAgICAgICAgICAgICAgIHNlcnZlOiAic3R1bjpzdHVuLnN0dW5wcm90b2NvbC5vcmc6MzQ3OCIsCiAgICAgICAgICAgICAgICAgIHJlYWR5OiByZWFkeSwKICAgICAgICAgICAgICAgICAgam9pbjogZnVuY3Rpb24gam9pbihzdHJlYW0pIHsKICAgICAgICAgICAgICAgICAgICB0aGF0LiRzZXQodGhhdC51c2VyU3RyZWFtcywgdWlkLCBzdHJlYW0uc3RyZWFtKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBydGMuYWRkU3RlYW0oX3RoaXMzLmxvY2FsU3RyZWFtKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuc2V0VXNlclJ0Y3MocnRjLCB1aWQsIHR5cGUpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBydGMuY3JlYXRlT2ZmZXIoewogICAgICAgICAgICAgICAgICBvZmZlclRvUmVjZWl2ZVZpZGVvOiB0cnVlLAogICAgICAgICAgICAgICAgICBvZmZlclRvUmVjZWl2ZUF1ZGlvOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0My5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0VXNlclJ0Y3M6IGZ1bmN0aW9uIHNldFVzZXJSdGNzKHJ0YywgdWlkLCB0eXBlKSB7CiAgICAgIGlmICghdGhpcy51c2VyUnRjc1t1aWRdKSB7CiAgICAgICAgdGhpcy51c2VyUnRjc1t1aWRdID0gbmV3IE9iamVjdCgpOwogICAgICB9CgogICAgICB0aGlzLnVzZXJSdGNzW3VpZF1bdHlwZV0gPSBydGM7CiAgICB9LAogICAgY3JlYXRlUm9vbTogZnVuY3Rpb24gY3JlYXRlUm9vbShpbmZvLCBwYXIpIHsKICAgICAgdGhpcy5pbml0Um9vbShpbmZvLCBwYXIpOwogICAgfSwKICAgIGNyZWF0ZVJ0Y1JldmljZTogZnVuY3Rpb24gY3JlYXRlUnRjUmV2aWNlKHVpZCwgdHlwZSwgcmVhZHkpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgdGhhdCwgcnRjOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGF0ID0gX3RoaXM0OwogICAgICAgICAgICAgICAgcnRjID0gbmV3IFJ0Y1NESyh7CiAgICAgICAgICAgICAgICAgIHNlcnZlOiAic3R1bjpzdHVuLnN0dW5wcm90b2NvbC5vcmc6MzQ3OCIsCiAgICAgICAgICAgICAgICAgIHJlYWR5OiByZWFkeSwKICAgICAgICAgICAgICAgICAgam9pbjogZnVuY3Rpb24gam9pbihzdHJlYW0pIHsKICAgICAgICAgICAgICAgICAgICB0aGF0LiRzZXQodGhhdC51c2VyU3RyZWFtcywgdWlkLCBzdHJlYW0uc3RyZWFtKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7IC8vcnRjLnNvY3VyZS5hZGRUcmFuc2NlaXZlcignYXVkaW8nLCB7ICdkaXJlY3Rpb24nOiAncmVjdm9ubHknIH0pOwogICAgICAgICAgICAgICAgLy9ydGMuc29jdXJlLmFkZFRyYW5zY2VpdmVyKCd2aWRlbycsIHsgJ2RpcmVjdGlvbic6ICdyZWN2b25seScgfSk7CiAgICAgICAgICAgICAgICAvL3J0Yy5zZW5kT2ZmZXIgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBydGMuYWRkU3RlYW0oX3RoaXM0LmxvY2FsU3RyZWFtKTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNC51c2VyUnRjc1t1aWRdIHx8ICFfdGhpczQudXNlclJ0Y3NbdWlkXVt0eXBlXSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuc2V0VXNlclJ0Y3MocnRjLCB1aWQsIHR5cGUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBydGM7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGV2ZW5zOiBmdW5jdGlvbiBldmVucygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgc2VsZiA9IHRoaXM7IC8vdGhpcy5jcmVhdGVWaWRlbygpOwoKICAgICAgdGhpcy4kZXZlbi4kb24oInVzZXJfbGl2ZV9sZWF2ZSIsIGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXM1Lm1lZGlhU3RyZWFtVHJhY2spOwogICAgICAgIF90aGlzNS5tZWRpYVN0cmVhbVRyYWNrICYmIF90aGlzNS5tZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTsKICAgICAgICBfdGhpczUubWVkaWFTdHJlYW1UcmFjayA9IG51bGw7CiAgICAgIH0pOwogICAgICB0aGlzLiRldmVuLiRvbigidXNlcl9saXZlX2xhdW5jaCIsIGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgX3RoaXM1LmNyZWF0ZVZpZGVvKGluZm8pOwogICAgICB9KTsgLy/lvZPliY3nlKjmiLfkuLvliqjpgIDlh7oKCiAgICAgIHRoaXMuJGV2ZW4uJG9uKCJ1c2VyX2xpdmVfbGVhdmUiLCBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIF90aGlzNS51c2VyUnRjcyA9IHt9OwogICAgICAgIHZhciBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdqcy12aWRlb2JveCcpWzBdOwogICAgICAgIGJveC5pbm5lckhUTUwgPSAiIjsKICAgICAgICBfdGhpczUudXNlclN0cmVhbXMgPSB7fTsKICAgICAgfSk7IC8v5b2T5a+55pa56YCJ5oup5Lul6KeG6aKR5pa55byP5o6l6YCa5pe2CgogICAgICB0aGlzLiRldmVuLiRvbigibm90aWNlX2xpdmVfY29ubmVjdGFsbCIsIGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgLy/lvZPliY3nlKjmiLflt7LlnKjmiL/pl7QKICAgICAgICBpZiAoX3RoaXM1Lm5vdGljZVJvb20gJiYgX3RoaXM1Lm5vdGljZVJvb20uaW5mbyAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICAgIHRvOiBpbmZvLkZyb20uR3VpZCwKICAgICAgICAgICAgaW5mbzogewogICAgICAgICAgICAgIFBsYXRlOiBfdGhpczUubm90aWNlUm9vbS5pbmZvLnBsYXRlLAogICAgICAgICAgICAgIENvZGU6IF90aGlzNS5ub3RpY2VSb29tLmluZm8uY29kZSwKICAgICAgICAgICAgICBWaWRlb1R5cGU6IGluZm8uRGF0YS5NZXNzYWdlLkFuc3dlcgogICAgICAgICAgICB9LAogICAgICAgICAgICB0eXBlOiAnJwogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpczUubm90aWNlRXguc2VuZChtc2cudG8sIG1zZy5pbmZvKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy/lvZPliY3nlKjmiLfkuI3lnKjmiL/pl7QKICAgICAgICAgIF90aGlzNS5jcmVhdGVSb29tKGluZm8pOwogICAgICAgIH0KICAgICAgfSk7IC8v5b2T5oi/6Ze05bey5bu656uLCgogICAgICB0aGlzLiRldmVuLiRvbigidXNlcl9yb29tX2NyZWF0ZSIsIGZ1bmN0aW9uIChpbmZvLCBub3RpY2UpIHsKICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgdG86IGluZm8uRnJvbS5HdWlkLAogICAgICAgICAgaW5mbzogewogICAgICAgICAgICBQbGF0ZTogbm90aWNlLmluZm8ucGxhdGUsCiAgICAgICAgICAgIENvZGU6IG5vdGljZS5pbmZvLmNvZGUsCiAgICAgICAgICAgIFZpZGVvVHlwZTogaW5mby5EYXRhLk1lc3NhZ2UuQW5zd2VyCiAgICAgICAgICB9LAogICAgICAgICAgdHlwZTogJycKICAgICAgICB9OwoKICAgICAgICBfdGhpczUubm90aWNlRXguc2VuZChtc2cudG8sIG1zZy5pbmZvKTsKICAgICAgfSk7IC8v5pS25Yiw5Yib5bu65oi/6Ze05oyH5LukCgogICAgICB0aGlzLiRldmVuLiRvbigibm90aWNlX3Jvb21fYnVpbGQiLCBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIF90aGlzNS5jcmVhdGVSb29tKGluZm8sIHsKICAgICAgICAgIHBsYXRlOiBpbmZvLkRhdGEuTWVzc2FnZS5QbGF0ZQogICAgICAgIH0pOwogICAgICB9KTsgLy/mlLbliLDliqDlhaXmiL/pl7TmjIfku6QKCiAgICAgIHRoaXMuJGV2ZW4uJG9uKCJub3RpY2Vfcm9vbV9qb2luIiwgZnVuY3Rpb24gKGluZm8pIHsKICAgICAgICB2YXIgcmVhZHkgPSBmdW5jdGlvbiByZWFkeSh0b2tlbikgewogICAgICAgICAgdmFyIHJ0YyA9IHNlbGYudXNlclJ0Y3NbaW5mby5EYXRhLkFjY2VwdC5HdWlkXS5kZXNrOwogICAgICAgICAgdmFyIHNlbmRNc2cgPSB7CiAgICAgICAgICAgIHR5cGU6ICd0b2tlbicsCiAgICAgICAgICAgIHRva2VuOiB0b2tlbgogICAgICAgICAgfTsgLy/mo4Dmn6XmmK/lkKblrZjlnKjnrYnlvoXmjqXmlLbnmoR0b2tlbgoKICAgICAgICAgIGlmIChfdGhpczUudG9rZW5zW2luZm8uRnJvbS5HdWlkXSkgewogICAgICAgICAgICBydGMuYWRkSWNlQ2FuZGlkYXRlKF90aGlzNS50b2tlbnNbaW5mby5Gcm9tLkd1aWRdKTsKICAgICAgICAgICAgZGVsZXRlIF90aGlzNS50b2tlbnNbaW5mby5Gcm9tLkd1aWRdOwogICAgICAgICAgfQoKICAgICAgICAgIHNlbGYubm90aWNlUm9vbS5zZW5kKGluZm8uRGF0YS5BY2NlcHQuR3VpZCwgc2VuZE1zZyk7CiAgICAgICAgfTsKCiAgICAgICAgX3RoaXM1LmNyZWF0ZVJ0Y1NlbmRlcihpbmZvLkRhdGEuQWNjZXB0Lkd1aWQsICdkZXNrJywgcmVhZHkpLnRoZW4oZnVuY3Rpb24gKG9mZmVyKSB7CiAgICAgICAgICB2YXIgc2VuZE1zZyA9IHsKICAgICAgICAgICAgdHlwZTogJ3B1c2gnLAogICAgICAgICAgICBqc2VwOiBvZmZlcgogICAgICAgICAgfTsKICAgICAgICAgIHNlbGYubm90aWNlUm9vbS5zZW5kKGluZm8uRGF0YS5BY2NlcHQuR3VpZCwgc2VuZE1zZyk7CiAgICAgICAgfSk7CiAgICAgIH0pOyAvL+S6kuaNonRva2Vu5oyH5LukCgogICAgICB0aGlzLiRldmVuLiRvbigibm90aWNlX2NoYW5uZWxfdG9rZW4iLCBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIHZhciByZWMgPSBpbmZvLkRhdGEuTWVzc2FnZTsgLy/lvZPov5nmnaHmtojmga/mjqXlj5fml7bvvIzmnInlj6/og73mnKzlnLDlupTnrZTkv6Hku6Tov5jmnKrliJvlu7rlrozmiJAKCiAgICAgICAgaWYgKF90aGlzNS51c2VyUnRjc1tpbmZvLkZyb20uR3VpZF0pIHsKICAgICAgICAgIHZhciBydGMgPSBfdGhpczUudXNlclJ0Y3NbaW5mby5Gcm9tLkd1aWRdLmRlc2s7CiAgICAgICAgICBydGMuYWRkSWNlQ2FuZGlkYXRlKHJlYy50b2tlbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8v5pqC5a2YCiAgICAgICAgICBfdGhpczUudG9rZW5zW2luZm8uRnJvbS5HdWlkXSA9IHJlYy50b2tlbjsKICAgICAgICB9CiAgICAgIH0pOyAvL+aUtuWIsOmAgOWHuuaIv+mXtOaMh+S7pAoKICAgICAgdGhpcy4kZXZlbi4kb24oIm5vdGljZV9yb29tX2xlYXZlIiwgZnVuY3Rpb24gKGluZm8pIHsKICAgICAgICBfdGhpczUuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgICBtZXNzYWdlOiBpbmZvLkRhdGEuQWNjZXB0Lk5hbWUgKyAn6YCA5Ye66KeG6aKR77yBJwogICAgICAgIH0pOwoKICAgICAgICB2YXIgcnRjID0gX3RoaXM1LnVzZXJSdGNzW2luZm8uRGF0YS5BY2NlcHQuR3VpZF0uZGVzazsKICAgICAgICBydGMuc29jdXJlLmNsb3NlKCk7CiAgICAgICAgZGVsZXRlIF90aGlzNS51c2VyUnRjc1tpbmZvLkRhdGEuQWNjZXB0Lkd1aWRdOwogICAgICAgIHZhciByZW1vdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmZvLkRhdGEuQWNjZXB0Lkd1aWQpOwogICAgICAgIHJlbW92ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHJlbW92ZSk7CiAgICAgICAgZGVsZXRlIF90aGlzNS51c2VyU3RyZWFtc1tpbmZvLkRhdGEuQWNjZXB0Lkd1aWRdOwogICAgICB9KTsgLy/lvZPmlLbliLBwdXNo5raI5oGvCgogICAgICB0aGlzLiRldmVuLiRvbigibm90aWNlX2NoYW5uZWxfcHVzaCIsIGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgdmFyIHJlYyA9IGluZm8uRGF0YS5NZXNzYWdlOwoKICAgICAgICB2YXIgcmVhZHkgPSBmdW5jdGlvbiByZWFkeSh0b2tlbikgewogICAgICAgICAgdmFyIHJ0YyA9IHNlbGYudXNlclJ0Y3NbaW5mby5Gcm9tLkd1aWRdLmRlc2s7CiAgICAgICAgICB2YXIgc2VuZE1zZyA9IHsKICAgICAgICAgICAgdHlwZTogJ3Rva2VuJywKICAgICAgICAgICAgdG9rZW46IHRva2VuCiAgICAgICAgICB9OyAvL+ajgOafpeaYr+WQpuWtmOWcqOetieW+heaOpeaUtueahHRva2VuCgogICAgICAgICAgaWYgKF90aGlzNS50b2tlbnNbaW5mby5Gcm9tLkd1aWRdKSB7CiAgICAgICAgICAgIHJ0Yy5hZGRJY2VDYW5kaWRhdGUoX3RoaXM1LnRva2Vuc1tpbmZvLkZyb20uR3VpZF0pOwogICAgICAgICAgICBkZWxldGUgX3RoaXM1LnRva2Vuc1tpbmZvLkZyb20uR3VpZF07CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM1Lm5vdGljZVJvb20uc2VuZChpbmZvLkZyb20uR3VpZCwgc2VuZE1zZyk7CiAgICAgICAgfTsKCiAgICAgICAgX3RoaXM1LmNyZWF0ZVJ0Y1JldmljZShpbmZvLkZyb20uR3VpZCwgJ2Rlc2snLCByZWFkeSkudGhlbihmdW5jdGlvbiAocnRjKSB7CiAgICAgICAgICBydGMuY3JlYXRlQW5zd2VyKHJlYy5qc2VwKS50aGVuKGZ1bmN0aW9uIChhbnN3ZXIpIHsKICAgICAgICAgICAgdmFyIHNlbmRNc2cgPSB7CiAgICAgICAgICAgICAgdHlwZTogJ3N1YnNjcmliZScsCiAgICAgICAgICAgICAganNlcDogYW5zd2VyCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBfdGhpczUubm90aWNlUm9vbS5zZW5kKGluZm8uRnJvbS5HdWlkLCBzZW5kTXNnKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsgLy/lvZPmlLbliLDorqLpmIXmtojmga8KCiAgICAgIHRoaXMuJGV2ZW4uJG9uKCJub3RpY2VfY2hhbm5lbF9zdWJzY3JpYmUiLCBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIHZhciByZWMgPSBpbmZvLkRhdGEuTWVzc2FnZTsKICAgICAgICB2YXIgcnRjID0gX3RoaXM1LnVzZXJSdGNzW2luZm8uRnJvbS5HdWlkXS5kZXNrOwogICAgICAgIHJ0Yy5zZXRSZW1vdGUocmVjLmpzZXApOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmV2ZW5zKCk7CiAgfQp9Ow=="},{"version":3,"sources":["room.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<el-row>\r\n\t\t<el-col :span=\"24\">\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t<el-card id=\"localStream\" style=\"display: inline-block;margin:10px\">\r\n\t\t\t\t\t</el-card>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"16\">\r\n\t\t\t\t\t<div class=\"js-videobox\">\r\n\t\t\t\t\t\t<videoElement v-for=\"(item,key,i) in userStreams\" :key=\"i\" :mid=\"key\" :stream=\"item\"></videoElement>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-col>\r\n\t</el-row>\n</template>\n\n<script>\r\n\timport videoElement from '@/pages/common/videoElement.vue'\r\n\timport NoticeSDK from '@/utils/noticeSDK/index.js'\r\n\timport RtcSDK from '@/utils/rtcSDK/rtc.js'\r\n\timport conf from '@/conf/conf.js'\r\n\timport {makeGuid} from '../../src/utils/makeGuid.js';\r\n\timport {mapState,mapMutations} from 'vuex'\r\n\timport notice from '@/utils/mixins/notice.js'\r\n\t\r\n\texport default {\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\"uInfo\"]),\r\n\t\t\t...mapState([\"noticeRoom\"]),\r\n\t\t},\r\n\t\tmixins:[notice],\r\n\t\tcomponents:{\r\n\t\t\tvideoElement\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tuserStreams:{},\r\n\t\t\t\tuserRtcs:{},\r\n\t\t\t\ttokens:{},\r\n\t\t\t\tlocalStream:null,\r\n\t\t\t\tmediaStreamTrack:null,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tcheckMedia(){\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmediaDevices:navigator != undefined && navigator.mediaDevices != undefined,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync createVideo(info){\t\t\t\r\n\t\t\t\tlet stream = await this.createLocalSteam();\r\n\t\t\t\tif(stream){\r\n\t\t\t\t\tthis.mediaStreamTrack= typeof stream.stop==='function'?stream:stream.getTracks()[0];\r\n\t\t\t\t\tthis.localStream = stream;\r\n\t\t\t\t\tdocument.getElementById('localStream').innerHTML = \"\";\r\n\t\t\t\t\tconst video = document.createElement('video');\r\n\t\t\t\t\tvideo.width = 300;\r\n\t\t\t\t\tvideo.height = 300;\r\n\t\t\t\t\tvideo.autoplay = true;\r\n\t\t\t\t\tvideo.playsinline = false;\r\n\t\t\t\t\tvideo.controls = false;\r\n\t\t\t\t\tvideo.muted = \"muted\";\r\n\t\t\t\t\tvideo.srcObject = this.localStream;\r\n\t\t\t\t\tlet parentElement = document.getElementById(\"localStream\");\r\n\t\t\t\t\tparentElement.appendChild(video);\r\n\t\t\t\t}\r\n\t\t\t\tif(info)\r\n\t\t\t\t\tthis.$even.$emit(\"user_video_ready\",info)\r\n\t\t\t},\r\n\t\t\tasync createLocalSteam(info) {\r\n\t\t\t\tif (!this.checkMedia().mediaDevices) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\ttry{\r\n\t\t\t\t\treturn await navigator.mediaDevices.getUserMedia({\r\n\t\t\t\t\t\taudio: true,\r\n\t\t\t\t\t\tvideo: {\r\n\t\t\t\t\t\t\twidth: {\r\n\t\t\t\t\t\t\t\tideal: 1080\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\theight: {\r\n\t\t\t\t\t\t\t\tideal: 720\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync createRtcSender(uid, type,ready) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet rtc = new RtcSDK({\r\n\t\t\t\t\tserve: \"stun:stun.stunprotocol.org:3478\",\r\n\t\t\t\t\tready:ready,\r\n\t\t\t\t\tjoin(stream){\r\n\t\t\t\t\t\tthat.$set(that.userStreams, uid, stream.stream)\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\trtc.addSteam(this.localStream);\r\n\t\t\t\tthis.setUserRtcs(rtc, uid, type);\r\n\t\t\t\treturn await rtc.createOffer({\r\n\t\t\t\t\tofferToReceiveVideo: true,\r\n\t\t\t\t\tofferToReceiveAudio: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetUserRtcs(rtc,uid,type){\r\n\t\t\t\tif(!this.userRtcs[uid]){\r\n\t\t\t\t\tthis.userRtcs[uid] = new Object();\r\n\t\t\t\t}\r\n\t\t\t\tthis.userRtcs[uid][type] = rtc;\t\r\n\t\t\t},\r\n\t\t\tcreateRoom(info,par){\r\n\t\t\t\tthis.initRoom(info,par);\r\n\t\t\t},\r\n\t\t\tasync createRtcRevice(uid,type,ready){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet rtc = new RtcSDK({\r\n\t\t\t\t\tserve:\"stun:stun.stunprotocol.org:3478\",\r\n\t\t\t\t\tready:ready,\r\n\t\t\t\t\tjoin(stream){\r\n\t\t\t\t\t\tthat.$set(that.userStreams,uid,stream.stream)\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t//rtc.socure.addTransceiver('audio', { 'direction': 'recvonly' });\r\n\t\t\t\t//rtc.socure.addTransceiver('video', { 'direction': 'recvonly' });\r\n\t\t\t\t//rtc.sendOffer = false;\r\n\t\t\t\trtc.addSteam(this.localStream);\t\t\t\r\n\t\t\t\tif(!this.userRtcs[uid] || !this.userRtcs[uid][type]){\r\n\t\t\t\t\tthis.setUserRtcs(rtc,uid,type);\r\n\t\t\t\t}\r\n\t\t\t\treturn await rtc;\r\n\t\t\t\t//return await rtc.createOffer({ offerToReceiveVideo: true, offerToReceiveAudio: true });\r\n\t\t\t},\r\n\t\t\tevens(){\r\n\t\t\t\tlet self = this;\r\n\t\t\t\t//this.createVideo();\r\n\t\t\t\tthis.$even.$on(\"user_live_leave\",(info)=>{\r\n\t\t\t\t\tconsole.log(this.mediaStreamTrack)\r\n\t\t\t\t\tthis.mediaStreamTrack && this.mediaStreamTrack.stop();\r\n\t\t\t\t\tthis.mediaStreamTrack = null;\r\n\t\t\t\t})\r\n\t\t\t\tthis.$even.$on(\"user_live_launch\",(info)=>{\r\n\t\t\t\t\tthis.createVideo(info);\r\n\t\t\t\t})\r\n\t\t\t\t//当前用户主动退出\r\n\t\t\t\tthis.$even.$on(\"user_live_leave\",(info)=>{\r\n\t\t\t\t\tthis.userRtcs = {};\r\n\t\t\t\t\tlet box = document.getElementsByClassName('js-videobox')[0];\r\n\t\t\t\t\tbox.innerHTML = \"\";\r\n\t\t\t\t\tthis.userStreams = {};\r\n\t\t\t\t})\r\n\t\t\t\t//当对方选择以视频方式接通时\r\n\t\t\t\tthis.$even.$on(\"notice_live_connectall\",(info)=>{\r\n\t\t\t\t\t//当前用户已在房间\r\n\t\t\t\t\tif(this.noticeRoom&&this.noticeRoom.info != undefined){\r\n\t\t\t\t\t\tvar msg = {\r\n\t\t\t\t\t\t\tto: info.From.Guid,\r\n\t\t\t\t\t\t\tinfo: {\r\n\t\t\t\t\t\t\t\tPlate: this.noticeRoom.info.plate,\r\n\t\t\t\t\t\t\t\tCode: this.noticeRoom.info.code,\r\n\t\t\t\t\t\t\t\tVideoType:  info.Data.Message.Answer\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttype: ''\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.noticeEx.send(msg.to, msg.info);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//当前用户不在房间\r\n\t\t\t\t\t\tthis.createRoom(info)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//当房间已建立\r\n\t\t\t\tthis.$even.$on(\"user_room_create\",(info,notice)=>{\r\n\t\t\t\t\tvar msg = {\r\n\t\t\t\t\t\tto: info.From.Guid,\r\n\t\t\t\t\t\tinfo: {\r\n\t\t\t\t\t\t\tPlate: notice.info.plate,\r\n\t\t\t\t\t\t\tCode: notice.info.code,\r\n\t\t\t\t\t\t\tVideoType: info.Data.Message.Answer,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttype: ''\r\n\t\t\t\t\t};\t\r\n\t\t\t\t\tthis.noticeEx.send(msg.to, msg.info);\r\n\t\t\t\t});\r\n\t\t\t\t//收到创建房间指令\r\n\t\t\t\tthis.$even.$on(\"notice_room_build\",(info)=>{\r\n\t\t\t\t\tthis.createRoom(info,{plate:info.Data.Message.Plate})\r\n\t\t\t\t});\r\n\t\t\t\t//收到加入房间指令\r\n\t\t\t\tthis.$even.$on(\"notice_room_join\",(info)=>{\r\n\t\t\t\t\tlet ready = (token) => {\r\n\t\t\t\t\t\tlet rtc = self.userRtcs[info.Data.Accept.Guid].desk;\r\n\t\t\t\t\t\tlet sendMsg = {\r\n\t\t\t\t\t\t\ttype:'token',\r\n\t\t\t\t\t\t\ttoken:token,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//检查是否存在等待接收的token\r\n\t\t\t\t\t\tif(this.tokens[info.From.Guid]){\r\n\t\t\t\t\t\t\trtc.addIceCandidate(this.tokens[info.From.Guid]);\r\n\t\t\t\t\t\t\tdelete this.tokens[info.From.Guid];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.noticeRoom.send(info.Data.Accept.Guid, sendMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.createRtcSender(info.Data.Accept.Guid,'desk',ready).then((offer)=>{\r\n\t\t\t\t\t\tlet sendMsg = {\r\n\t\t\t\t\t\t\ttype:'push',\r\n\t\t\t\t\t\t\tjsep:offer,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.noticeRoom.send(info.Data.Accept.Guid, sendMsg);\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\t//互换token指令\r\n\t\t\t\tthis.$even.$on(\"notice_channel_token\",(info)=>{\r\n\t\t\t\t\tlet rec = info.Data.Message;\r\n\t\t\t\t\t//当这条消息接受时，有可能本地应答信令还未创建完成\r\n\t\t\t\t\tif(this.userRtcs[info.From.Guid]){\r\n\t\t\t\t\t\tlet rtc = this.userRtcs[info.From.Guid].desk;\r\n\t\t\t\t\t\trtc.addIceCandidate(rec.token);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t//暂存\r\n\t\t\t\t\t\tthis.tokens[info.From.Guid] = rec.token;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//收到退出房间指令\r\n\t\t\t\tthis.$even.$on(\"notice_room_leave\",(info)=>{\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tmessage: info.Data.Accept.Name + '退出视频！',\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet rtc = this.userRtcs[info.Data.Accept.Guid].desk;\r\n\t\t\t\t\trtc.socure.close();\r\n\t\t\t\t\tdelete this.userRtcs[info.Data.Accept.Guid];\r\n\t\t\t\t\tvar remove = document.getElementById(info.Data.Accept.Guid);\r\n\t\t\t\t\tremove.parentNode.removeChild(remove);\r\n\t\t\t\t\tdelete this.userStreams[info.Data.Accept.Guid]\r\n\t\t\t\t});\r\n\t\t\t\t//当收到push消息\r\n\t\t\t\tthis.$even.$on(\"notice_channel_push\",(info)=>{\r\n\t\t\t\t\tlet rec = info.Data.Message;\r\n\t\t\t\t\tlet ready = (token) => {\r\n\t\t\t\t\t\tlet rtc = self.userRtcs[info.From.Guid].desk;\r\n\t\t\t\t\t\tlet sendMsg = {\r\n\t\t\t\t\t\t\t\ttype:'token',\r\n\t\t\t\t\t\t\t\ttoken:token\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//检查是否存在等待接收的token\r\n\t\t\t\t\t\tif(this.tokens[info.From.Guid]){\r\n\t\t\t\t\t\t\trtc.addIceCandidate(this.tokens[info.From.Guid]);\r\n\t\t\t\t\t\t\tdelete this.tokens[info.From.Guid];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.noticeRoom.send(info.From.Guid, sendMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.createRtcRevice(info.From.Guid,'desk',ready).then((rtc)=>{\r\n\t\t\t\t\t\trtc.createAnswer(rec.jsep).then((answer)=>{\r\n\t\t\t\t\t\t\tlet sendMsg = {\r\n\t\t\t\t\t\t\t\t\ttype:'subscribe',\r\n\t\t\t\t\t\t\t\t\tjsep:answer,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.noticeRoom.send(info.From.Guid, sendMsg);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\t//当收到订阅消息\r\n\t\t\t\tthis.$even.$on(\"notice_channel_subscribe\",(info)=>{\r\n\t\t\t\t\tlet rec = info.Data.Message;\r\n\t\t\t\t\tlet rtc = this.userRtcs[info.From.Guid].desk;\r\n\t\t\t\t\trtc.setRemote(rec.jsep)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tthis.evens();\r\n\t\t}\r\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"pages/common"}]}