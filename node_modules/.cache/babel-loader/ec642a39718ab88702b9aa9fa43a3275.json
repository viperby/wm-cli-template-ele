{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\appointmentDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\appointmentDetail.vue","mtime":1601036333027},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovR2FlYVByb2plY3QvanBuX21lZGljYWxfd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGNvbmYgZnJvbSAnQC9jb25mL2NvbmYuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFwcG9pbnRtZW50RGV0YWlsIiwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGlkOiBmdW5jdGlvbiBpZCh2KSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkb2NGaWxlczogW10sCiAgICAgIC8vIOmZhOS7tuihqOagvAogICAgICBkZXRhaWxzOiB7fSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5vblNob3dCb29raW5nRGV0YWlsc0RpYWxvZygpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmRvY0ZpbGVzLmxlbmd0aCA9IDA7IC8vIOWIneWni+WMlgoKICAgICAgdGhpcy5kZXRhaWxzID0ge307IC8vIOWIneWni+WMlgoKICAgICAgdGhpcy5vblNob3dCb29raW5nRGV0YWlsc0RpYWxvZygpOwogICAgfSwKICAgIC8vIOmihOe6puivpuaDhQogICAgb25TaG93Qm9va2luZ0RldGFpbHNEaWFsb2c6IGZ1bmN0aW9uIG9uU2hvd0Jvb2tpbmdEZXRhaWxzRGlhbG9nKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGFyYW1zLCByZXMsIGJhc2VVcmw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBBcHBvaW50bWVudEd1aWQ6IF90aGlzLmlkLAogICAgICAgICAgICAgICAgICBXaXRoRmlsZUluZm86IHRydWUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRhcGkuZ2V0KCIvTWVkaWNhbC9HZXRBcHBvaW50bWVudERldGFpbCIsIHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5Jc1Bvc2l0aXZlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy4kdGlwcy53YXJuaW5nKCLmn6XnnIvor6bmg4XlvILluLgiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXMuZGV0YWlscyA9IHJlcy5EYXRhOwogICAgICAgICAgICAgICAgYmFzZVVybCA9IGNvbmYuZ2V0Q3VycmVudFNlcnZlQWRkcignbWFpbicpOwoKICAgICAgICAgICAgICAgIF90aGlzLmRldGFpbHMuQXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5kb2NGaWxlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICB1cmw6IGJhc2VVcmwgKyBpdGVtLkZpbGVQYXRoLAogICAgICAgICAgICAgICAgICAgIHVybE5hbWU6IGl0ZW0uRmlsZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgZGF0ZTogaXRlbS5DcmVhdGVEYXRlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOyAvLyBjb25zb2xlLmxvZyh0aGlzLmRvY0ZpbGVzKTsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGV0YWlscyk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25Eb3dubG9hZERvY0ZpbGU6IGZ1bmN0aW9uIG9uRG93bmxvYWREb2NGaWxlKHVybCkgewogICAgICB3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["appointmentDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,IAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAFA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA,YAAA,CAAA,EAAA;AACA,WAAA,KAAA;AACA;AAHA,GARA;AAcA,EAAA,IAdA,kBAcA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AACA;AACA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GApBA;AAsBA,EAAA,OAtBA,qBAsBA;AACA,SAAA,0BAAA;AACA,GAxBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,QAAA,CAAA,MAAA,GAAA,CAAA,CADA,CACA;;AACA,WAAA,OAAA,GAAA,EAAA,CAFA,CAEA;;AACA,WAAA,0BAAA;AACA,KALA;AAMA;AACA,IAAA,0BAPA,wCAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA;AACA,kBAAA,eAAA,EAAA,KAAA,CAAA,EADA;AAEA,kBAAA,YAAA,EAAA;AAFA,iBADA;AAKA,gBAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AALA;AAAA,uBAMA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA,+BAAA,EAAA,MAAA,CANA;;AAAA;AAMA,gBAAA,GANA;;AAAA,oBAOA,GAAA,CAAA,UAPA;AAAA;AAAA;AAAA;;AAQA,gBAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,QAAA;;AARA;;AAAA;AAWA,gBAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AACA,gBAAA,OAZA,GAYA,IAAA,CAAA,mBAAA,CAAA,MAAA,CAZA;;AAaA,gBAAA,KAAA,CAAA,OAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AACA,oBAAA,GAAA,EAAA,OAAA,GAAA,IAAA,CAAA,QADA;AAEA,oBAAA,OAAA,EAAA,IAAA,CAAA,QAFA;AAGA,oBAAA,IAAA,EAAA,IAAA,CAAA;AAHA,mBAAA;AAKA,iBANA;;AAOA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CApBA,CAqBA;AACA;;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA,KA9BA;AA+BA,IAAA,iBA/BA,6BA+BA,GA/BA,EA+BA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,GAAA,EAAA,QAAA;AACA;AAjCA;AA1BA,CAAA","sourcesContent":["<template>\r\n  <div v-loading=\"loading\">\r\n    <el-form label-width=\"120px\">\r\n\t\t\t<el-form-item label=\"医生名字:\">\r\n\t\t\t\t<label>{{ details.DoctorName }}</label>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"专科名称:\">\r\n\t\t\t\t<label>{{ details.OfficeTypeName }}</label>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"约诊日期:\">\r\n\t\t\t\t<label>{{ details.AppointmentDate }}</label>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"预约看诊日期:\">\r\n\t\t\t\t<label>{{ details.TargetDate }}</label>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"诊断数据:\">\r\n\t\t\t\t<label class=\"space-label\">{{ details.DiagnoseReportRequirement }}</label>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n    <el-table :data=\"docFiles\" :v-loading=\"true\">\r\n\t\t\t<el-table-column property=\"url\" label=\"附件名称\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-link type=\"primary\" @click=\"onDownloadDocFile(scope.row.url)\">{{ scope.row.urlName }}</el-link>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column property=\"date\" label=\"日期\" width=\"200\"></el-table-column>\r\n\t\t</el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport conf from '@/conf/conf.js';\r\nexport default {\r\n  name: \"appointmentDetail\",\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  watch: {\r\n    id: function(v) {\r\n\t\t\tthis.reset();\r\n\t\t}\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      docFiles: [],\t// 附件表格\r\n\t\t\tdetails: {},\r\n\t\t\tloading: false\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.onShowBookingDetailsDialog();\r\n  },\r\n\r\n  methods: {\r\n    reset() {\r\n\t\t\tthis.docFiles.length = 0 // 初始化\r\n\t\t\tthis.details = {} // 初始化\r\n\t\t\tthis.onShowBookingDetailsDialog();\r\n\t\t},\r\n    // 预约详情\r\n\t\tasync onShowBookingDetailsDialog() {\r\n\t\t\tlet params = {\r\n\t\t\t\tAppointmentGuid: this.id,\r\n\t\t\t\tWithFileInfo: true\r\n\t\t\t}\r\n\t\t\tthis.loading = true;\r\n\t\t\tlet res = await this.$api.get(\"/Medical/GetAppointmentDetail\", params)\r\n\t\t\tif(!res.IsPositive) {\r\n\t\t\t\tthis.$tips.warning(\"查看详情异常\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.details = res.Data\r\n\t\t\tvar baseUrl = conf.getCurrentServeAddr('main')\r\n\t\t\tthis.details.Attachments.forEach(item => {\r\n\t\t\t\tthis.docFiles.push({\r\n\t\t\t\t\turl: baseUrl + item.FilePath,\r\n\t\t\t\t\turlName: item.FileName,\r\n\t\t\t\t\tdate: item.CreateDate\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tthis.loading = false;\r\n\t\t\t// console.log(this.docFiles);\r\n\t\t\t// console.log(this.details);\r\n\t\t},\r\n\t\tonDownloadDocFile(url) {\r\n\t\t\twindow.open(url, '_blank');\r\n\t\t},\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\t.el-form-item {\r\n\t\tmargin-bottom: 11px;\r\n\t}\r\n\r\n\t.space-label {\r\n\t\t/* 识别换行符 */\r\n\t\twhite-space: pre-line;\r\n\t}\r\n</style>\r\n"],"sourceRoot":"pages/main/appointment"}]}