{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\GaeaProject\\jpn_medical_web\\src\\request\\axios.js","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\src\\request\\axios.js","mtime":1589372305964},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjb25mIGZyb20gJy4uLy4uL2NvbmYvY29uZic7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyL3JvdXRlci5qcyc7CmF4aW9zLmRlZmF1bHRzLnRpbWVvdXQgPSAyMDAwOyAvL+WTjeW6lOaXtumXtAoKYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5wb3N0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCc7IC8v6YWN572u6K+35rGC5aS0CgpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gY29uZi5nZXRDdXJyZW50U2VydmVBZGRyKCJtYWluIik7IC8v6YWN572u5o6l5Y+j5Zyw5Z2ACi8vYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzPWZhbHNlCi8vUE9TVOS8oOWPguW6j+WIl+WMlijmt7vliqDor7fmsYLmi6bmiKrlmagpCgpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8v5Zyo5Y+R6YCB6K+35rGC5LmL5YmN5YGa5p+Q5Lu25LqLCiAgdmFyIHRva2VuID0gc3RvcmUgJiYgc3RvcmUuc3RhdGUgPyBzdG9yZS5zdGF0ZS50b2tlbiA6ICIiOwoKICBpZiAoY29uZmlnLm1ldGhvZCA9PT0gJ3Bvc3QnICYmIGNvbmZpZy5kYXRhKSB7CiAgICBjb25zb2xlLmxvZyhjb25maWcpOwogICAgY29uZmlnLmRhdGFbInRva2VuIl0gPSB0b2tlbjsgLy9jb25maWcuZGF0YSA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZy5kYXRhKTsKICB9CgogIGlmIChjb25maWcubWV0aG9kID09PSAnZ2V0JykgewogICAgY29uZmlnLnBhcmFtc1sidG9rZW4iXSA9IHRva2VuOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8v6L+U5Zue54q25oCB5Yik5patKOa3u+WKoOWTjeW6lOaLpuaIquWZqCkKCmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIGlmICghcmVzLmRhdGEuSXNQb3NpdGl2ZSkgewogICAgaWYgKHJlcy5kYXRhLkVycm9yQ29kZSA9PSAxMDEpIHsKICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICByZXR1cm47CiAgICB9CgogICAgcmV0dXJuIHJlcy5kYXRhOwogIH0KCiAgcmV0dXJuIHJlcy5kYXRhOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZygn572R57uc5byC5bi4Jyk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOWFrOWFsWdldOivt+axggoKZXhwb3J0IHZhciBnZXQgPSBmdW5jdGlvbiBnZXQodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MuZ2V0KHVybCwgewogICAgcGFyYW1zOiBwYXJhbXMKICB9KTsKfTsgLy8g5YWs5YWxcG9zdOivt+axggoKZXhwb3J0IHZhciBwb3N0ID0gZnVuY3Rpb24gcG9zdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcy5wb3N0KHVybCwgcGFyYW1zKTsKfTsKZXhwb3J0IGRlZmF1bHQgYXhpb3M7"},{"version":3,"sources":["D:/GaeaProject/jpn_medical_web/src/request/axios.js"],"names":["axios","conf","store","router","defaults","timeout","headers","post","baseURL","getCurrentServeAddr","interceptors","request","use","config","token","state","method","data","console","log","params","error","Promise","reject","response","res","IsPositive","ErrorCode","push","get","url"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,IAAzB,C,CAAsD;;AACtDL,KAAK,CAACI,QAAN,CAAeE,OAAf,CAAuBC,IAAvB,CAA4B,cAA5B,IAA8C,iDAA9C,C,CAAwG;;AACxGP,KAAK,CAACI,QAAN,CAAeI,OAAf,GAAyBP,IAAI,CAACQ,mBAAL,CAAyB,MAAzB,CAAzB,C,CAA6D;AAC7D;AAEA;;AACAT,KAAK,CAACU,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAACC,MAAD,EAAY;AACvC;AACH,MAAIC,KAAK,GAAGZ,KAAK,IAAEA,KAAK,CAACa,KAAb,GAAmBb,KAAK,CAACa,KAAN,CAAYD,KAA/B,GAAqC,EAAjD;;AACG,MAAGD,MAAM,CAACG,MAAP,KAAmB,MAAnB,IAA6BH,MAAM,CAACI,IAAvC,EAA4C;AAC9CC,IAAAA,OAAO,CAACC,GAAR,CAAYN,MAAZ;AACAA,IAAAA,MAAM,CAACI,IAAP,CAAY,OAAZ,IAAuBH,KAAvB,CAF8C,CAG9C;AACG;;AACJ,MAAGD,MAAM,CAACG,MAAP,KAAmB,KAAtB,EAA4B;AAC3BH,IAAAA,MAAM,CAACO,MAAP,CAAc,OAAd,IAAyBN,KAAzB;AACA;;AACE,SAAOD,MAAP;AACH,CAZD,EAYE,UAACQ,KAAD,EAAU;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAdD,E,CAgBA;;AACArB,KAAK,CAACU,YAAN,CAAmBc,QAAnB,CAA4BZ,GAA5B,CAAgC,UAACa,GAAD,EAAQ;AACpC,MAAG,CAACA,GAAG,CAACR,IAAJ,CAASS,UAAb,EAAwB;AAC1B,QAAGD,GAAG,CAACR,IAAJ,CAASU,SAAT,IAAsB,GAAzB,EAA6B;AAC5BxB,MAAAA,MAAM,CAACyB,IAAP,CAAY,QAAZ;AACA;AACA;;AACK,WAAOH,GAAG,CAACR,IAAX;AACH;;AACD,SAAOQ,GAAG,CAACR,IAAX;AACH,CATD,EASG,UAACI,KAAD,EAAW;AACVH,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAOG,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAZD,E,CAeA;;AACA,OAAO,IAAMQ,GAAG,GAAC,SAAJA,GAAI,CAACC,GAAD,EAAMV,MAAN,EAAiB;AAChC,SAAOpB,KAAK,CAAC6B,GAAN,CAAUC,GAAV,EAAe;AAACV,IAAAA,MAAM,EAAEA;AAAT,GAAf,CAAP;AACD,CAFM,C,CAIP;;AACA,OAAO,IAAMb,IAAI,GAAG,SAAPA,IAAO,CAACuB,GAAD,EAAMV,MAAN,EAAiB;AACnC,SAAOpB,KAAK,CAACO,IAAN,CAAWuB,GAAX,EAAgBV,MAAhB,CAAP;AACD,CAFM;AAIP,eAAepB,KAAf","sourcesContent":["import axios from 'axios'\r\nimport conf from '../../conf/conf'\r\nimport store from '../store'\r\nimport router from '../router/router.js'\r\naxios.defaults.timeout = 2000;                        //响应时间\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';        //配置请求头\naxios.defaults.baseURL = conf.getCurrentServeAddr(\"main\");   //配置接口地址\r\n//axios.defaults.withCredentials=false\r\n\r\n//POST传参序列化(添加请求拦截器)\naxios.interceptors.request.use((config) => {\n    //在发送请求之前做某件事\r\n\tlet token = store&&store.state?store.state.token:\"\"\n    if(config.method  === 'post' && config.data){\r\n\t\tconsole.log(config);\r\n\t\tconfig.data[\"token\"] = token;\r\n\t\t//config.data = JSON.stringify(config.data);\n    }\r\n\tif(config.method  === 'get'){\r\n\t\tconfig.params[\"token\"] = token\r\n\t}\n    return config;\n},(error) =>{\n    return Promise.reject(error);\n});\r\n\r\n//返回状态判断(添加响应拦截器)\naxios.interceptors.response.use((res) =>{\n    if(!res.data.IsPositive){\r\n\t\tif(res.data.ErrorCode == 101){\r\n\t\t\trouter.push('/login');\r\n\t\t\treturn\r\n\t\t}\n        return res.data;\n    }\t\n    return res.data;\n}, (error) => {\n    console.log('网络异常')\n    return Promise.reject(error);\n});\r\n\r\n\r\n// 公共get请求\r\nexport const get=(url, params) => {\r\n  return axios.get(url, {params: params});\r\n}\r\n\r\n// 公共post请求\r\nexport const post = (url, params) => {\r\n  return axios.post(url, params);\r\n}\r\n\r\nexport default axios\r\n"]}]}