{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\health_record_detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\pages\\main\\appointment\\health_record_detail.vue","mtime":1596109076700},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkQ6L0dhZWFQcm9qZWN0L2pwbl9tZWRpY2FsX3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBjb25mIGZyb20gJ0AvY29uZi9jb25mLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJoZWFsdGhSZWNvcmREZXRhaWwiLAogIHByb3BzOiB7CiAgICBpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKHYpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRldGFpbDoge30sCiAgICAgIGRvY0ZpbGVzOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRIZWFsdGhSZWNvcmREZXRhaWwoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5kZXRhaWwgPSB7fTsKICAgICAgdGhpcy5kb2NGaWxlcy5sZW5ndGggPSAwOwogICAgICB0aGlzLmdldEhlYWx0aFJlY29yZERldGFpbCgpOwogICAgfSwKICAgIGdldEhlYWx0aFJlY29yZERldGFpbDogZnVuY3Rpb24gZ2V0SGVhbHRoUmVjb3JkRGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBpLmdldCgiL01lZGljYWwvR2V0Q3VzdG9tZXJNZWRpY2FsUmVjb3JkRHRsIiwgewogICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgIFdpdGhGaWxlSW5mbzogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMuZGV0YWlsID0gcmVzLkRhdGE7CgogICAgICAgIF90aGlzLmluaXREb2NGaWxlcygpOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0RG9jRmlsZXM6IGZ1bmN0aW9uIGluaXREb2NGaWxlcygpIHsKICAgICAgaWYgKCF0aGlzLmRldGFpbC5BdHRhY2htZW50cykgcmV0dXJuOwogICAgICB2YXIgYmFzZVVybCA9IGNvbmYuZ2V0Q3VycmVudFNlcnZlQWRkcignbWFpbicpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZGV0YWlsLkF0dGFjaG1lbnRzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGF0dGFjaCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgdGhpcy5kb2NGaWxlcy5wdXNoKHsKICAgICAgICAgICAgRmlsZU5hbWU6IGF0dGFjaC5PcmlnaW5GaWxlTmFtZSwKICAgICAgICAgICAgUGF0aDogYXR0YWNoLkZpbGVQYXRoLAogICAgICAgICAgICBVcmw6IGJhc2VVcmwgKyBhdHRhY2guT3JpZ2luRmlsZVBhdGgsCiAgICAgICAgICAgIE9yaWdpbkZpbGVOYW1lOiBhdHRhY2guT3JpZ2luRmlsZU5hbWUsCiAgICAgICAgICAgIE9yaWdpblBhdGg6IGF0dGFjaC5GaWxlUGF0aCwKICAgICAgICAgICAgT3JpZ2luVXJsOiBiYXNlVXJsICsgYXR0YWNoLk9yaWdpbkZpbGVQYXRoLAogICAgICAgICAgICBDcmVhdGVEYXRlOiB0aGlzLmRldGFpbC5DcmVhdGVEYXRlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfSwKICAgIG9uRG93bmxvYWREb2NGaWxlOiBmdW5jdGlvbiBvbkRvd25sb2FkRG9jRmlsZSh1cmwpIHsKICAgICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["health_record_detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,IAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,oBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAFA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA,YAAA,CAAA,EAAA;AACA,WAAA,KAAA;AACA;AAHA,GARA;AAaA,EAAA,IAbA,kBAaA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GAnBA;AAoBA,EAAA,OApBA,qBAoBA;AACA,SAAA,qBAAA;AACA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,WAAA,QAAA,CAAA,MAAA,GAAA,CAAA;AACA,WAAA,qBAAA;AACA,KALA;AAMA,IAAA,qBANA,mCAMA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,IAAA,CACA,GADA,CACA,sCADA,EACA;AACA,QAAA,EAAA,EAAA,KAAA,EADA;AAEA,QAAA,YAAA,EAAA;AAFA,OADA,EAKA,IALA,CAKA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,YAAA;AACA,OATA;AAUA,KAnBA;AAoBA,IAAA,YApBA,0BAoBA;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,WAAA,EAAA;AAEA,UAAA,OAAA,GAAA,IAAA,CAAA,mBAAA,CAAA,MAAA,CAAA;;AAHA,iDAIA,KAAA,MAAA,CAAA,WAJA;AAAA;;AAAA;AAIA,4DAAA;AAAA,cAAA,MAAA;AACA,eAAA,QAAA,CAAA,IAAA,CAAA;AACA,YAAA,QAAA,EAAA,MAAA,CAAA,cADA;AAEA,YAAA,IAAA,EAAA,MAAA,CAAA,QAFA;AAGA,YAAA,GAAA,EAAA,OAAA,GAAA,MAAA,CAAA,cAHA;AAIA,YAAA,cAAA,EAAA,MAAA,CAAA,cAJA;AAKA,YAAA,UAAA,EAAA,MAAA,CAAA,QALA;AAMA,YAAA,SAAA,EAAA,OAAA,GAAA,MAAA,CAAA,cANA;AAOA,YAAA,UAAA,EAAA,KAAA,MAAA,CAAA;AAPA,WAAA;AASA;AAdA;AAAA;AAAA;AAAA;AAAA;AAgBA,KApCA;AAqCA,IAAA,iBArCA,6BAqCA,GArCA,EAqCA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,GAAA,EAAA,QAAA;AACA;AAvCA;AAvBA,CAAA","sourcesContent":["<template>\r\n\t<div v-loading=\"loading\">\r\n\t\t<el-form label-width=\"120px\">\r\n\t\t\t<el-form-item label=\"病历标题\">\r\n\t\t\t\t<label>{{detail.MedicalRecordName}}</label>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"病情描述\">\r\n\t\t\t\t<label>{{detail.Remarks}}</label>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<h3>病历附件</h3>\r\n\t\t<el-table :data=\"docFiles\" :v-loading=\"true\">\r\n\t\t\t<el-table-column label=\"附件名称\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-link v-if=\"(scope.row.GaeaObjectProperty & 2) == 0\" type=\"primary\" @click=\"onDownloadDocFile(scope.row.OriginUrl)\">{{scope.row.OriginFileName}}</el-link><br />\r\n\t\t\t\t\t<el-link v-if=\"(scope.row.GaeaObjectProperty & 2) > 0\" type=\"primary\" @click=\"onDownloadDocFile(scope.row.Url)\">已翻译：{{scope.row.FileName}}</el-link>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"CreateDate\" label=\"日期\" width=\"200\"></el-table-column>\r\n\t\t</el-table>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport conf from '@/conf/conf.js';\r\n\texport default {\r\n\t\tname: \"healthRecordDetail\",\r\n\t\tprops: {\r\n\t\t\tid: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tid: function(v) {\r\n\t\t\t\tthis.reset();\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdetail: {},\r\n\t\t\t\tdocFiles: [],\r\n\t\t\t\tloading: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getHealthRecordDetail();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\treset() {\r\n\t\t\t\tthis.detail = {};\r\n\t\t\t\tthis.docFiles.length = 0;\r\n\t\t\t\tthis.getHealthRecordDetail();\r\n\t\t\t},\r\n\t\t\tgetHealthRecordDetail() {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tthis.$api\r\n\t\t\t\t\t.get(\"/Medical/GetCustomerMedicalRecordDtl\", {\r\n\t\t\t\t\t\tid: this.id,\r\n\t\t\t\t\t\tWithFileInfo: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t_this.loading = false;\r\n\t\t\t\t\t\t_this.detail = res.Data;\r\n\t\t\t\t\t\t_this.initDocFiles();\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tinitDocFiles() {\r\n\t\t\t\tif (!this.detail.Attachments) return;\r\n\r\n\t\t\t\tvar baseUrl = conf.getCurrentServeAddr('main')\r\n\t\t\t\tfor (const attach of this.detail.Attachments) {\r\n\t\t\t\t\tthis.docFiles.push({\r\n\t\t\t\t\t\tFileName: attach.OriginFileName,\r\n\t\t\t\t\t\tPath: attach.FilePath,\r\n\t\t\t\t\t\tUrl: baseUrl + attach.OriginFilePath,\r\n\t\t\t\t\t\tOriginFileName: attach.OriginFileName,\r\n\t\t\t\t\t\tOriginPath: attach.FilePath,\r\n\t\t\t\t\t\tOriginUrl: baseUrl + attach.OriginFilePath,\r\n\t\t\t\t\t\tCreateDate: this.detail.CreateDate\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tonDownloadDocFile(url) {\r\n\t\t\t\twindow.open(url, '_blank');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.el-form-item {\r\n\t\tmargin-bottom: 11px;\r\n\t}\r\n</style>\n"],"sourceRoot":"pages/main/appointment"}]}