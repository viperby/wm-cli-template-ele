{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\GaeaProject\\jpn_medical_web\\utils\\mixins\\notice.js","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\utils\\mixins\\notice.js","mtime":1591962201886},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovR2FlYVByb2plY3QvanBuX21lZGljYWxfd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgTm90aWNlU0RLIGZyb20gJy4uLy4uL3V0aWxzL25vdGljZVNESy9pbmRleC5qcyc7CmltcG9ydCBjb25mIGZyb20gJ0AvY29uZi9jb25mLmpzJzsKaW1wb3J0IHsgbWFrZUd1aWQgfSBmcm9tICcuLi8uLi9zcmMvdXRpbHMvbWFrZUd1aWQuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbInVJbmZvIl0pKSwgbWFwU3RhdGUoWyJub3RpY2VFeCJdKSksIG1hcFN0YXRlKFsibm90aWNlUm9vbSJdKSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vdGlmeU1hcDoge30KICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbInVwZGF0ZSJdKSksIHt9LCB7CiAgICBpbml0Um9vbTogZnVuY3Rpb24gaW5pdFJvb20oZGF0YSkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgc2VydmU6IGNvbmYuZ2V0Q3VycmVudFNlcnZlKCkubm90aWNlLmFyZWEsCiAgICAgICAgcGxhdGU6IG1ha2VHdWlkKCksCiAgICAgICAgbmFtZTogdGhpcy51SW5mby5Vc2VyTmFtZSwKICAgICAgICB1c2VyOiB0aGlzLnVJbmZvLlVzZXJHdWlkLAogICAgICAgIGNvZGU6IHRoaXMubm90aWNlUm9vbSAmJiB0aGlzLm5vdGljZVJvb20uaW5mbyA/IHRoaXMubm90aWNlUm9vbS5pbmZvLmNvZGUgOiAiIiwKICAgICAgICBpc1RUTDogY29uZi5nZXRDdXJyZW50U2VydmUoKS50eXBlID09ICJUVEwiCiAgICAgIH07CiAgICAgIHZhciBub3RpY2UgPSB0aGlzLmluaXROb3RpY2UocGFyYW1zKTsKICAgICAgdmFyIGV2ZW4gPSBzZWxmLiRldmVuOwogICAgICB0aGlzLnVwZGF0ZSh7CiAgICAgICAgbm90aWNlUm9vbTogbm90aWNlCiAgICAgIH0pOwoKICAgICAgdGhpcy5ub3RpY2VSb29tLmNvbXBsZXRlID0gZnVuY3Rpb24gKG4pIHsKICAgICAgICBzZWxmLnVwZGF0ZSh7CiAgICAgICAgICBub3RpY2VSb29tOiBuCiAgICAgICAgfSk7CiAgICAgICAgZXZlbi4kZW1pdCgidXNlcl9yb29tX2NyZWF0ZSIsIGRhdGEpOwogICAgICB9OwoKICAgICAgdGhpcy5ub3RpY2VSb29tLm1lc3NhZ2UgPSBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIGlmIChpbmZvLlR5cGUgPT09ICJzeXMiKSB7CiAgICAgICAgICBpbmZvLkRhdGEuTWVzc2FnZSA9IEpTT04ucGFyc2UoaW5mby5EYXRhLk1lc3NhZ2UpOwoKICAgICAgICAgIGlmIChpbmZvLkRhdGEuTWVzc2FnZS5NZXNzYWdlID09ICJMRUFWRSIpIHsKICAgICAgICAgICAgZXZlbi4kZW1pdCgibm90aWNlX3Jvb21fbGVhdmUiLCBpbmZvKTsKICAgICAgICAgICAgdGhhdC4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgICAgICAgbWVzc2FnZTogaW5mby5EYXRhLkFjY2VwdC5OYW1lICsgJ+mAgOWHuuinhumike+8gScKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciByZW1vdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmZvLkRhdGEuQWNjZXB0Lkd1aWQpOwogICAgICAgICAgICByZW1vdmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmUpOyAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluZm8uRGF0YS5BY2NlcHQuR3VpZCkuaW5uZXJIVE1MID0gIiI7CQkKICAgICAgICAgICAgLy90aGF0LnVzZXJTdHJlYW1zW2luZm8uRGF0YS5BY2NlcHQuR3VpZF0gPSBudWxsOwoKICAgICAgICAgICAgZGVsZXRlIHRoYXQudXNlclN0cmVhbXNbaW5mby5EYXRhLkFjY2VwdC5HdWlkXTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpbmZvLkRhdGEuTWVzc2FnZS5NZXNzYWdlID09ICJKT0lOIikgewogICAgICAgICAgICBldmVuLiRlbWl0KCJub3RpY2Vfcm9vbV9qb2luIiwgaW5mbyk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoaW5mby5UeXBlID09PSAiaW5mbyIpIHsKICAgICAgICAgIGluZm8uRGF0YS5NZXNzYWdlID0gSlNPTi5wYXJzZShpbmZvLkRhdGEuTWVzc2FnZSk7CgogICAgICAgICAgaWYgKGluZm8uRGF0YS5NZXNzYWdlLnR5cGUgPT0gJ3B1c2gnKSB7CiAgICAgICAgICAgIHZhciByZWMgPSBpbmZvLkRhdGEuTWVzc2FnZTsKICAgICAgICAgICAgdGhhdC5jcmVhdGVSdGNSZXZpY2UoaW5mby5Gcm9tLkd1aWQsICdkZXNrJykudGhlbihmdW5jdGlvbiAocnRjKSB7CiAgICAgICAgICAgICAgcnRjLmNyZWF0ZUFuc3dlcihyZWMuanNlcCkudGhlbihmdW5jdGlvbiAoYW5zd2VyKSB7CiAgICAgICAgICAgICAgICAvL+W6lOetlOWvueaWueS/oeS7pAogICAgICAgICAgICAgICAgcnRjLnJlYWR5ID0gZnVuY3Rpb24gKHRva2VuKSB7CiAgICAgICAgICAgICAgICAgIHZhciBzZW5kTXNnID0gewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWJzY3JpYmUnLAogICAgICAgICAgICAgICAgICAgIGpzZXA6IGFuc3dlciwKICAgICAgICAgICAgICAgICAgICB0b2tlbjogcnRjLmNhbmRpZGF0ZQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICBydGMuYWRkSWNlQ2FuZGlkYXRlKHJlYy50b2tlbik7CiAgICAgICAgICAgICAgICAgIHRoYXQubm90aWNlUm9vbS5zZW5kKGluZm8uRnJvbS5HdWlkLCBzZW5kTXNnKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHJ0Yy5yZWFkeSA9IGZ1bmN0aW9uICh0b2tlbikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInRva2VuIGlzOiIsIHRva2VuKTsKICAgICAgICAgICAgICAgIHZhciBzZW5kTXNnID0gewogICAgICAgICAgICAgICAgICB0eXBlOiAncmVhZHknLAogICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aGF0Lm5vdGljZVJvb20uc2VuZChpbmZvLkZyb20uR3VpZCwgc2VuZE1zZyk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGluZm8uRGF0YS5NZXNzYWdlLnR5cGUgPT0gJ3N1YnNjcmliZScpIHsKICAgICAgICAgICAgdmFyIF9yZWMgPSBpbmZvLkRhdGEuTWVzc2FnZTsKICAgICAgICAgICAgdmFyIHJ0YyA9IHRoYXQudXNlclJ0Y3NbaW5mby5Gcm9tLkd1aWRdLmRlc2s7IC8vY29uc29sZS5sb2coInN1YnNjcmliZXRva2VuIixyZWMudG9rZW4pCiAgICAgICAgICAgIC8vY29uc29sZS5sb2cocnRjKQoKICAgICAgICAgICAgcnRjLnNldFJlbW90ZShfcmVjLmpzZXApOwogICAgICAgICAgICBydGMuYWRkSWNlQ2FuZGlkYXRlKF9yZWMudG9rZW4pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBpbml0UGxhdGU6IGZ1bmN0aW9uIGluaXRQbGF0ZSgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHNlcnZlOiBjb25mLmdldEN1cnJlbnRTZXJ2ZSgpLm5vdGljZS5hcmVhLAogICAgICAgIHBsYXRlOiAianBuX3BsYXRlIiwKICAgICAgICBuYW1lOiB0aGlzLnVJbmZvLlVzZXJOYW1lLAogICAgICAgIHVzZXI6IHRoaXMudUluZm8uVXNlckd1aWQsCiAgICAgICAgY29kZTogdGhpcy5ub3RpY2VFeCAmJiB0aGlzLm5vdGljZUV4LmluZm8gPyB0aGlzLm5vdGljZUV4LmluZm8uY29kZSA6ICIiLAogICAgICAgIGlzVFRMOiBjb25mLmdldEN1cnJlbnRTZXJ2ZSgpLnR5cGUgPT0gIlRUTCIKICAgICAgfTsKICAgICAgdmFyIG5vdGljZSA9IHRoaXMuaW5pdE5vdGljZShwYXJhbXMpOwogICAgICB0aGlzLnVwZGF0ZSh7CiAgICAgICAgbm90aWNlRXg6IG5vdGljZQogICAgICB9KTsKCiAgICAgIHRoaXMubm90aWNlRXguY29tcGxldGUgPSBmdW5jdGlvbiAobikgewogICAgICAgIHNlbGYudXBkYXRlKHsKICAgICAgICAgIG5vdGljZUV4OiBuCiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICB0aGlzLm5vdGljZUV4Lm1lc3NhZ2UgPSBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIHZhciBldmVuID0gc2VsZi4kZXZlbjsKCiAgICAgICAgaWYgKGluZm8uVHlwZSA9PT0gInN5cyIpIHsKICAgICAgICAgIGluZm8uRGF0YS5NZXNzYWdlID0gSlNPTi5wYXJzZShpbmZvLkRhdGEuTWVzc2FnZSk7CiAgICAgICAgICBldmVuLiRlbWl0KCJwbGF0ZV9zeXMiLCBpbmZvKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChpbmZvLlR5cGUgPT09ICJpbmZvIikgewogICAgICAgICAgaW5mby5EYXRhLk1lc3NhZ2UgPSBKU09OLnBhcnNlKGluZm8uRGF0YS5NZXNzYWdlKTsKCiAgICAgICAgICBpZiAoaW5mby5EYXRhLk1lc3NhZ2UuQ3JlYXRlciA9PSAwKSB7CiAgICAgICAgICAgIC8v5a+55pa55Y+W5raI6YKA6K+3CiAgICAgICAgICAgIGV2ZW4uJGVtaXQoIm5vdGljZV9saXZlX2NhbmNlbGxlZCIsIGluZm8pOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGluZm8uRGF0YS5NZXNzYWdlLkNyZWF0ZXIgPT0gMSkgewogICAgICAgICAgICAvL+iOt+W+l+mCgOivtwogICAgICAgICAgICBldmVuLiRlbWl0KCJub3RpY2VfbGl2ZV9pbnZpdGF0aW9uIiwgaW5mbyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gLy/lpITnkIblupTnrZQKCgogICAgICAgICAgaWYgKGluZm8uRGF0YS5NZXNzYWdlLkFuc3dlciAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdmFyIEFuc3dlciA9IGluZm8uRGF0YS5NZXNzYWdlLkFuc3dlcjsKCiAgICAgICAgICAgIGlmIChBbnN3ZXIgPT0gJzAwMScpIHsKICAgICAgICAgICAgICAvL+aMguaWreWkhOeQhgogICAgICAgICAgICAgIGV2ZW4uJGVtaXQoIm5vdGljZV9saXZlX2hhbmd1cCIsIGluZm8pOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKEFuc3dlciA9PSAnMDAyJykgewogICAgICAgICAgICAgIC8v5Y2g57q/CiAgICAgICAgICAgICAgZXZlbi4kZW1pdCgibm90aWNlX2xpdmVfYnVzeSIsIGluZm8pOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSAvL+S7pemfs+inhumikeeahOaWueW8j+aOpemAmgoKCiAgICAgICAgICAgIGlmIChBbnN3ZXIgPT0gJzEwMScpIHsKICAgICAgICAgICAgICBldmVuLiRlbWl0KCJub3RpY2VfbGl2ZV9jb25uZWN0YWxsIiwgaW5mbyk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGluZm8uRGF0YS5NZXNzYWdlLlBsYXRlICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAvL+iOt+W+l+aIv+mXtOWSjGNvZGUKICAgICAgICAgICAgZXZlbi4kZW1pdCgibm90aWNlX3Jvb21fYnVpbGQiLCBpbmZvKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgaW5pdE5vdGljZTogZnVuY3Rpb24gaW5pdE5vdGljZShwYXJhbXMpIHsKICAgICAgdmFyIG5vdGljZSA9IG5ldyBOb3RpY2VTREsocGFyYW1zKTsKICAgICAgcmV0dXJuIG5vdGljZTsKICAgIH0sCiAgICBub3RpZnk6IGZ1bmN0aW9uIG5vdGlmeShkYXRhKSB7CiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgbm90aWZ5ID0gdGhpcy4kbm90aWZ5KHsKICAgICAgICB0aXRsZTogdGhhdC4kdCgiZGVmYXVsdC5USVBTLkNMSUVOVC5IQVNfSU5WSVRBVElPTiIpICsgJygnICsgZGF0YS5Gcm9tLk5hbWUgKyAnKScsCiAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnLAogICAgICAgIHNob3dDbG9zZTogZmFsc2UsCiAgICAgICAgZHVyYXRpb246IDAsCiAgICAgICAgbWVzc2FnZTogaCgnZGl2Jywge30sIFtoKCdkaXYnLCB7fSwgW2goJ2VsLWJ1dHRvbicsIHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgaWNvbjogImVsLWljb24tdmlkZW8tY2FtZXJhIiwKICAgICAgICAgICAgc2l6ZTogInNtYWxsIgogICAgICAgICAgfSwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICJmb250LXNpemUiOiAiMTZweCIKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBjbGljazogdGhhdC5hbnN3ZXIuYmluZCh0aGlzLCBkYXRhLCAnMTAxJykKICAgICAgICAgIH0KICAgICAgICB9LCAiIiksIGgoJ2VsLWJ1dHRvbicsIHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgaWNvbjogImVsLWljb24tcGhvbmUiLAogICAgICAgICAgICBzaXplOiAic21hbGwiCiAgICAgICAgICB9LAogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICIxNnB4IgogICAgICAgICAgfSwKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGNsaWNrOiB0aGF0LmFuc3dlci5iaW5kKHRoaXMsIGRhdGEsICcxMDInKQogICAgICAgICAgfQogICAgICAgIH0sICIiKSwgaCgnZWwtYnV0dG9uJywgewogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgdHlwZTogImRhbmdlciIsCiAgICAgICAgICAgIGljb246ICJlbC1pY29uLWNsb3NlIiwKICAgICAgICAgICAgc2l6ZTogInNtYWxsIgogICAgICAgICAgfSwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICJmb250LXNpemUiOiAiMTZweCIKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBjbGljazogdGhhdC5hbnN3ZXIuYmluZCh0aGF0LCBkYXRhLCAnMDAxJykKICAgICAgICAgIH0KICAgICAgICB9LCAiIildKV0pCiAgICAgIH0pOwogICAgICB0aGlzLm5vdGlmeU1hcFtkYXRhLkZyb20uR3VpZF0gPSBub3RpZnk7CiAgICB9LAogICAgYW5zd2VyOiBmdW5jdGlvbiBhbnN3ZXIoZGF0YSwgc3RhdHVzKSB7CiAgICAgIHRoaXMuY2xvc2VOb3RpZnkoZGF0YS5Gcm9tLkd1aWQpOwogICAgICB2YXIgbXNnID0gewogICAgICAgIHRvOiAnJywKICAgICAgICBpbmZvOiB7CiAgICAgICAgICAnQW5zd2VyJzogJycKICAgICAgICB9LAogICAgICAgIHR5cGU6ICcnCiAgICAgIH07CiAgICAgIG1zZy50byA9IGRhdGEuRnJvbS5HdWlkOwogICAgICBtc2cuaW5mby5BbnN3ZXIgPSBzdGF0dXM7CiAgICAgIHRoaXMubm90aWNlRXguc2VuZChtc2cudG8sIG1zZy5pbmZvKTsKICAgIH0sCiAgICBjbG9zZU5vdGlmeTogZnVuY3Rpb24gY2xvc2VOb3RpZnkoZ3VpZCkgewogICAgICB0aGlzLm5vdGlmeU1hcFtndWlkXS5jbG9zZSgpOwogICAgICBkZWxldGUgdGhpcy5ub3RpZnlNYXBbZ3VpZF07CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["D:/GaeaProject/jpn_medical_web/utils/mixins/notice.js"],"names":["mapState","mapMutations","NoticeSDK","conf","makeGuid","computed","data","notifyMap","methods","initRoom","self","params","serve","getCurrentServe","notice","area","plate","name","uInfo","UserName","user","UserGuid","code","noticeRoom","info","isTTL","type","initNotice","even","$even","update","complete","n","$emit","message","Type","Data","Message","JSON","parse","that","$notify","title","Accept","Name","remove","document","getElementById","Guid","parentNode","removeChild","userStreams","rec","createRtcRevice","From","then","rtc","createAnswer","jsep","answer","ready","token","sendMsg","candidate","addIceCandidate","send","console","log","userRtcs","desk","setRemote","initPlate","noticeEx","Creater","Answer","undefined","Plate","notify","h","$createElement","$t","position","showClose","duration","attrs","icon","size","style","on","click","bind","status","closeNotify","msg","to","guid","close"],"mappings":"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","sourcesContent":["import { mapState,mapMutations } from 'vuex'\r\nimport NoticeSDK from '../../utils/noticeSDK/index.js'\r\nimport conf from '@/conf/conf.js'\r\nimport {makeGuid} from '../../src/utils/makeGuid.js';\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapState([\"uInfo\"]),\r\n\t\t...mapState([\"noticeEx\"]),\r\n\t\t...mapState([\"noticeRoom\"]),\r\n\t},\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tnotifyMap:{},\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\t...mapMutations([\"update\"]),\r\n\t\tinitRoom(data){\r\n\t\t\tlet self = this;\r\n\t\t\tlet params = {\r\n\t\t\t\tserve: conf.getCurrentServe().notice.area,\r\n\t\t\t\tplate: makeGuid(),\r\n\t\t\t\tname: this.uInfo.UserName,\r\n\t\t\t\tuser: this.uInfo.UserGuid,\r\n\t\t\t\tcode:  this.noticeRoom&&this.noticeRoom.info?this.noticeRoom.info.code:\"\",\r\n\t\t\t\tisTTL: conf.getCurrentServe().type == \"TTL\"\r\n\t\t\t}\r\n\t\t\tlet notice = this.initNotice(params);\r\n\t\t\tlet even = self.$even;\r\n\t\t\tthis.update({ noticeRoom: notice });\r\n\t\t\tthis.noticeRoom.complete = (n) => {\r\n\t\t\t\tself.update({ noticeRoom: n });\r\n\t\t\t\teven.$emit(\"user_room_create\",data);\r\n\t\t\t}\r\n\t\t\tthis.noticeRoom.message = function(info) {\r\n\t\t\t\tif (info.Type === \"sys\") {\r\n\t\t\t\t\tinfo.Data.Message = JSON.parse(info.Data.Message)\r\n\t\t\t\t\tif (info.Data.Message.Message == \"LEAVE\") {\r\n\t\t\t\t\t\teven.$emit(\"notice_room_leave\",info);\r\n\t\t\t\t\t\tthat.$notify({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tmessage: info.Data.Accept.Name + '退出视频！',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar remove = document.getElementById(info.Data.Accept.Guid);\r\n\t\t\t\t\t\tremove.parentNode.removeChild(remove);\r\n\t\t\t\t\t\t//document.getElementById(info.Data.Accept.Guid).innerHTML = \"\";\t\t\r\n\t\t\t\t\t\t//that.userStreams[info.Data.Accept.Guid] = null;\r\n\t\t\t\t\t\tdelete that.userStreams[info.Data.Accept.Guid]\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(info.Data.Message.Message == \"JOIN\"){\r\n\t\t\t\t\t\teven.$emit(\"notice_room_join\",info);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (info.Type === \"info\") {\r\n\t\t\t\t\tinfo.Data.Message = JSON.parse(info.Data.Message);\r\n\t\t\t\t\tif(info.Data.Message.type == 'push'){\r\n\t\t\t\t\t\tlet rec = info.Data.Message;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.createRtcRevice(info.From.Guid,'desk').then((rtc)=>{\r\n\t\t\t\t\t\t\trtc.createAnswer(rec.jsep).then((answer)=>{\r\n\t\t\t\t\t\t\t\t//应答对方信令\r\n\t\t\t\t\t\t\t\trtc.ready=(token)=>{\r\n\t\t\t\t\t\t\t\t\tlet sendMsg = {\r\n\t\t\t\t\t\t\t\t\t\t\ttype:'subscribe',\r\n\t\t\t\t\t\t\t\t\t\t\tjsep:answer,\r\n\t\t\t\t\t\t\t\t\t\t\ttoken:rtc.candidate\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\trtc.addIceCandidate(rec.token);\r\n\t\t\t\t\t\t\t\t\t\tthat.noticeRoom.send(info.From.Guid, sendMsg);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\trtc.ready = (token)=>{\r\n\t\t\t\t\t\t\t\tconsole.log(\"token is:\",token)\r\n\t\t\t\t\t\t\t\tlet sendMsg = {\r\n\t\t\t\t\t\t\t\t\ttype:'ready',\r\n\t\t\t\t\t\t\t\t\ttoken:token,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthat.noticeRoom.send(info.From.Guid, sendMsg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(info.Data.Message.type == 'subscribe'){\r\n\t\t\t\t\t\tlet rec = info.Data.Message;\r\n\t\t\t\t\t\tlet rtc = that.userRtcs[info.From.Guid].desk;\r\n\t\t\t\t\t\t//console.log(\"subscribetoken\",rec.token)\r\n\t\t\t\t\t\t//console.log(rtc)\r\n\t\t\t\t\t\trtc.setRemote(rec.jsep)\r\n\t\t\t\t\t\trtc.addIceCandidate(rec.token);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tinitPlate(){\r\n\t\t\tlet self = this;\r\n\t\t\tlet params = {\r\n\t\t\t\tserve: conf.getCurrentServe().notice.area,\r\n\t\t\t\tplate: \"jpn_plate\",\r\n\t\t\t\tname: this.uInfo.UserName,\r\n\t\t\t\tuser: this.uInfo.UserGuid,\r\n\t\t\t\tcode:  this.noticeEx&&this.noticeEx.info?this.noticeEx.info.code:\"\",\r\n\t\t\t\tisTTL: conf.getCurrentServe().type == \"TTL\"\r\n\t\t\t}\r\n\t\t\tlet notice = this.initNotice(params);\r\n\t\t\tthis.update({ noticeEx: notice });\r\n\t\t\tthis.noticeEx.complete = (n) => {\r\n\t\t\t\tself.update({ noticeEx: n });\r\n\t\t\t}\r\n\t\t\tthis.noticeEx.message = (info)=>{\r\n\t\t\t\tlet even = self.$even;\r\n\t\t\t\tif (info.Type === \"sys\") {\r\n\t\t\t\t\tinfo.Data.Message = JSON.parse(info.Data.Message)\r\n\t\t\t\t\teven.$emit(\"plate_sys\",info);\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (info.Type === \"info\") {\r\n\t\t\t\t\tinfo.Data.Message = JSON.parse(info.Data.Message);\r\n\t\t\t\t\tif (info.Data.Message.Creater == 0) { //对方取消邀请\r\n\t\t\t\t\t\teven.$emit(\"notice_live_cancelled\",info);\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (info.Data.Message.Creater == 1) { //获得邀请\r\n\t\t\t\t\t\teven.$emit(\"notice_live_invitation\",info);\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//处理应答\r\n\t\t\t\t\tif (info.Data.Message.Answer != undefined){\r\n\t\t\t\t\t\tvar Answer = info.Data.Message.Answer;\r\n\t\t\t\t\t\tif (Answer == '001') { //挂断处理\r\n\t\t\t\t\t\t\teven.$emit(\"notice_live_hangup\",info);\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (Answer == '002') { //占线\r\n\t\t\t\t\t\t\teven.$emit(\"notice_live_busy\",info);\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//以音视频的方式接通\r\n\t\t\t\t\t\tif (Answer == '101') {\r\n\t\t\t\t\t\t\teven.$emit(\"notice_live_connectall\",info);\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (info.Data.Message.Plate != undefined) { //获得房间和code\r\n\t\t\t\t\t\teven.$emit(\"notice_room_build\",info)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitNotice(params){\r\n\t\t\tlet notice = new NoticeSDK(params);\r\n\t\t\treturn notice;\r\n\t\t},\r\n\t\tnotify(data){\r\n\t\t\tconst h = this.$createElement;\r\n\t\t\tvar that = this;\r\n\t\t\tlet notify = this.$notify({\r\n\t\t\t\ttitle: that.$t(\"default.TIPS.CLIENT.HAS_INVITATION\") + '(' + data.From.Name +')',\r\n\t\t\t\tposition:'bottom-right',\r\n\t\t\t\tshowClose: false,\r\n\t\t\t\tduration:0,\r\n\t\t\t\tmessage: h('div', {}, [\r\n\t\t\t\t\th('div', {}, [\r\n\t\t\t\t\t\th('el-button', {\r\n\t\t\t\t\t\t\tattrs: {\r\n\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\ticon: \"el-icon-video-camera\",\r\n\t\t\t\t\t\t\t\tsize: \"small\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\"font-size\": \"16px\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\t\tclick: that.answer.bind(this,data, '101')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, \"\"),\r\n\t\t\t\t\t\th('el-button', {\r\n\t\t\t\t\t\t\tattrs: {\r\n\t\t\t\t\t\t\t\ttype: \"info\",\r\n\t\t\t\t\t\t\t\ticon: \"el-icon-phone\",\r\n\t\t\t\t\t\t\t\tsize: \"small\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\"font-size\": \"16px\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\t\tclick: that.answer.bind(this,data, '102')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, \"\"),\t\t\t\t\t\t\t\r\n\t\t\t\t\t\th('el-button', {\r\n\t\t\t\t\t\t\tattrs: {\r\n\t\t\t\t\t\t\t\ttype: \"danger\",\r\n\t\t\t\t\t\t\t\ticon: \"el-icon-close\",\r\n\t\t\t\t\t\t\t\tsize: \"small\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\"font-size\": \"16px\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\t\tclick: that.answer.bind(that,data, '001')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, \"\")\r\n\t\t\t\t\t])\r\n\t\t\t\t])\r\n\t\t\t});\r\n\t\t\tthis.notifyMap[data.From.Guid] = notify;\r\n\t\t},\r\n\t\tanswer(data,status){\r\n\t\t\tthis.closeNotify(data.From.Guid)\r\n\t\t\tvar msg = {\r\n\t\t\t\tto:'',\r\n\t\t\t\tinfo:{\r\n\t\t\t\t\t'Answer':'',\r\n\t\t\t\t},\r\n\t\t\t\ttype:''\t\t\t\r\n\t\t\t};\r\n\t\t\tmsg.to = data.From.Guid;\t\t\t\t\r\n\t\t\tmsg.info.Answer = status;\t\t\r\n\t\t\tthis.noticeEx.send(msg.to,msg.info);\r\n\t\t},\r\n\t\tcloseNotify(guid){\r\n\t\t\tthis.notifyMap[guid].close();\r\n\t\t\tdelete this.notifyMap[guid];\r\n\t\t}\r\n\t}\r\n}"]}]}