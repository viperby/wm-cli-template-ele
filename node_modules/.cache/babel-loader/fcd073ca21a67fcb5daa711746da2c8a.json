{"remainingRequest":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js!D:\\GaeaProject\\jpn_medical_web\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\GaeaProject\\jpn_medical_web\\src\\request\\axios.js","dependencies":[{"path":"D:\\GaeaProject\\jpn_medical_web\\src\\request\\axios.js","mtime":1601036333382},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GaeaProject\\jpn_medical_web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjb25mIGZyb20gJy4uLy4uL2NvbmYvY29uZic7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyL3JvdXRlci5qcyc7CmltcG9ydCBxcyBmcm9tICdxcyc7CmF4aW9zLmRlZmF1bHRzLnRpbWVvdXQgPSAyMDAwMDsgLy/lk43lupTml7bpl7QKCmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnOyAvL+mFjee9ruivt+axguWktAovL2F4aW9zLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscz1mYWxzZQovL1BPU1TkvKDlj4Lluo/liJfljJYo5re75Yqg6K+35rGC5oum5oiq5ZmoKQoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAvL+WcqOWPkemAgeivt+axguS5i+WJjeWBmuafkOS7tuS6iwogIHZhciB0b2tlbiA9IHN0b3JlICYmIHN0b3JlLnN0YXRlID8gc3RvcmUuc3RhdGUudG9rZW4gOiAiIjsKICBjb25maWcuaGVhZGVyc1snVG9rZW4nXSA9IHRva2VuOwogIGNvbmZpZy5oZWFkZXJzWydTY2VuZVR5cGUnXSA9ICdhcHAnOwogIGNvbmZpZy5oZWFkZXJzWydEZXZpY2VJZCddID0gJyc7CgogIGlmIChjb25maWcubWV0aG9kID09PSAncG9zdCcgJiYgY29uZmlnLmRhdGEpIHsKICAgIGNvbmZpZy5kYXRhID0gcXMuc3RyaW5naWZ5KGNvbmZpZy5kYXRhKTsKICB9CgogIGlmIChjb25maWcubWV0aG9kID09PSAnZ2V0JykgewogICAgaWYgKCFjb25maWcucGFyYW1zKSBjb25maWcucGFyYW1zID0ge307CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy/ov5Tlm57nirbmgIHliKTmlq0o5re75Yqg5ZON5bqU5oum5oiq5ZmoKQoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgaWYgKCFyZXMuZGF0YS5Jc1Bvc2l0aXZlKSB7CiAgICAvKmlmKHJlcy5kYXRhLkVycm9yQ29kZSA9PSAxMDEpew0KICAgIAlyb3V0ZXIucHVzaCgnL2xvZ2luJyk7DQogICAgCXJldHVybg0KICAgIH0qLwogICAgcmVzLmRhdGEuSXNQb3NpdGl2ZSA9IGZhbHNlOyAvL3doZW4gSXNQb3NpdGl2ZSBpcyBOdWxsCgogICAgcmV0dXJuIHJlcy5kYXRhOwogIH0KCiAgcmV0dXJuIHJlcy5kYXRhOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZygn572R57uc5byC5bi4Jyk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOWFrOWFsWdldOivt+axggoKZXhwb3J0IHZhciBnZXQgPSBmdW5jdGlvbiBnZXQodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MuZ2V0KCcvQVBJJyArIHVybCwgewogICAgcGFyYW1zOiBwYXJhbXMKICB9KTsKfTsgLy8g5YWs5YWxcG9zdOivt+axggoKZXhwb3J0IHZhciBwb3N0ID0gZnVuY3Rpb24gcG9zdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcy5wb3N0KCcvQVBJJyArIHVybCwgcGFyYW1zKTsKfTsKZXhwb3J0IGRlZmF1bHQgYXhpb3M7"},{"version":3,"sources":["D:/GaeaProject/jpn_medical_web/src/request/axios.js"],"names":["axios","conf","store","router","qs","defaults","timeout","headers","post","interceptors","request","use","config","token","state","method","data","stringify","params","error","Promise","reject","response","res","IsPositive","console","log","get","url"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,EAAP,MAAe,IAAf;AACAJ,KAAK,CAACK,QAAN,CAAeC,OAAf,GAAyB,KAAzB,C,CAAuD;;AACvDN,KAAK,CAACK,QAAN,CAAeE,OAAf,CAAuBC,IAAvB,CAA4B,cAA5B,IAA8C,iDAA9C,C,CAAwG;AACxG;AAEA;;AACAR,KAAK,CAACS,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAACC,MAAD,EAAY;AACvC;AACF,MAAIC,KAAK,GAAGX,KAAK,IAAEA,KAAK,CAACY,KAAb,GAAmBZ,KAAK,CAACY,KAAN,CAAYD,KAA/B,GAAqC,EAAjD;AAEAD,EAAAA,MAAM,CAACL,OAAP,CAAe,OAAf,IAAwBM,KAAxB;AACAD,EAAAA,MAAM,CAACL,OAAP,CAAe,WAAf,IAA4B,KAA5B;AACAK,EAAAA,MAAM,CAACL,OAAP,CAAe,UAAf,IAA2B,EAA3B;;AAEA,MAAGK,MAAM,CAACG,MAAP,KAAmB,MAAnB,IAA6BH,MAAM,CAACI,IAAvC,EAA4C;AAC5CJ,IAAAA,MAAM,CAACI,IAAP,GAAcZ,EAAE,CAACa,SAAH,CAAaL,MAAM,CAACI,IAApB,CAAd;AACC;;AACF,MAAGJ,MAAM,CAACG,MAAP,KAAmB,KAAtB,EAA4B;AAC3B,QAAG,CAACH,MAAM,CAACM,MAAX,EAAkBN,MAAM,CAACM,MAAP,GAAc,EAAd;AAClB;;AACE,SAAON,MAAP;AACH,CAfD,EAeE,UAACO,KAAD,EAAU;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAjBD,E,CAmBA;;AACAnB,KAAK,CAACS,YAAN,CAAmBa,QAAnB,CAA4BX,GAA5B,CAAgC,UAACY,GAAD,EAAQ;AACpC,MAAG,CAACA,GAAG,CAACP,IAAJ,CAASQ,UAAb,EAAwB;AAC1B;;;;AAIAD,IAAAA,GAAG,CAACP,IAAJ,CAASQ,UAAT,GAAsB,KAAtB,CAL0B,CAKE;;AACtB,WAAOD,GAAG,CAACP,IAAX;AACH;;AACD,SAAOO,GAAG,CAACP,IAAX;AACH,CAVD,EAUG,UAACG,KAAD,EAAW;AACVM,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAON,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAbD,E,CAgBA;;AACA,OAAO,IAAMQ,GAAG,GAAC,SAAJA,GAAI,CAACC,GAAD,EAAMV,MAAN,EAAiB;AAChC,SAAOlB,KAAK,CAAC2B,GAAN,CAAU,SAAOC,GAAjB,EAAsB;AAACV,IAAAA,MAAM,EAAEA;AAAT,GAAtB,CAAP;AACD,CAFM,C,CAIP;;AACA,OAAO,IAAMV,IAAI,GAAG,SAAPA,IAAO,CAACoB,GAAD,EAAMV,MAAN,EAAiB;AACnC,SAAOlB,KAAK,CAACQ,IAAN,CAAW,SAAOoB,GAAlB,EAAuBV,MAAvB,CAAP;AACD,CAFM;AAIP,eAAelB,KAAf","sourcesContent":["import axios from 'axios'\r\nimport conf from '../../conf/conf'\r\nimport store from '../store'\r\nimport router from '../router/router.js'\r\nimport qs from 'qs'\r\naxios.defaults.timeout = 20000;                        //响应时间\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';        //配置请求头\r\n//axios.defaults.withCredentials=false\r\n\r\n//POST传参序列化(添加请求拦截器)\r\naxios.interceptors.request.use((config) => {\r\n    //在发送请求之前做某件事\r\n  let token = store&&store.state?store.state.token:\"\"\r\n\r\n  config.headers['Token']=token\r\n  config.headers['SceneType']='app'\r\n  config.headers['DeviceId']=''\r\n\r\n  if(config.method  === 'post' && config.data){\r\n\t\tconfig.data = qs.stringify(config.data);\r\n  }\r\n\tif(config.method  === 'get'){\r\n\t\tif(!config.params)config.params={};\r\n\t}\r\n    return config;\r\n},(error) =>{\r\n    return Promise.reject(error);\r\n});\r\n\r\n//返回状态判断(添加响应拦截器)\r\naxios.interceptors.response.use((res) =>{\r\n    if(!res.data.IsPositive){\r\n\t\t/*if(res.data.ErrorCode == 101){\r\n\t\t\trouter.push('/login');\r\n\t\t\treturn\r\n\t\t}*/\r\n\t\tres.data.IsPositive = false;//when IsPositive is Null\r\n        return res.data;\r\n    }\t\r\n    return res.data;\r\n}, (error) => {\r\n    console.log('网络异常')\r\n    return Promise.reject(error);\r\n});\r\n\r\n\r\n// 公共get请求\r\nexport const get=(url, params) => {\r\n  return axios.get('/API'+url, {params: params});\r\n}\r\n\r\n// 公共post请求\r\nexport const post = (url, params) => {\r\n  return axios.post('/API'+url, params);\r\n}\r\n\r\nexport default axios\r\n"]}]}